function a8_0x3861(_0x2fabff,_0x42d997){const _0x5d6341=a8_0x5d63();return a8_0x3861=function(_0x386183,_0x38acac){_0x386183=_0x386183-0xc6;let _0x281081=_0x5d6341[_0x386183];return _0x281081;},a8_0x3861(_0x2fabff,_0x42d997);}const a8_0x20e9dd=a8_0x3861;(function(_0x3b778e,_0xe23859){const _0x5e7008=a8_0x3861,_0x4e6484=_0x3b778e();while(!![]){try{const _0x35f09c=parseInt(_0x5e7008(0xfc))/0x1+parseInt(_0x5e7008(0xcc))/0x2*(parseInt(_0x5e7008(0xca))/0x3)+parseInt(_0x5e7008(0xfa))/0x4*(-parseInt(_0x5e7008(0xeb))/0x5)+-parseInt(_0x5e7008(0xda))/0x6+-parseInt(_0x5e7008(0xf7))/0x7*(-parseInt(_0x5e7008(0xdd))/0x8)+-parseInt(_0x5e7008(0xd0))/0x9+parseInt(_0x5e7008(0xff))/0xa*(parseInt(_0x5e7008(0x101))/0xb);if(_0x35f09c===_0xe23859)break;else _0x4e6484['push'](_0x4e6484['shift']());}catch(_0x3b97ce){_0x4e6484['push'](_0x4e6484['shift']());}}}(a8_0x5d63,0xabe4f));const {messageBufferMAXLENGTH}=require(a8_0x20e9dd(0xf9)),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require('../util/misc'),{renderKeywords}=require(a8_0x20e9dd(0xc8)),terminal=require(a8_0x20e9dd(0xcd)),getGroups=async()=>{const _0x9271b1=a8_0x20e9dd;let _0x3280cd=await client['getChats'](),_0x3ebf6f=await _0x3280cd[_0x9271b1(0xec)](_0x4e37c7=>_0x4e37c7[_0x9271b1(0xfd)]==!![]&&_0x4e37c7[_0x9271b1(0xea)]!=undefined&&_0x4e37c7['id'][_0x9271b1(0xee)]!=settings['GroupID']);return _0x3ebf6f=_0x3ebf6f[_0x9271b1(0x108)](_0x4e8cd3=>({'name':_0x4e8cd3[_0x9271b1(0xea)],'chatid':_0x4e8cd3['id'][_0x9271b1(0xee)]})),_0x3ebf6f;},storeMedia=async(_0x1e00a5,_0x569a6e)=>{const _0xd5cea6=a8_0x20e9dd,_0x20a7a9=getDriveID();if(_0x20a7a9=='')return terminal['logger'](_0xd5cea6(0xc6),0x1),'';const _0xf4e0e4=await _0x1e00a5['downloadMedia'](),_0x42cf8f=await data2Stream(_0xf4e0e4,_0x569a6e);try{const _0x41640d=await global['Gdrive'][_0xd5cea6(0xdb)](_0x20a7a9,_0x42cf8f);return _0x41640d['data'][_0xd5cea6(0xe5)];}catch(_0x4f541d){terminal[_0xd5cea6(0xd1)](_0xd5cea6(0x105)+_0x4f541d);}},isRepeated=async({message:_0x346e56,phone:_0x3fe9a9})=>{const _0x36451c=a8_0x20e9dd,_0x5429c0=messageBuffer['some'](_0x1e3fa9=>_0x1e3fa9[_0x36451c(0xde)]==_0x346e56&&_0x1e3fa9[_0x36451c(0xe2)]==_0x3fe9a9);return _0x5429c0;},isMatchText=(_0x5800db,_0x3beedf)=>{const _0x1f973f=a8_0x20e9dd;_0x3beedf=normalizeArabic(_0x3beedf);if(_0x3beedf[_0x1f973f(0x102)]('++')){let _0x32ea4f=_0x3beedf['split']('++')['map'](_0xe64783=>_0xe64783[_0x1f973f(0xf2)]())['filter'](_0x44c269=>_0x44c269!=='');return _0x32ea4f[_0x1f973f(0x107)](_0x599911=>_0x5800db[_0x1f973f(0x102)](_0x599911));}else return _0x5800db['includes'](_0x3beedf);},receivedmsgHandler=async _0xa3f8da=>{const _0x3cf08c=a8_0x20e9dd,_0x43b9dd=new Date(),_0x535d4f=_0x43b9dd[_0x3cf08c(0xd4)](_0x3cf08c(0xd3))+'\x20'+_0x43b9dd[_0x3cf08c(0xe3)](_0x3cf08c(0x106));let _0x77652=await _0xa3f8da[_0x3cf08c(0xfe)]();const _0x2e07d=_0x77652[_0x3cf08c(0xfd)],_0x3c7d72=_0x2e07d?_0xa3f8da['from']:'private',_0xfb88b6=_0x2e07d?_0xa3f8da[_0x3cf08c(0xe1)][_0x3cf08c(0xd7)]('@')[0x0]:_0xa3f8da[_0x3cf08c(0xf6)]['split']('@')[0x0],_0x9a459c=normalizeArabic(_0xa3f8da[_0x3cf08c(0xd5)]);if(await isFiltered(_0x9a459c)){terminal[_0x3cf08c(0xe6)](_0x3cf08c(0xf4)+_0xfb88b6,0x1);return;}if(await isFilteredPhone(_0xfb88b6)){terminal[_0x3cf08c(0xe6)](_0x3cf08c(0xdf)+_0xfb88b6,0x1);return;}if(await isRepeated({'message':_0x9a459c,'phone':_0xfb88b6})){terminal[_0x3cf08c(0xe6)](_0x3cf08c(0xe4)+_0xfb88b6,0x1);return;}for(const _0x49246f of global[_0x3cf08c(0xd6)]){let _0x4c78d5=_0x49246f[_0x3cf08c(0xe8)][_0x3cf08c(0xce)](_0x2d3b3a=>_0x2d3b3a[_0x3cf08c(0xd2)]==_0x3c7d72||_0x2e07d&&_0x2d3b3a[_0x3cf08c(0xd2)]==_0x3cf08c(0xc7)||_0x2e07d&&_0x2d3b3a[_0x3cf08c(0xd2)]==_0x3cf08c(0x103)&&_0x2d3b3a[_0x3cf08c(0x103)]['every'](_0x3767b5=>_0x3767b5[_0x3cf08c(0xd2)]!=_0x3c7d72)),_0x4eb208=_0x49246f['keywords']['some'](_0x471dbc=>{const _0x55b3ec=_0x3cf08c;if(Array[_0x55b3ec(0xd8)](_0x471dbc)){let _0x7fdf0b=!![];return _0x471dbc[_0x55b3ec(0xed)](_0x34ccfc=>{const _0xaffdf4=_0x55b3ec;Array[_0xaffdf4(0xd8)](_0x34ccfc)?_0x7fdf0b=_0x7fdf0b&&_0x34ccfc[_0xaffdf4(0xce)](_0x5ba822=>{const _0x1d8c6d=_0xaffdf4;return _0x5ba822=normalizeArabic(_0x5ba822),_0x9a459c[_0x1d8c6d(0x102)](_0x5ba822);}):_0x7fdf0b=_0x7fdf0b&&isMatchText(_0x9a459c,_0x34ccfc);}),_0x7fdf0b;}else return isMatchText(_0x9a459c,_0x471dbc);}),_0x231b34=_0x49246f[_0x3cf08c(0xef)]['some'](_0x3a1464=>{const _0x33a980=_0x3cf08c;if(Array[_0x33a980(0xd8)](_0x3a1464)){let _0x553ae7=!![];return _0x3a1464[_0x33a980(0xed)](_0x54d938=>{const _0x3465c5=_0x33a980;Array[_0x3465c5(0xd8)](_0x54d938)?_0x553ae7=_0x553ae7&&_0x54d938['some'](_0x5ef7f2=>{const _0x1ec341=_0x3465c5;return _0x5ef7f2=normalizeArabic(_0x5ef7f2),_0x9a459c[_0x1ec341(0x102)](_0x5ef7f2);}):_0x553ae7=_0x553ae7&&isMatchText(_0x9a459c,_0x54d938);}),_0x553ae7;}else return isMatchText(_0x9a459c,_0x3a1464);});if(_0x4c78d5)_0x77652[_0x3cf08c(0xd9)]();if(_0x4c78d5&&_0x4eb208&&!_0x231b34){const _0x3a3f14=getSheetID();if(_0x3a3f14=='')return;let _0x238870=_0x2e07d?(await getGroups())[_0x3cf08c(0xec)](_0x401521=>_0x401521[_0x3cf08c(0xd2)]==_0x3c7d72)[0x0][_0x3cf08c(0xea)]:_0x3cf08c(0xf5),_0x5dd854=renderKeywords(_0x49246f[_0x3cf08c(0xf8)]),_0x120dbb=_0xa3f8da[_0x3cf08c(0xe0)]?await storeMedia(_0xa3f8da,_0xfb88b6):'';const _0x5bde35=[_0x535d4f,_0xfb88b6,_0x238870,_0x9a459c,_0x120dbb,_0x49246f[_0x3cf08c(0xea)],_0x5dd854];terminal[_0x3cf08c(0xe6)](_0x3cf08c(0x100)+_0x238870+'-'+_0xfb88b6+'=>'+_0xa3f8da[_0x3cf08c(0xfb)]);const _0x276bfd=_0x49246f['gsheet'][_0x3cf08c(0x104)];try{Gsheet[_0x3cf08c(0xe9)](_0x276bfd,_0x5bde35);}catch(_0x6e9084){terminal['red'](_0x3cf08c(0xcf)+_0x6e9084);}if(_0x49246f[_0x3cf08c(0xf3)]&&_0x2e07d)_0xa3f8da[_0x3cf08c(0xf3)](_0x49246f[_0x3cf08c(0xf3)]);if(_0x49246f['replyprivate'])client[_0x3cf08c(0xe7)](_0xfb88b6+_0x3cf08c(0xcb),_0x49246f[_0x3cf08c(0xf0)]);let _0x190e85=messageBuffer[_0x3cf08c(0xc9)];_0x190e85>messageBufferMAXLENGTH&&messageBuffer['splice'](0x0,_0x190e85-messageBufferMAXLENGTH),global[_0x3cf08c(0xf1)][_0x3cf08c(0xdc)]({'message':_0x9a459c,'phone':_0xfb88b6});}}};function a8_0x5d63(){const _0x16afc4=['body','conditions','split','isArray','sendSeen','3713178mYmqYd','createFile','push','8536aBBqdh','message','[FILTERED\x20PHONE!]\x20','hasMedia','author','phone','toLocaleTimeString','[REPEATED\x20MESSAGE!]\x20','webViewLink','logger','sendMessage','applicable','addMatch','name','5RAFIMZ','filter','forEach','_serialized','blockedkeywords','replyprivate','messageBuffer','trim','reply','[FILTERED\x20WORD!]\x20','Private','from','5537YOBJoA','keywords','../config','4162012FxKzxZ','type','414941MxpLHO','isGroup','getChat','50OMwobi','[MATCH!]\x20','3230183jWmBFG','includes','except','sheetId','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','en-EG','every','map','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','allgroups','./controlMsgHandler','length','3wcddmq','@c.us','612268pbCufI','../util/terminal','some','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','6029028uzqDFe','red','chatid','en-GB','toLocaleDateString'];a8_0x5d63=function(){return _0x16afc4;};return a8_0x5d63();}module['exports']={'receivedmsgHandler':receivedmsgHandler};