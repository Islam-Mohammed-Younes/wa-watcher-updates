const a8_0x30ff62=a8_0x7df7;function a8_0x7df7(_0x5e9c09,_0x53956e){const _0x37e980=a8_0x37e9();return a8_0x7df7=function(_0x7df7b2,_0x29c4c5){_0x7df7b2=_0x7df7b2-0x11e;let _0x5c9f0a=_0x37e980[_0x7df7b2];return _0x5c9f0a;},a8_0x7df7(_0x5e9c09,_0x53956e);}function a8_0x37e9(){const _0x54f440=['[FILTERED\x20WORD!]\x20','messageBuffer','name','private','hasMedia','push','trim','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','some','red','forEach','sheetId','726092hPeXtJ','reply','./controlMsgHandler','conditions','9OyePes','isArray','en-GB','GroupID','from','en-EG','../util/files','../util/terminal','map','applicable','731526OYZckL','addMatch','../config','gsheet','Private','blockedkeywords','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','keywords','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','[MATCH!]\x20','7rytUlW','[REPEATED\x20MESSAGE!]\x20','@c.us','splice','includes','createFile','except','every','8044152jyqtvj','logger','filter','3476205MelHAw','type','getChats','[FILTERED\x20PHONE!]\x20','isGroup','split','phone','exports','message','950972pVFihE','15166620AyAIun','12pYCJIK','sendMessage','_serialized','218902YtkdAl','webViewLink','../util/dataOps','downloadMedia','length','chatid'];a8_0x37e9=function(){return _0x54f440;};return a8_0x37e9();}(function(_0x53ef2b,_0x550df0){const _0x3d30c1=a8_0x7df7,_0x553149=_0x53ef2b();while(!![]){try{const _0x8b570d=parseInt(_0x3d30c1(0x12a))/0x1+-parseInt(_0x3d30c1(0x15b))/0x2*(parseInt(_0x3d30c1(0x158))/0x3)+parseInt(_0x3d30c1(0x156))/0x4+parseInt(_0x3d30c1(0x14d))/0x5+parseInt(_0x3d30c1(0x138))/0x6*(-parseInt(_0x3d30c1(0x142))/0x7)+-parseInt(_0x3d30c1(0x14a))/0x8*(-parseInt(_0x3d30c1(0x12e))/0x9)+-parseInt(_0x3d30c1(0x157))/0xa;if(_0x8b570d===_0x550df0)break;else _0x553149['push'](_0x553149['shift']());}catch(_0xfabcb8){_0x553149['push'](_0x553149['shift']());}}}(a8_0x37e9,0x8f9b0));const {messageBufferMAXLENGTH}=require(a8_0x30ff62(0x13a)),{getSheetID,getDriveID}=require(a8_0x30ff62(0x134)),{data2Stream}=require(a8_0x30ff62(0x15d)),{isFiltered,isFilteredPhone,normalizeArabic}=require('../util/misc'),{renderKeywords}=require(a8_0x30ff62(0x12c)),terminal=require(a8_0x30ff62(0x135)),getGroups=async()=>{const _0x2457dd=a8_0x30ff62;let _0x2e620b=await client[_0x2457dd(0x14f)](),_0x22192f=await _0x2e620b[_0x2457dd(0x14c)](_0x9f0e4b=>_0x9f0e4b[_0x2457dd(0x151)]==!![]&&_0x9f0e4b['name']!=undefined&&_0x9f0e4b['id'][_0x2457dd(0x15a)]!=settings[_0x2457dd(0x131)]);return _0x22192f=_0x22192f[_0x2457dd(0x136)](_0x7372ed=>({'name':_0x7372ed[_0x2457dd(0x120)],'chatid':_0x7372ed['id'][_0x2457dd(0x15a)]})),_0x22192f;},storeMedia=async(_0x596791,_0x2e0bd5)=>{const _0x4a829a=a8_0x30ff62,_0x58c40f=getDriveID();if(_0x58c40f=='')return terminal['logger'](_0x4a829a(0x140),0x1),'';const _0xbb3e3d=await _0x596791[_0x4a829a(0x15e)](),_0x12576b=await data2Stream(_0xbb3e3d,_0x2e0bd5);try{const _0x266c2c=await global['Gdrive'][_0x4a829a(0x147)](_0x58c40f,_0x12576b);return _0x266c2c['data'][_0x4a829a(0x15c)];}catch(_0x4f4da4){terminal[_0x4a829a(0x127)](_0x4a829a(0x125)+_0x4f4da4);}},isRepeated=async({message:_0x3ae94c,phone:_0x4f3630})=>{const _0x146ec3=a8_0x30ff62,_0x47292a=messageBuffer['some'](_0x521e4c=>_0x521e4c[_0x146ec3(0x155)]==_0x3ae94c&&_0x521e4c[_0x146ec3(0x153)]==_0x4f3630);return _0x47292a;},isMatchText=(_0x373377,_0x335381)=>{const _0x4ef627=a8_0x30ff62;_0x335381=normalizeArabic(_0x335381);if(_0x335381[_0x4ef627(0x146)]('++')){let _0x7ea8d=_0x335381['split']('++')[_0x4ef627(0x136)](_0x376471=>_0x376471[_0x4ef627(0x124)]())['filter'](_0x239c53=>_0x239c53!=='');return _0x7ea8d[_0x4ef627(0x149)](_0x1ef2ef=>_0x373377['includes'](_0x1ef2ef));}else return _0x373377[_0x4ef627(0x146)](_0x335381);},receivedmsgHandler=async _0x40ca11=>{const _0x3b22b1=a8_0x30ff62,_0x5de362=new Date(),_0xeb06ca=_0x5de362['toLocaleDateString'](_0x3b22b1(0x130))+'\x20'+_0x5de362['toLocaleTimeString'](_0x3b22b1(0x133));let _0x339383=await _0x40ca11['getChat']();const _0x99fcd8=_0x339383[_0x3b22b1(0x151)],_0x388a23=_0x99fcd8?_0x40ca11[_0x3b22b1(0x132)]:_0x3b22b1(0x121),_0x1c5105=_0x99fcd8?_0x40ca11['author']['split']('@')[0x0]:_0x40ca11['from'][_0x3b22b1(0x152)]('@')[0x0],_0x5dfbc1=normalizeArabic(_0x40ca11['body']);if(await isFiltered(_0x5dfbc1)){terminal['logger'](_0x3b22b1(0x11e)+_0x1c5105,0x1);return;}if(await isFilteredPhone(_0x1c5105)){terminal[_0x3b22b1(0x14b)](_0x3b22b1(0x150)+_0x1c5105,0x1);return;}if(await isRepeated({'message':_0x5dfbc1,'phone':_0x1c5105})){terminal[_0x3b22b1(0x14b)](_0x3b22b1(0x143)+_0x1c5105,0x1);return;}for(const _0x491b0a of global[_0x3b22b1(0x12d)]){let _0x2ed749=_0x491b0a[_0x3b22b1(0x137)][_0x3b22b1(0x126)](_0x34acfb=>_0x34acfb[_0x3b22b1(0x160)]==_0x388a23||_0x99fcd8&&_0x34acfb[_0x3b22b1(0x160)]=='allgroups'||_0x99fcd8&&_0x34acfb[_0x3b22b1(0x160)]==_0x3b22b1(0x148)&&_0x34acfb[_0x3b22b1(0x148)]['every'](_0x1b0e8e=>_0x1b0e8e['chatid']!=_0x388a23)),_0x1a83e3=_0x491b0a['keywords'][_0x3b22b1(0x126)](_0xbfbea6=>{const _0x5a0530=_0x3b22b1;if(Array[_0x5a0530(0x12f)](_0xbfbea6)){let _0x541299=!![];return _0xbfbea6[_0x5a0530(0x128)](_0x45c7ab=>{const _0x4ff6e5=_0x5a0530;Array['isArray'](_0x45c7ab)?_0x541299=_0x541299&&_0x45c7ab[_0x4ff6e5(0x126)](_0x589ebc=>{const _0x1928a7=_0x4ff6e5;return _0x589ebc=normalizeArabic(_0x589ebc),_0x5dfbc1[_0x1928a7(0x146)](_0x589ebc);}):_0x541299=_0x541299&&isMatchText(_0x5dfbc1,_0x45c7ab);}),_0x541299;}else return isMatchText(_0x5dfbc1,_0xbfbea6);}),_0x4666a2=_0x491b0a[_0x3b22b1(0x13d)]['some'](_0x300261=>{const _0x190b26=_0x3b22b1;if(Array[_0x190b26(0x12f)](_0x300261)){let _0x23a9c7=!![];return _0x300261['forEach'](_0x47c4df=>{const _0x382b00=_0x190b26;Array[_0x382b00(0x12f)](_0x47c4df)?_0x23a9c7=_0x23a9c7&&_0x47c4df['some'](_0x1f34bd=>{const _0x1f99fc=_0x382b00;return _0x1f34bd=normalizeArabic(_0x1f34bd),_0x5dfbc1[_0x1f99fc(0x146)](_0x1f34bd);}):_0x23a9c7=_0x23a9c7&&isMatchText(_0x5dfbc1,_0x47c4df);}),_0x23a9c7;}else return isMatchText(_0x5dfbc1,_0x300261);});if(_0x2ed749)_0x339383['sendSeen']();if(_0x2ed749&&_0x1a83e3&&!_0x4666a2){const _0x481ec0=getSheetID();if(_0x481ec0=='')return;let _0x125964=_0x99fcd8?(await getGroups())[_0x3b22b1(0x14c)](_0x116eb6=>_0x116eb6[_0x3b22b1(0x160)]==_0x388a23)[0x0][_0x3b22b1(0x120)]:_0x3b22b1(0x13c),_0x3f8ed1=renderKeywords(_0x491b0a[_0x3b22b1(0x13f)]),_0x25ee75=_0x40ca11[_0x3b22b1(0x122)]?await storeMedia(_0x40ca11,_0x1c5105):'';const _0x2c8883=[_0xeb06ca,_0x1c5105,_0x125964,_0x5dfbc1,_0x25ee75,_0x491b0a[_0x3b22b1(0x120)],_0x3f8ed1];terminal[_0x3b22b1(0x14b)](_0x3b22b1(0x141)+_0x125964+'-'+_0x1c5105+'=>'+_0x40ca11[_0x3b22b1(0x14e)]);const _0x108607=_0x491b0a[_0x3b22b1(0x13b)][_0x3b22b1(0x129)];try{Gsheet[_0x3b22b1(0x139)](_0x108607,_0x2c8883);}catch(_0x4d518d){terminal['red'](_0x3b22b1(0x13e)+_0x4d518d);}if(_0x491b0a[_0x3b22b1(0x12b)]&&_0x99fcd8)_0x40ca11['reply'](_0x491b0a['reply']);if(_0x491b0a['replyprivate'])client[_0x3b22b1(0x159)](_0x1c5105+_0x3b22b1(0x144),_0x491b0a['replyprivate']);let _0x2e20c1=messageBuffer[_0x3b22b1(0x15f)];_0x2e20c1>messageBufferMAXLENGTH&&messageBuffer[_0x3b22b1(0x145)](0x0,_0x2e20c1-messageBufferMAXLENGTH),global[_0x3b22b1(0x11f)][_0x3b22b1(0x123)]({'message':_0x5dfbc1,'phone':_0x1c5105});}}};module[a8_0x30ff62(0x154)]={'receivedmsgHandler':receivedmsgHandler};