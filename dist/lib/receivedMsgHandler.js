const a8_0x314d94=a8_0x3fde;function a8_0x3fde(_0x43c6b1,_0x61428){const _0x471868=a8_0x4718();return a8_0x3fde=function(_0x3fde2e,_0x26759f){_0x3fde2e=_0x3fde2e-0x13b;let _0x4f4ecb=_0x471868[_0x3fde2e];return _0x4f4ecb;},a8_0x3fde(_0x43c6b1,_0x61428);}(function(_0x3943af,_0x377520){const _0xf3159c=a8_0x3fde,_0x2ccef8=_0x3943af();while(!![]){try{const _0x28a45b=-parseInt(_0xf3159c(0x160))/0x1+-parseInt(_0xf3159c(0x17e))/0x2*(parseInt(_0xf3159c(0x158))/0x3)+parseInt(_0xf3159c(0x186))/0x4+parseInt(_0xf3159c(0x155))/0x5*(-parseInt(_0xf3159c(0x145))/0x6)+parseInt(_0xf3159c(0x14d))/0x7+parseInt(_0xf3159c(0x161))/0x8*(parseInt(_0xf3159c(0x16c))/0x9)+-parseInt(_0xf3159c(0x184))/0xa*(-parseInt(_0xf3159c(0x15b))/0xb);if(_0x28a45b===_0x377520)break;else _0x2ccef8['push'](_0x2ccef8['shift']());}catch(_0x155661){_0x2ccef8['push'](_0x2ccef8['shift']());}}}(a8_0x4718,0x9a52b));const {messageBufferMAXLENGTH}=require(a8_0x314d94(0x146)),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require(a8_0x314d94(0x151)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x314d94(0x13c)),{renderKeywords}=require(a8_0x314d94(0x16a)),terminal=require(a8_0x314d94(0x169)),getGroups=async()=>{const _0x496ce0=a8_0x314d94;let _0x155265=await client['getChats'](),_0x4fe8de=await _0x155265[_0x496ce0(0x15a)](_0x26b718=>_0x26b718['isGroup']==!![]&&_0x26b718[_0x496ce0(0x173)]!=undefined&&_0x26b718['id'][_0x496ce0(0x178)]!=settings[_0x496ce0(0x144)]);return _0x4fe8de=_0x4fe8de[_0x496ce0(0x15c)](_0x183590=>({'name':_0x183590[_0x496ce0(0x173)],'chatid':_0x183590['id'][_0x496ce0(0x178)]})),_0x4fe8de;},storeMedia=async(_0x47c62d,_0x397ec0)=>{const _0x3e14f9=a8_0x314d94,_0x6a1d94=getDriveID();if(_0x6a1d94=='')return terminal['logger']('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0x2a5f6a=await _0x47c62d[_0x3e14f9(0x182)](),_0x328180=await data2Stream(_0x2a5f6a,_0x397ec0);try{const _0x4d251c=await global[_0x3e14f9(0x140)]['createFile'](_0x6a1d94,_0x328180);return _0x4d251c['data'][_0x3e14f9(0x163)];}catch(_0x5b729b){terminal[_0x3e14f9(0x172)](_0x3e14f9(0x164)+_0x5b729b);}},isRepeated=async({message:_0x40ebe8,phone:_0x5c7c45})=>{const _0x17d5a1=a8_0x314d94,_0x479c3c=messageBuffer[_0x17d5a1(0x157)](_0x5a7c27=>_0x5a7c27[_0x17d5a1(0x147)]==_0x40ebe8&&_0x5a7c27[_0x17d5a1(0x17d)]==_0x5c7c45);return _0x479c3c;},isMatchText=(_0x351ce9,_0x3387f9)=>{const _0x24bc27=a8_0x314d94;_0x3387f9=normalizeArabic(_0x3387f9);if(_0x3387f9['includes']('++')){let _0x227ca0=_0x3387f9['split']('++')[_0x24bc27(0x15c)](_0x3778a7=>_0x3778a7[_0x24bc27(0x171)]())[_0x24bc27(0x15a)](_0x20809a=>_0x20809a!=='');return _0x227ca0[_0x24bc27(0x14a)](_0x4071f9=>_0x351ce9[_0x24bc27(0x17c)](_0x4071f9));}else return _0x351ce9['includes'](_0x3387f9);},replaceVariables=async _0x2fdc26=>{const _0x313691=a8_0x314d94;try{const _0x1531f6=/\[=([a-zA-Z]+)!([A-Z]{1}\d+)\]/g;let _0x97c12c=[..._0x2fdc26[_0x313691(0x180)](_0x1531f6)];if(_0x97c12c['length']>0x0)for await(const _0x24ab62 of _0x97c12c){let _0x1cafdc=_0x24ab62[0x0],_0x28a3a6=_0x24ab62[0x1],_0x1994a5=_0x24ab62[0x2],_0x426bb3=await global[_0x313691(0x13e)][_0x313691(0x170)][_0x28a3a6];await _0x426bb3[_0x313691(0x185)](_0x1994a5);let _0x2061a3=String(_0x426bb3[_0x313691(0x174)](_0x1994a5)[_0x313691(0x17b)]);_0x2fdc26=_0x2fdc26[_0x313691(0x14b)](_0x1cafdc,_0x2061a3);}}catch(_0x27ef75){terminal['logger'](_0x313691(0x166),0x1);}return _0x2fdc26;},receivedmsgHandler=async _0x319235=>{const _0x40f8c0=a8_0x314d94,_0x5104f3=new Date(),_0xefff6=_0x5104f3[_0x40f8c0(0x143)](_0x40f8c0(0x168))+'\x20'+_0x5104f3[_0x40f8c0(0x15f)](_0x40f8c0(0x165));let _0x1ae14d=await _0x319235[_0x40f8c0(0x156)]();const _0x5269dc=_0x1ae14d[_0x40f8c0(0x16e)],_0x2459ee=_0x5269dc?_0x319235[_0x40f8c0(0x167)]:_0x40f8c0(0x15e),_0x3ecc17=_0x5269dc?_0x319235['author'][_0x40f8c0(0x16d)]('@')[0x0]:_0x319235[_0x40f8c0(0x167)][_0x40f8c0(0x16d)]('@')[0x0];let _0x2bd575=_0x5269dc?(await getGroups())[_0x40f8c0(0x15a)](_0x3c1d11=>_0x3c1d11['chatid']==_0x2459ee)[0x0]['name']:'Private';const _0x5bfe30=normalizeArabic(_0x319235[_0x40f8c0(0x153)]);if(await isFiltered(_0x5bfe30)){terminal[_0x40f8c0(0x13d)]('['+_0xefff6+_0x40f8c0(0x15d)+_0x2bd575+'-'+_0x3ecc17,0x1);return;}if(await isFilteredPhone(_0x3ecc17)){terminal['logger']('['+_0xefff6+_0x40f8c0(0x13f)+_0x2bd575+'-'+_0x3ecc17,0x1);return;}if(await isRepeated({'message':_0x5bfe30,'phone':_0x3ecc17})){terminal[_0x40f8c0(0x13d)]('['+_0xefff6+_0x40f8c0(0x181)+_0x2bd575+'-'+_0x3ecc17,0x1);return;}for(const _0x228337 of global[_0x40f8c0(0x17a)]){let _0xdb88cc=_0x228337['applicable']['some'](_0x31b69d=>_0x31b69d[_0x40f8c0(0x148)]==_0x2459ee||_0x5269dc&&_0x31b69d[_0x40f8c0(0x148)]==_0x40f8c0(0x141)||_0x5269dc&&_0x31b69d['chatid']==_0x40f8c0(0x17f)&&_0x31b69d[_0x40f8c0(0x17f)][_0x40f8c0(0x14a)](_0x48d438=>_0x48d438[_0x40f8c0(0x148)]!=_0x2459ee)),_0xa016ae=_0x228337['keywords'][_0x40f8c0(0x157)](_0x5081f4=>{const _0x49fa85=_0x40f8c0;if(Array[_0x49fa85(0x14f)](_0x5081f4)){let _0x2295e0=!![];return _0x5081f4[_0x49fa85(0x183)](_0x453396=>{const _0x286a97=_0x49fa85;Array['isArray'](_0x453396)?_0x2295e0=_0x2295e0&&_0x453396[_0x286a97(0x157)](_0x12eb3e=>{const _0x55f21e=_0x286a97;return _0x12eb3e=normalizeArabic(_0x12eb3e),_0x5bfe30[_0x55f21e(0x17c)](_0x12eb3e);}):_0x2295e0=_0x2295e0&&isMatchText(_0x5bfe30,_0x453396);}),_0x2295e0;}else return isMatchText(_0x5bfe30,_0x5081f4);}),_0x66a09d=_0x228337[_0x40f8c0(0x177)][_0x40f8c0(0x157)](_0x136fb4=>{const _0x42d3c7=_0x40f8c0;if(Array[_0x42d3c7(0x14f)](_0x136fb4)){let _0x37e012=!![];return _0x136fb4[_0x42d3c7(0x183)](_0x37fda8=>{const _0x4edfbb=_0x42d3c7;Array[_0x4edfbb(0x14f)](_0x37fda8)?_0x37e012=_0x37e012&&_0x37fda8[_0x4edfbb(0x157)](_0x29e756=>{return _0x29e756=normalizeArabic(_0x29e756),_0x5bfe30['includes'](_0x29e756);}):_0x37e012=_0x37e012&&isMatchText(_0x5bfe30,_0x37fda8);}),_0x37e012;}else return isMatchText(_0x5bfe30,_0x136fb4);});if(_0xdb88cc)_0x1ae14d[_0x40f8c0(0x149)]();if(_0xdb88cc&&_0xa016ae&&!_0x66a09d){const _0x414fc1=getSheetID();if(_0x414fc1=='')return;let _0x5263bb=renderKeywords(_0x228337[_0x40f8c0(0x152)]),_0x4a4486=_0x319235['hasMedia']?await storeMedia(_0x319235,_0x3ecc17):'';const _0x45c2b3=[_0xefff6,_0x3ecc17,_0x2bd575,_0x5bfe30,_0x4a4486,_0x228337[_0x40f8c0(0x173)],_0x5263bb];terminal[_0x40f8c0(0x13d)]('['+_0xefff6+_0x40f8c0(0x14e)+_0x2bd575+'-'+_0x3ecc17+'=>'+_0x319235[_0x40f8c0(0x14c)]+'\x20'+_0x5263bb);const _0x23082a=_0x228337[_0x40f8c0(0x13b)][_0x40f8c0(0x175)];try{Gsheet[_0x40f8c0(0x150)](_0x23082a,_0x45c2b3);}catch(_0x25a749){terminal[_0x40f8c0(0x172)]('['+_0xefff6+_0x40f8c0(0x176)+_0x25a749);}_0x228337[_0x40f8c0(0x154)]&&_0x5269dc&&_0x319235[_0x40f8c0(0x154)](await replaceVariables(_0x228337['reply']));_0x228337[_0x40f8c0(0x16f)]&&client[_0x40f8c0(0x16b)](_0x3ecc17+_0x40f8c0(0x162),await replaceVariables(_0x228337['replyprivate']));let _0x65eed5=messageBuffer[_0x40f8c0(0x142)];_0x65eed5>messageBufferMAXLENGTH&&messageBuffer[_0x40f8c0(0x159)](0x0,_0x65eed5-messageBufferMAXLENGTH),global['messageBuffer']['push']({'message':_0x5bfe30,'phone':_0x3ecc17});}}};function a8_0x4718(){const _0x3524e4=[']\x20[REPEATED\x20MESSAGE!]\x20','downloadMedia','forEach','730HphXNn','loadCells','2650056hAEsrE','gsheet','../util/misc','logger','GSpreadsheet',']\x20[FILTERED\x20PHONE!]\x20','Gdrive','allgroups','length','toLocaleDateString','GroupID','89874YueoXM','../config','message','chatid','sendSeen','every','replace','type','1071399lHXwhf',']\x20[MATCH!]\x20','isArray','addMatch','../util/dataOps','keywords','body','reply','65oqEhSN','getChat','some','3NgCfmd','splice','filter','2013vXcNbc','map',']\x20[FILTERED\x20WORD!]\x20','private','toLocaleTimeString','355815ljrjwb','3015352ckzoQe','@c.us','webViewLink','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','en-EG','[WARN!]\x20Cannot\x20get\x20variables\x0amake\x20sure\x20the\x20variables\x20worksheet\x20exists','from','en-GB','../util/terminal','./controlMsgHandler','sendMessage','27GZTZrS','split','isGroup','replyprivate','sheetsByTitle','trim','red','name','getCellByA1','sheetId',']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','blockedkeywords','_serialized','exports','conditions','formattedValue','includes','phone','1554076vteKrR','except','matchAll'];a8_0x4718=function(){return _0x3524e4;};return a8_0x4718();}module[a8_0x314d94(0x179)]={'receivedmsgHandler':receivedmsgHandler};