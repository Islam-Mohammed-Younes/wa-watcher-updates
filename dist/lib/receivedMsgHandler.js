const a8_0x19471b=a8_0x5469;(function(_0x2562ee,_0x16f65e){const _0x5ca575=a8_0x5469,_0x14852c=_0x2562ee();while(!![]){try{const _0xfa2d4=-parseInt(_0x5ca575(0xaa))/0x1*(parseInt(_0x5ca575(0x85))/0x2)+-parseInt(_0x5ca575(0xb0))/0x3+-parseInt(_0x5ca575(0x7c))/0x4*(parseInt(_0x5ca575(0xa7))/0x5)+parseInt(_0x5ca575(0xa8))/0x6+parseInt(_0x5ca575(0x77))/0x7+-parseInt(_0x5ca575(0xaf))/0x8+-parseInt(_0x5ca575(0x81))/0x9*(-parseInt(_0x5ca575(0xb5))/0xa);if(_0xfa2d4===_0x16f65e)break;else _0x14852c['push'](_0x14852c['shift']());}catch(_0x2ae0f6){_0x14852c['push'](_0x14852c['shift']());}}}(a8_0x4f92,0x4695a));const {messageBufferMAXLENGTH}=require(a8_0x19471b(0x82)),{getSheetID,getDriveID}=require(a8_0x19471b(0x97)),{data2Stream}=require(a8_0x19471b(0x74)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x19471b(0x98)),{renderKeywords}=require('./controlMsgHandler'),terminal=require(a8_0x19471b(0xa3)),getGroups=async()=>{const _0x27e818=a8_0x19471b;let _0x20ba71=await client[_0x27e818(0xa9)](),_0x492ac2=await _0x20ba71[_0x27e818(0x86)](_0x41d80a=>_0x41d80a['isGroup']==!![]&&_0x41d80a[_0x27e818(0x99)]!=undefined&&_0x41d80a['id']['_serialized']!=settings[_0x27e818(0x89)]);return _0x492ac2=_0x492ac2[_0x27e818(0x88)](_0x2420e0=>({'name':_0x2420e0[_0x27e818(0x99)],'chatid':_0x2420e0['id'][_0x27e818(0x93)]})),_0x492ac2;},storeMedia=async(_0xea6c52,_0x182469)=>{const _0x6f2d9c=a8_0x19471b,_0x3c143b=getDriveID();if(_0x3c143b=='')return terminal[_0x6f2d9c(0xa0)](_0x6f2d9c(0x76),0x1),'';const _0x4cab26=await _0xea6c52[_0x6f2d9c(0x8d)](),_0x526262=await data2Stream(_0x4cab26,_0x182469);try{const _0x17b3c1=await global[_0x6f2d9c(0x7d)][_0x6f2d9c(0xa2)](_0x3c143b,_0x526262);return _0x17b3c1[_0x6f2d9c(0x70)][_0x6f2d9c(0xb2)];}catch(_0x476d42){terminal[_0x6f2d9c(0xab)](_0x6f2d9c(0xb4)+_0x476d42);}},isRepeated=async({message:_0x5303a1,phone:_0x3f6bea})=>{const _0x28bd2d=a8_0x19471b,_0x1ff9e4=messageBuffer[_0x28bd2d(0x9c)](_0x1c5fa9=>_0x1c5fa9[_0x28bd2d(0xa4)]==_0x5303a1&&_0x1c5fa9[_0x28bd2d(0xb3)]==_0x3f6bea);return _0x1ff9e4;},isMatchText=(_0x4662d8,_0x16c414)=>{const _0x26cd8b=a8_0x19471b;_0x16c414=normalizeArabic(_0x16c414);if(_0x16c414['includes']('++')){let _0x11bf6d=_0x16c414[_0x26cd8b(0xb1)]('++')[_0x26cd8b(0x88)](_0x2c3261=>_0x2c3261[_0x26cd8b(0xad)]())[_0x26cd8b(0x86)](_0x23014c=>_0x23014c!=='');return _0x11bf6d[_0x26cd8b(0x8c)](_0x5bb996=>_0x4662d8[_0x26cd8b(0x94)](_0x5bb996));}else return _0x4662d8['includes'](_0x16c414);},receivedmsgHandler=async _0x49c23b=>{const _0x325c00=a8_0x19471b,_0x5995c8=new Date(),_0x571c53=_0x5995c8[_0x325c00(0x96)](_0x325c00(0xae))+'\x20'+_0x5995c8['toLocaleTimeString'](_0x325c00(0x7e));let _0x4b4e7c=await _0x49c23b[_0x325c00(0x8e)]();const _0x3dad45=_0x4b4e7c[_0x325c00(0x9e)],_0xfabbc2=_0x3dad45?_0x49c23b[_0x325c00(0x71)]:_0x325c00(0x95),_0x3fe9eb=_0x3dad45?_0x49c23b[_0x325c00(0x9b)]['split']('@')[0x0]:_0x49c23b[_0x325c00(0x71)][_0x325c00(0xb1)]('@')[0x0],_0x1098b7=normalizeArabic(_0x49c23b[_0x325c00(0x9d)]);if(await isFiltered(_0x1098b7)){terminal[_0x325c00(0xa0)](_0x325c00(0x92)+_0x3fe9eb,0x1);return;}if(await isFilteredPhone(_0x3fe9eb)){terminal[_0x325c00(0xa0)]('[FILTERED\x20PHONE!]\x20'+_0x3fe9eb,0x1);return;}if(await isRepeated({'message':_0x1098b7,'phone':_0x3fe9eb})){terminal[_0x325c00(0xa0)]('[REPEATED\x20MESSAGE!]\x20'+_0x3fe9eb,0x1);return;}for(const _0x323068 of global[_0x325c00(0x73)]){let _0xb20e4a=_0x323068['applicable'][_0x325c00(0x9c)](_0x4891d3=>_0x4891d3['chatid']==_0xfabbc2||_0x3dad45&&_0x4891d3['chatid']=='allgroups'||_0x3dad45&&_0x4891d3['chatid']==_0x325c00(0x78)&&_0x4891d3['except'][_0x325c00(0x8c)](_0x367317=>_0x367317[_0x325c00(0x72)]!=_0xfabbc2)),_0x59ea65=_0x323068[_0x325c00(0xac)][_0x325c00(0x9c)](_0x199c48=>{const _0x40dac9=_0x325c00;if(Array['isArray'](_0x199c48)){let _0x2b9f36=!![];return _0x199c48[_0x40dac9(0x7a)](_0x537c18=>{const _0x2216e7=_0x40dac9;Array[_0x2216e7(0x9f)](_0x537c18)?_0x2b9f36=_0x2b9f36&&_0x537c18[_0x2216e7(0x9c)](_0x520974=>{const _0x2eecdd=_0x2216e7;return _0x520974=normalizeArabic(_0x520974),_0x1098b7[_0x2eecdd(0x94)](_0x520974);}):_0x2b9f36=_0x2b9f36&&isMatchText(_0x1098b7,_0x537c18);}),_0x2b9f36;}else return isMatchText(_0x1098b7,_0x199c48);}),_0x17a2c6=_0x323068[_0x325c00(0xa6)][_0x325c00(0x9c)](_0x1e9f70=>{const _0x170c5c=_0x325c00;if(Array[_0x170c5c(0x9f)](_0x1e9f70)){let _0x29fa7e=!![];return _0x1e9f70[_0x170c5c(0x7a)](_0x501a04=>{const _0x544bab=_0x170c5c;Array['isArray'](_0x501a04)?_0x29fa7e=_0x29fa7e&&_0x501a04[_0x544bab(0x9c)](_0x58215d=>{const _0x49a4ce=_0x544bab;return _0x58215d=normalizeArabic(_0x58215d),_0x1098b7[_0x49a4ce(0x94)](_0x58215d);}):_0x29fa7e=_0x29fa7e&&isMatchText(_0x1098b7,_0x501a04);}),_0x29fa7e;}else return isMatchText(_0x1098b7,_0x1e9f70);});if(_0xb20e4a)_0x4b4e7c[_0x325c00(0x80)]();if(_0xb20e4a&&_0x59ea65&&!_0x17a2c6){const _0x20056e=getSheetID();if(_0x20056e=='')return;let _0xef97f9=_0x3dad45?(await getGroups())['filter'](_0xa144e9=>_0xa144e9[_0x325c00(0x72)]==_0xfabbc2)[0x0][_0x325c00(0x99)]:_0x325c00(0x75),_0x5e46ca=renderKeywords(_0x323068['keywords']),_0x3fd882=_0x49c23b[_0x325c00(0x7f)]?await storeMedia(_0x49c23b,_0x3fe9eb):'';const _0x11dc2c=[_0x571c53,_0x3fe9eb,_0xef97f9,_0x1098b7,_0x3fd882,_0x323068[_0x325c00(0x99)],_0x5e46ca];terminal['logger'](_0x325c00(0x87)+_0xef97f9+'-'+_0x3fe9eb+'=>'+_0x49c23b[_0x325c00(0xa1)]);const _0x18315b=_0x323068[_0x325c00(0x9a)]['sheetId'];try{Gsheet[_0x325c00(0x83)](_0x18315b,_0x11dc2c);}catch(_0x4bf506){terminal['red'](_0x325c00(0x91)+_0x4bf506);}if(_0x323068[_0x325c00(0x8f)]&&_0x3dad45)_0x49c23b[_0x325c00(0x8f)](_0x323068[_0x325c00(0x8f)]);if(_0x323068[_0x325c00(0x7b)])client[_0x325c00(0x90)](_0x3fe9eb+'@c.us',_0x323068['replyprivate']);let _0x1b3666=messageBuffer[_0x325c00(0x84)];_0x1b3666>messageBufferMAXLENGTH&&messageBuffer[_0x325c00(0x8a)](0x0,_0x1b3666-messageBufferMAXLENGTH),global[_0x325c00(0x8b)][_0x325c00(0xa5)]({'message':_0x1098b7,'phone':_0x3fe9eb});}}};function a8_0x5469(_0xed293f,_0x41cc40){const _0x4f924a=a8_0x4f92();return a8_0x5469=function(_0x5469a8,_0x22e3e3){_0x5469a8=_0x5469a8-0x70;let _0x26424c=_0x4f924a[_0x5469a8];return _0x26424c;},a8_0x5469(_0xed293f,_0x41cc40);}function a8_0x4f92(){const _0x258c04=['logger','type','createFile','../util/terminal','message','push','blockedkeywords','124075JbiybG','2923302CqGycN','getChats','711hLrkuf','red','keywords','trim','en-GB','3079976tmxnzI','366927tmnEZp','split','webViewLink','phone','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','420PPRMXW','data','from','chatid','conditions','../util/dataOps','Private','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','114233PpqnJY','except','exports','forEach','replyprivate','36UtRiPd','Gdrive','en-EG','hasMedia','sendSeen','187254foFdZq','../config','addMatch','length','1006PNsBLQ','filter','[MATCH!]\x20','map','GroupID','splice','messageBuffer','every','downloadMedia','getChat','reply','sendMessage','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','[FILTERED\x20WORD!]\x20','_serialized','includes','private','toLocaleDateString','../util/files','../util/misc','name','gsheet','author','some','body','isGroup','isArray'];a8_0x4f92=function(){return _0x258c04;};return a8_0x4f92();}module[a8_0x19471b(0x79)]={'receivedmsgHandler':receivedmsgHandler};