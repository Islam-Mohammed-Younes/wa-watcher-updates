const a8_0x953b43=a8_0x20d1;(function(_0x5ca7bc,_0x2dc990){const _0x5c03cc=a8_0x20d1,_0xca1a68=_0x5ca7bc();while(!![]){try{const _0x2a0d4=parseInt(_0x5c03cc(0x18e))/0x1*(parseInt(_0x5c03cc(0x19f))/0x2)+parseInt(_0x5c03cc(0x196))/0x3*(parseInt(_0x5c03cc(0x198))/0x4)+parseInt(_0x5c03cc(0x1b8))/0x5+parseInt(_0x5c03cc(0x18f))/0x6*(-parseInt(_0x5c03cc(0x1b6))/0x7)+-parseInt(_0x5c03cc(0x18d))/0x8+-parseInt(_0x5c03cc(0x1ab))/0x9+-parseInt(_0x5c03cc(0x1a1))/0xa;if(_0x2a0d4===_0x2dc990)break;else _0xca1a68['push'](_0xca1a68['shift']());}catch(_0x5645e9){_0xca1a68['push'](_0xca1a68['shift']());}}}(a8_0x4ffa,0x2094e));function a8_0x4ffa(){const _0x667f7=['../util/dataOps','downloadMedia','chatid','en-GB','message','replyprivate','author','../util/misc','blockedkeywords','../util/terminal','keywords','sendMessage','red','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','body','1309712kxfnsF','303dZBRvd','43266talYeU','applicable','createFile','some','isArray','_serialized','trim','1335nPcVSF','[FILTERED\x20PHONE!]\x20','2312whiAwE','every','map','forEach','en-EG','isGroup','getChats','282XKDqYG','split','2024840bVdeFQ','hasMedia','reply','[MATCH!]\x20','./controlMsgHandler','name','messageBuffer','[FILTERED\x20WORD!]\x20','logger','except','109602FItkbb','webViewLink','addMatch','includes','splice','from','length','sendSeen','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','phone','filter','35kmzOKo','Private','1239760cIwcvT','sheetId','type','../config','Gdrive','../util/files','[REPEATED\x20MESSAGE!]\x20','push','gsheet','conditions','private'];a8_0x4ffa=function(){return _0x667f7;};return a8_0x4ffa();}const {messageBufferMAXLENGTH}=require(a8_0x953b43(0x1bb)),{getSheetID,getDriveID}=require(a8_0x953b43(0x1bd)),{data2Stream}=require(a8_0x953b43(0x17e)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x953b43(0x185)),{renderKeywords}=require(a8_0x953b43(0x1a5)),terminal=require(a8_0x953b43(0x187)),getGroups=async()=>{const _0x57ae4c=a8_0x953b43;let _0x170bfe=await client[_0x57ae4c(0x19e)](),_0x418fd3=await _0x170bfe[_0x57ae4c(0x1b5)](_0x2b3f3f=>_0x2b3f3f[_0x57ae4c(0x19d)]==!![]&&_0x2b3f3f[_0x57ae4c(0x1a6)]!=undefined&&_0x2b3f3f['id']['_serialized']!=settings['GroupID']);return _0x418fd3=_0x418fd3['map'](_0x12a2f3=>({'name':_0x12a2f3[_0x57ae4c(0x1a6)],'chatid':_0x12a2f3['id'][_0x57ae4c(0x194)]})),_0x418fd3;},storeMedia=async(_0x175d21,_0x12b2c6)=>{const _0x3d44c7=a8_0x953b43,_0x11ab6f=getDriveID();if(_0x11ab6f=='')return terminal[_0x3d44c7(0x1a9)](_0x3d44c7(0x1b3),0x1),'';const _0x583149=await _0x175d21[_0x3d44c7(0x17f)](),_0x1ac54b=await data2Stream(_0x583149,_0x12b2c6);try{const _0x3d2e9b=await global[_0x3d44c7(0x1bc)][_0x3d44c7(0x191)](_0x11ab6f,_0x1ac54b);return _0x3d2e9b['data'][_0x3d44c7(0x1ac)];}catch(_0x4084ba){terminal[_0x3d44c7(0x18a)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x4084ba);}},isRepeated=async({message:_0x2f0e91,phone:_0x3f8cfd})=>{const _0x5c3c45=a8_0x953b43,_0x490a5c=messageBuffer[_0x5c3c45(0x192)](_0x295703=>_0x295703[_0x5c3c45(0x182)]==_0x2f0e91&&_0x295703[_0x5c3c45(0x1b4)]==_0x3f8cfd);return _0x490a5c;},isMatchText=(_0x164d04,_0x41ce62)=>{const _0x5ce829=a8_0x953b43;_0x41ce62=normalizeArabic(_0x41ce62);if(_0x41ce62['includes']('++')){let _0x34c80f=_0x41ce62[_0x5ce829(0x1a0)]('++')[_0x5ce829(0x19a)](_0x1cdd8d=>_0x1cdd8d[_0x5ce829(0x195)]())[_0x5ce829(0x1b5)](_0x208935=>_0x208935!=='');return _0x34c80f['every'](_0x3bba19=>_0x164d04[_0x5ce829(0x1ae)](_0x3bba19));}else return _0x164d04['includes'](_0x41ce62);},receivedmsgHandler=async _0x55ff2d=>{const _0x7b7fee=a8_0x953b43,_0x5c8a4b=new Date(),_0x51ac65=_0x5c8a4b['toLocaleDateString'](_0x7b7fee(0x181))+'\x20'+_0x5c8a4b['toLocaleTimeString'](_0x7b7fee(0x19c));let _0x55c1be=await _0x55ff2d['getChat']();const _0x275203=_0x55c1be['isGroup'],_0x550b6b=_0x275203?_0x55ff2d[_0x7b7fee(0x1b0)]:_0x7b7fee(0x1c2),_0x1b6a69=_0x275203?_0x55ff2d[_0x7b7fee(0x184)]['split']('@')[0x0]:_0x55ff2d[_0x7b7fee(0x1b0)][_0x7b7fee(0x1a0)]('@')[0x0],_0x38a104=normalizeArabic(_0x55ff2d[_0x7b7fee(0x18c)]);if(await isFiltered(_0x38a104)){terminal[_0x7b7fee(0x1a9)](_0x7b7fee(0x1a8)+_0x1b6a69,0x1);return;}if(await isFilteredPhone(_0x1b6a69)){terminal[_0x7b7fee(0x1a9)](_0x7b7fee(0x197)+_0x1b6a69,0x1);return;}if(await isRepeated({'message':_0x38a104,'phone':_0x1b6a69})){terminal[_0x7b7fee(0x1a9)](_0x7b7fee(0x1be)+_0x1b6a69,0x1);return;}for(const _0x144f29 of global[_0x7b7fee(0x1c1)]){let _0x276f0d=_0x144f29[_0x7b7fee(0x190)][_0x7b7fee(0x192)](_0xf2b93d=>_0xf2b93d[_0x7b7fee(0x180)]==_0x550b6b||_0x275203&&_0xf2b93d[_0x7b7fee(0x180)]=='allgroups'||_0x275203&&_0xf2b93d[_0x7b7fee(0x180)]=='except'&&_0xf2b93d[_0x7b7fee(0x1aa)][_0x7b7fee(0x199)](_0x2ed096=>_0x2ed096[_0x7b7fee(0x180)]!=_0x550b6b)),_0x8da19b=_0x144f29[_0x7b7fee(0x188)][_0x7b7fee(0x192)](_0x34fcae=>{const _0x296bb5=_0x7b7fee;if(Array[_0x296bb5(0x193)](_0x34fcae)){let _0xe2812c=!![];return _0x34fcae['forEach'](_0x2296a4=>{const _0x4ac4e9=_0x296bb5;Array[_0x4ac4e9(0x193)](_0x2296a4)?_0xe2812c=_0xe2812c&&_0x2296a4[_0x4ac4e9(0x192)](_0x477d6b=>{const _0x4a7170=_0x4ac4e9;return _0x477d6b=normalizeArabic(_0x477d6b),_0x38a104[_0x4a7170(0x1ae)](_0x477d6b);}):_0xe2812c=_0xe2812c&&isMatchText(_0x38a104,_0x2296a4);}),_0xe2812c;}else return isMatchText(_0x38a104,_0x34fcae);}),_0x5b9660=_0x144f29[_0x7b7fee(0x186)]['some'](_0xbfd12d=>{const _0x35ba49=_0x7b7fee;if(Array[_0x35ba49(0x193)](_0xbfd12d)){let _0xad7e36=!![];return _0xbfd12d[_0x35ba49(0x19b)](_0xcc10a=>{const _0x145f0d=_0x35ba49;Array[_0x145f0d(0x193)](_0xcc10a)?_0xad7e36=_0xad7e36&&_0xcc10a['some'](_0x87743d=>{return _0x87743d=normalizeArabic(_0x87743d),_0x38a104['includes'](_0x87743d);}):_0xad7e36=_0xad7e36&&isMatchText(_0x38a104,_0xcc10a);}),_0xad7e36;}else return isMatchText(_0x38a104,_0xbfd12d);});if(_0x276f0d)_0x55c1be[_0x7b7fee(0x1b2)]();if(_0x276f0d&&_0x8da19b&&!_0x5b9660){const _0x221544=getSheetID();if(_0x221544=='')return;let _0x19034a=_0x275203?(await getGroups())[_0x7b7fee(0x1b5)](_0x4ddae0=>_0x4ddae0['chatid']==_0x550b6b)[0x0][_0x7b7fee(0x1a6)]:_0x7b7fee(0x1b7),_0x2c5045=renderKeywords(_0x144f29[_0x7b7fee(0x188)]),_0xc80350=_0x55ff2d[_0x7b7fee(0x1a2)]?await storeMedia(_0x55ff2d,_0x1b6a69):'';const _0x436895=[_0x51ac65,_0x1b6a69,_0x19034a,_0x38a104,_0xc80350,_0x144f29[_0x7b7fee(0x1a6)],_0x2c5045];terminal[_0x7b7fee(0x1a9)](_0x7b7fee(0x1a4)+_0x19034a+'-'+_0x1b6a69+'=>'+_0x55ff2d[_0x7b7fee(0x1ba)]);const _0x58e439=_0x144f29[_0x7b7fee(0x1c0)][_0x7b7fee(0x1b9)];try{Gsheet[_0x7b7fee(0x1ad)](_0x58e439,_0x436895);}catch(_0x4849f5){terminal['red'](_0x7b7fee(0x18b)+_0x4849f5);}if(_0x144f29[_0x7b7fee(0x1a3)]&&_0x275203)_0x55ff2d[_0x7b7fee(0x1a3)](_0x144f29['reply']);if(_0x144f29[_0x7b7fee(0x183)])client[_0x7b7fee(0x189)](_0x1b6a69+'@c.us',_0x144f29[_0x7b7fee(0x183)]);let _0x56e67e=messageBuffer[_0x7b7fee(0x1b1)];_0x56e67e>messageBufferMAXLENGTH&&messageBuffer[_0x7b7fee(0x1af)](0x0,_0x56e67e-messageBufferMAXLENGTH),global[_0x7b7fee(0x1a7)][_0x7b7fee(0x1bf)]({'message':_0x38a104,'phone':_0x1b6a69});}}};function a8_0x20d1(_0x22f031,_0x3407d5){const _0x4ffa24=a8_0x4ffa();return a8_0x20d1=function(_0x20d1bb,_0x27aa8d){_0x20d1bb=_0x20d1bb-0x17e;let _0x3a2334=_0x4ffa24[_0x20d1bb];return _0x3a2334;},a8_0x20d1(_0x22f031,_0x3407d5);}module['exports']={'receivedmsgHandler':receivedmsgHandler};