const a8_0x5f3d84=a8_0x4f1d;(function(_0x4c1f12,_0x29f29c){const _0x3509ce=a8_0x4f1d,_0x390391=_0x4c1f12();while(!![]){try{const _0x115877=-parseInt(_0x3509ce(0x15b))/0x1*(-parseInt(_0x3509ce(0x161))/0x2)+parseInt(_0x3509ce(0x17c))/0x3+-parseInt(_0x3509ce(0x168))/0x4*(parseInt(_0x3509ce(0x17f))/0x5)+-parseInt(_0x3509ce(0x16b))/0x6*(-parseInt(_0x3509ce(0x15d))/0x7)+parseInt(_0x3509ce(0x16f))/0x8+-parseInt(_0x3509ce(0x17d))/0x9*(parseInt(_0x3509ce(0x160))/0xa)+parseInt(_0x3509ce(0x18b))/0xb*(parseInt(_0x3509ce(0x162))/0xc);if(_0x115877===_0x29f29c)break;else _0x390391['push'](_0x390391['shift']());}catch(_0x2577d8){_0x390391['push'](_0x390391['shift']());}}}(a8_0xb51e,0x62950));function a8_0x4f1d(_0x2e4f3d,_0x35919f){const _0xb51e5f=a8_0xb51e();return a8_0x4f1d=function(_0x4f1d1e,_0x385677){_0x4f1d1e=_0x4f1d1e-0x153;let _0x4869e5=_0xb51e5f[_0x4f1d1e];return _0x4869e5;},a8_0x4f1d(_0x2e4f3d,_0x35919f);}const {messageBufferMAXLENGTH}=require(a8_0x5f3d84(0x164)),{getSheetID,getDriveID}=require(a8_0x5f3d84(0x159)),{data2Stream}=require(a8_0x5f3d84(0x195)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x5f3d84(0x18c)),{renderKeywords}=require(a8_0x5f3d84(0x15e)),terminal=require('../util/terminal'),getGroups=async()=>{const _0x2c0700=a8_0x5f3d84;let _0x40c1c0=await client[_0x2c0700(0x18f)](),_0x52c972=await _0x40c1c0[_0x2c0700(0x166)](_0xbf9b84=>_0xbf9b84[_0x2c0700(0x171)]==!![]&&_0xbf9b84[_0x2c0700(0x170)]!=undefined&&_0xbf9b84['id'][_0x2c0700(0x190)]!=settings['GroupID']);return _0x52c972=_0x52c972['map'](_0x1ad8c9=>({'name':_0x1ad8c9['name'],'chatid':_0x1ad8c9['id']['_serialized']})),_0x52c972;},storeMedia=async(_0x350d9c,_0x1e62c0)=>{const _0x41965c=a8_0x5f3d84,_0x4c6d93=getDriveID();if(_0x4c6d93=='')return terminal[_0x41965c(0x182)](_0x41965c(0x173),0x1),'';const _0x45f02a=await _0x350d9c[_0x41965c(0x16d)](),_0xf34dbc=await data2Stream(_0x45f02a,_0x1e62c0);try{const _0x4e7ce8=await global[_0x41965c(0x167)][_0x41965c(0x18d)](_0x4c6d93,_0xf34dbc);return _0x4e7ce8[_0x41965c(0x156)][_0x41965c(0x16e)];}catch(_0x1b261d){terminal[_0x41965c(0x18a)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x1b261d);}},isRepeated=async({message:_0xacacd5,phone:_0x4d67fe})=>{const _0x49bccb=a8_0x5f3d84,_0x3d374f=messageBuffer[_0x49bccb(0x157)](_0x210e5a=>_0x210e5a[_0x49bccb(0x176)]==_0xacacd5&&_0x210e5a[_0x49bccb(0x17e)]==_0x4d67fe);return _0x3d374f;},isMatchText=(_0x130fb4,_0x563933)=>{const _0x3c65a5=a8_0x5f3d84;_0x563933=normalizeArabic(_0x563933);if(_0x563933[_0x3c65a5(0x16a)]('++')){let _0x4e308d=_0x563933[_0x3c65a5(0x186)]('++')[_0x3c65a5(0x183)](_0x778daa=>_0x778daa[_0x3c65a5(0x189)]())['filter'](_0x2223bb=>_0x2223bb!=='');return _0x4e308d[_0x3c65a5(0x18e)](_0x59665d=>_0x130fb4[_0x3c65a5(0x16a)](_0x59665d));}else return _0x130fb4[_0x3c65a5(0x16a)](_0x563933);},receivedmsgHandler=async _0x43f685=>{const _0xe50e24=a8_0x5f3d84,_0x34f400=new Date(),_0x12d317=_0x34f400['toLocaleDateString'](_0xe50e24(0x16c))+'\x20'+_0x34f400[_0xe50e24(0x17b)]('en-EG');let _0x2678b1=await _0x43f685[_0xe50e24(0x15f)]();const _0x31e2ae=_0x2678b1[_0xe50e24(0x171)],_0x3eb204=_0x31e2ae?_0x43f685[_0xe50e24(0x197)]:_0xe50e24(0x172),_0x535fe2=_0x31e2ae?_0x43f685[_0xe50e24(0x191)][_0xe50e24(0x186)]('@')[0x0]:_0x43f685['from'][_0xe50e24(0x186)]('@')[0x0],_0x43f1af=normalizeArabic(_0x43f685[_0xe50e24(0x188)]);if(await isFiltered(_0x43f1af)){terminal['logger'](_0xe50e24(0x194)+_0x535fe2,0x1);return;}if(await isFilteredPhone(_0x535fe2)){terminal[_0xe50e24(0x182)]('[FILTERED\x20PHONE!]\x20'+_0x535fe2,0x1);return;}if(await isRepeated({'message':_0x43f1af,'phone':_0x535fe2})){terminal[_0xe50e24(0x182)](_0xe50e24(0x165)+_0x535fe2,0x1);return;}for(const _0x146480 of global['conditions']){let _0x7f0267=_0x146480[_0xe50e24(0x15a)][_0xe50e24(0x157)](_0x16de1c=>_0x16de1c[_0xe50e24(0x158)]==_0x3eb204||_0x31e2ae&&_0x16de1c[_0xe50e24(0x158)]=='allgroups'||_0x31e2ae&&_0x16de1c[_0xe50e24(0x158)]=='except'&&_0x16de1c[_0xe50e24(0x180)][_0xe50e24(0x18e)](_0x1b7639=>_0x1b7639['chatid']!=_0x3eb204)),_0x1f2b74=_0x146480[_0xe50e24(0x179)]['some'](_0x55d70c=>{const _0x5d6577=_0xe50e24;if(Array[_0x5d6577(0x196)](_0x55d70c)){let _0x25b302=!![];return _0x55d70c[_0x5d6577(0x181)](_0x2c7b63=>{const _0x4ca578=_0x5d6577;Array[_0x4ca578(0x196)](_0x2c7b63)?_0x25b302=_0x25b302&&_0x2c7b63[_0x4ca578(0x157)](_0xb5900b=>{const _0x485e1f=_0x4ca578;return _0xb5900b=normalizeArabic(_0xb5900b),_0x43f1af[_0x485e1f(0x16a)](_0xb5900b);}):_0x25b302=_0x25b302&&isMatchText(_0x43f1af,_0x2c7b63);}),_0x25b302;}else return isMatchText(_0x43f1af,_0x55d70c);}),_0x1614b8=_0x146480[_0xe50e24(0x177)]['some'](_0x5ccaa5=>{const _0x30bd7c=_0xe50e24;if(Array[_0x30bd7c(0x196)](_0x5ccaa5)){let _0x4675f0=!![];return _0x5ccaa5['forEach'](_0x5b3e6f=>{Array['isArray'](_0x5b3e6f)?_0x4675f0=_0x4675f0&&_0x5b3e6f['some'](_0x558004=>{return _0x558004=normalizeArabic(_0x558004),_0x43f1af['includes'](_0x558004);}):_0x4675f0=_0x4675f0&&isMatchText(_0x43f1af,_0x5b3e6f);}),_0x4675f0;}else return isMatchText(_0x43f1af,_0x5ccaa5);});if(_0x7f0267)_0x2678b1[_0xe50e24(0x178)]();if(_0x7f0267&&_0x1f2b74&&!_0x1614b8){const _0x19ba91=getSheetID();if(_0x19ba91=='')return;let _0x56643b=_0x31e2ae?(await getGroups())[_0xe50e24(0x166)](_0x36855d=>_0x36855d[_0xe50e24(0x158)]==_0x3eb204)[0x0][_0xe50e24(0x170)]:_0xe50e24(0x192),_0x9c2935=renderKeywords(_0x146480[_0xe50e24(0x179)]),_0x35f4d4=_0x43f685[_0xe50e24(0x154)]?await storeMedia(_0x43f685,_0x535fe2):'';const _0x4db5a5=[_0x12d317,_0x535fe2,_0x56643b,_0x43f1af,_0x35f4d4,_0x146480[_0xe50e24(0x170)],_0x9c2935];terminal[_0xe50e24(0x182)]('[MATCH!]\x20'+_0x56643b+'-'+_0x535fe2+'=>'+_0x43f685[_0xe50e24(0x184)]);const _0x1fabdb=_0x146480['gsheet'][_0xe50e24(0x193)];try{Gsheet[_0xe50e24(0x15c)](_0x1fabdb,_0x4db5a5);}catch(_0x198167){terminal[_0xe50e24(0x18a)](_0xe50e24(0x163)+_0x198167);}if(_0x146480[_0xe50e24(0x155)]&&_0x31e2ae)_0x43f685[_0xe50e24(0x155)](_0x146480[_0xe50e24(0x155)]);if(_0x146480[_0xe50e24(0x185)])client[_0xe50e24(0x187)](_0x535fe2+_0xe50e24(0x153),_0x146480['replyprivate']);let _0x4ba96e=messageBuffer['length'];_0x4ba96e>messageBufferMAXLENGTH&&messageBuffer[_0xe50e24(0x174)](0x0,_0x4ba96e-messageBufferMAXLENGTH),global[_0xe50e24(0x169)][_0xe50e24(0x175)]({'message':_0x43f1af,'phone':_0x535fe2});}}};function a8_0xb51e(){const _0x233356=['./controlMsgHandler','getChat','20WaCCTz','1556332NEZBlv','1224nrFuKM','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','../config','[REPEATED\x20MESSAGE!]\x20','filter','Gdrive','3716VBQQKx','messageBuffer','includes','3282gaEBNn','en-GB','downloadMedia','webViewLink','3863160rCGfjp','name','isGroup','private','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','splice','push','message','blockedkeywords','sendSeen','keywords','exports','toLocaleTimeString','355977zrUhKg','2892501DTqeLR','phone','2515qDTHdN','except','forEach','logger','map','type','replyprivate','split','sendMessage','body','trim','red','12991otoHRs','../util/misc','createFile','every','getChats','_serialized','author','Private','sheetId','[FILTERED\x20WORD!]\x20','../util/dataOps','isArray','from','@c.us','hasMedia','reply','data','some','chatid','../util/files','applicable','1qKdEgA','addMatch','175rmeWNF'];a8_0xb51e=function(){return _0x233356;};return a8_0xb51e();}module[a8_0x5f3d84(0x17a)]={'receivedmsgHandler':receivedmsgHandler};