const a8_0x1e890d=a8_0x59fd;function a8_0x59fd(_0x51177e,_0x586ac4){const _0x2a9e4f=a8_0x2a9e();return a8_0x59fd=function(_0x59fd88,_0x3cf8c3){_0x59fd88=_0x59fd88-0x80;let _0x4af704=_0x2a9e4f[_0x59fd88];return _0x4af704;},a8_0x59fd(_0x51177e,_0x586ac4);}function a8_0x2a9e(){const _0x41693b=['getCellByA1','loadCells','2037740CKUpWI','672WwCmbt','downloadMedia','GroupID','forEach','Private','includes','reply','from','filter','addMatch','en-EG','1059ObQMiv','gsheet','sheetId','vars','hasMedia','author','blockedkeywords','chatid','logger','webViewLink',']\x20[FILTERED\x20PHONE!]\x20',']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','messageBuffer','private','replyprivate','message','298172gucqnb','some','../util/misc','keywords','name','5531050ELOVDb','red','createFile','splice','split','toLocaleTimeString','formattedValue','GSpreadsheet','except',']\x20[FILTERED\x20WORD!]\x20','22903790WaBgGt','map','../util/dataOps','9150wnEyLv','_serialized','isArray','sendSeen','11708pbPjdZ','27072yOiFAo','getChats','./controlMsgHandler','exports','712zpbTMf','@c.us','conditions','applicable','every','isGroup','allgroups','trim','toLocaleDateString','../util/terminal','en-GB','sheetsByTitle'];a8_0x2a9e=function(){return _0x41693b;};return a8_0x2a9e();}(function(_0x685288,_0x2d0583){const _0x5d9755=a8_0x59fd,_0x4ade88=_0x685288();while(!![]){try{const _0x22a44e=-parseInt(_0x5d9755(0xb3))/0x1+parseInt(_0x5d9755(0x97))/0x2+-parseInt(_0x5d9755(0xa3))/0x3*(-parseInt(_0x5d9755(0x84))/0x4)+parseInt(_0x5d9755(0xb8))/0x5+parseInt(_0x5d9755(0x80))/0x6*(-parseInt(_0x5d9755(0x98))/0x7)+parseInt(_0x5d9755(0x89))/0x8*(parseInt(_0x5d9755(0x85))/0x9)+-parseInt(_0x5d9755(0xc2))/0xa;if(_0x22a44e===_0x2d0583)break;else _0x4ade88['push'](_0x4ade88['shift']());}catch(_0x37bc48){_0x4ade88['push'](_0x4ade88['shift']());}}}(a8_0x2a9e,0xa8b80));const {messageBufferMAXLENGTH}=require('../config'),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require(a8_0x1e890d(0xc4)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x1e890d(0xb5)),{renderKeywords}=require(a8_0x1e890d(0x87)),terminal=require(a8_0x1e890d(0x92)),getGroups=async()=>{const _0x3e625a=a8_0x1e890d;let _0x3ef241=await client[_0x3e625a(0x86)](),_0x5190ec=await _0x3ef241[_0x3e625a(0xa0)](_0x4ff845=>_0x4ff845[_0x3e625a(0x8e)]==!![]&&_0x4ff845[_0x3e625a(0xb7)]!=undefined&&_0x4ff845['id'][_0x3e625a(0x81)]!=settings[_0x3e625a(0x9a)]);return _0x5190ec=_0x5190ec[_0x3e625a(0xc3)](_0x2d95fc=>({'name':_0x2d95fc['name'],'chatid':_0x2d95fc['id'][_0x3e625a(0x81)]})),_0x5190ec;},storeMedia=async(_0x2438be,_0x53da4a)=>{const _0x3b31cb=a8_0x1e890d,_0x55075a=getDriveID();if(_0x55075a=='')return terminal[_0x3b31cb(0xab)]('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0x2c49c3=await _0x2438be[_0x3b31cb(0x99)](),_0x2aa175=await data2Stream(_0x2c49c3,_0x53da4a);try{const _0x48fe6b=await global['Gdrive'][_0x3b31cb(0xba)](_0x55075a,_0x2aa175);return _0x48fe6b['data'][_0x3b31cb(0xac)];}catch(_0x5e8c50){terminal[_0x3b31cb(0xb9)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x5e8c50);}},isRepeated=async({message:_0x431856,phone:_0x44b1fe})=>{const _0x604e87=a8_0x1e890d,_0x136991=messageBuffer[_0x604e87(0xb4)](_0x199f40=>_0x199f40[_0x604e87(0xb2)]==_0x431856&&_0x199f40['phone']==_0x44b1fe);return _0x136991;},isMatchText=(_0x4c3890,_0x1c386e)=>{const _0x36d645=a8_0x1e890d;_0x1c386e=normalizeArabic(_0x1c386e);if(_0x1c386e[_0x36d645(0x9d)]('++')){let _0x42818a=_0x1c386e[_0x36d645(0xbc)]('++')[_0x36d645(0xc3)](_0x3947db=>_0x3947db[_0x36d645(0x90)]())[_0x36d645(0xa0)](_0x3a4a73=>_0x3a4a73!=='');return _0x42818a[_0x36d645(0x8d)](_0x271c74=>_0x4c3890[_0x36d645(0x9d)](_0x271c74));}else return _0x4c3890['includes'](_0x1c386e);},replaceVariables=async _0x3fe1a7=>{const _0x2ea11e=a8_0x1e890d;try{const _0xcf1340=global[_0x2ea11e(0xbf)][_0x2ea11e(0x94)][_0x2ea11e(0xa6)],_0x1dba0f=/\[=([A-Z]{1}\d+)\]/g;let _0x49dc92=[..._0x3fe1a7['matchAll'](_0x1dba0f)];if(_0x49dc92['length']>0x0)for await(const _0x49d6ed of _0x49dc92){let _0xaacff1=_0x49d6ed[0x0],_0x118f44=_0x49d6ed[0x1];await _0xcf1340[_0x2ea11e(0x96)](_0x118f44);let _0x1276e7=String(_0xcf1340[_0x2ea11e(0x95)](_0x118f44)[_0x2ea11e(0xbe)]);_0x3fe1a7=_0x3fe1a7['replace'](_0xaacff1,_0x1276e7);}}catch(_0x39711f){terminal[_0x2ea11e(0xab)]('[WARN!]\x20Cannot\x20get\x20variables\x0amake\x20sure\x20to\x20add\x20a\x20worksheet\x20with\x20name\x20vars',0x1);}return _0x3fe1a7;},receivedmsgHandler=async _0x4aebb4=>{const _0x57ef73=a8_0x1e890d,_0x472d57=new Date(),_0x7cdbbe=_0x472d57[_0x57ef73(0x91)](_0x57ef73(0x93))+'\x20'+_0x472d57[_0x57ef73(0xbd)](_0x57ef73(0xa2));let _0x25ac62=await _0x4aebb4['getChat']();const _0x2eb57f=_0x25ac62['isGroup'],_0x41ae7c=_0x2eb57f?_0x4aebb4[_0x57ef73(0x9f)]:_0x57ef73(0xb0),_0xa96234=_0x2eb57f?_0x4aebb4[_0x57ef73(0xa8)][_0x57ef73(0xbc)]('@')[0x0]:_0x4aebb4['from'][_0x57ef73(0xbc)]('@')[0x0];let _0x29e0c1=_0x2eb57f?(await getGroups())[_0x57ef73(0xa0)](_0x17de85=>_0x17de85['chatid']==_0x41ae7c)[0x0]['name']:_0x57ef73(0x9c);const _0x4366da=normalizeArabic(_0x4aebb4['body']);if(await isFiltered(_0x4366da)){terminal['logger']('['+_0x7cdbbe+_0x57ef73(0xc1)+_0x29e0c1+'-'+_0xa96234,0x1);return;}if(await isFilteredPhone(_0xa96234)){terminal[_0x57ef73(0xab)]('['+_0x7cdbbe+_0x57ef73(0xad)+_0x29e0c1+'-'+_0xa96234,0x1);return;}if(await isRepeated({'message':_0x4366da,'phone':_0xa96234})){terminal['logger']('['+_0x7cdbbe+']\x20[REPEATED\x20MESSAGE!]\x20'+_0x29e0c1+'-'+_0xa96234,0x1);return;}for(const _0x184483 of global[_0x57ef73(0x8b)]){let _0x12c105=_0x184483[_0x57ef73(0x8c)][_0x57ef73(0xb4)](_0x22d3b1=>_0x22d3b1[_0x57ef73(0xaa)]==_0x41ae7c||_0x2eb57f&&_0x22d3b1['chatid']==_0x57ef73(0x8f)||_0x2eb57f&&_0x22d3b1['chatid']==_0x57ef73(0xc0)&&_0x22d3b1[_0x57ef73(0xc0)][_0x57ef73(0x8d)](_0x230a33=>_0x230a33[_0x57ef73(0xaa)]!=_0x41ae7c)),_0x2141d5=_0x184483[_0x57ef73(0xb6)][_0x57ef73(0xb4)](_0x266bd7=>{const _0xaaf982=_0x57ef73;if(Array[_0xaaf982(0x82)](_0x266bd7)){let _0x2980a6=!![];return _0x266bd7[_0xaaf982(0x9b)](_0x348316=>{const _0x31a54e=_0xaaf982;Array['isArray'](_0x348316)?_0x2980a6=_0x2980a6&&_0x348316[_0x31a54e(0xb4)](_0x7e5928=>{return _0x7e5928=normalizeArabic(_0x7e5928),_0x4366da['includes'](_0x7e5928);}):_0x2980a6=_0x2980a6&&isMatchText(_0x4366da,_0x348316);}),_0x2980a6;}else return isMatchText(_0x4366da,_0x266bd7);}),_0x4e702f=_0x184483[_0x57ef73(0xa9)][_0x57ef73(0xb4)](_0x212f25=>{const _0x435df9=_0x57ef73;if(Array['isArray'](_0x212f25)){let _0x6cdeee=!![];return _0x212f25[_0x435df9(0x9b)](_0x301ba3=>{const _0x2d6b61=_0x435df9;Array[_0x2d6b61(0x82)](_0x301ba3)?_0x6cdeee=_0x6cdeee&&_0x301ba3[_0x2d6b61(0xb4)](_0x1a0659=>{const _0x384a49=_0x2d6b61;return _0x1a0659=normalizeArabic(_0x1a0659),_0x4366da[_0x384a49(0x9d)](_0x1a0659);}):_0x6cdeee=_0x6cdeee&&isMatchText(_0x4366da,_0x301ba3);}),_0x6cdeee;}else return isMatchText(_0x4366da,_0x212f25);});if(_0x12c105)_0x25ac62[_0x57ef73(0x83)]();if(_0x12c105&&_0x2141d5&&!_0x4e702f){const _0x396440=getSheetID();if(_0x396440=='')return;let _0xaaabba=renderKeywords(_0x184483[_0x57ef73(0xb6)]),_0x51345d=_0x4aebb4[_0x57ef73(0xa7)]?await storeMedia(_0x4aebb4,_0xa96234):'';const _0x3460d3=[_0x7cdbbe,_0xa96234,_0x29e0c1,_0x4366da,_0x51345d,_0x184483[_0x57ef73(0xb7)],_0xaaabba];terminal['logger']('['+_0x7cdbbe+']\x20[MATCH!]\x20'+_0x29e0c1+'-'+_0xa96234+'=>'+_0x4aebb4['type']+'\x20'+_0xaaabba);const _0x30fbbd=_0x184483[_0x57ef73(0xa4)][_0x57ef73(0xa5)];try{Gsheet[_0x57ef73(0xa1)](_0x30fbbd,_0x3460d3);}catch(_0x5528db){terminal[_0x57ef73(0xb9)]('['+_0x7cdbbe+_0x57ef73(0xae)+_0x5528db);}_0x184483[_0x57ef73(0x9e)]&&_0x2eb57f&&_0x4aebb4['reply'](await replaceVariables(_0x184483[_0x57ef73(0x9e)]));_0x184483['replyprivate']&&client['sendMessage'](_0xa96234+_0x57ef73(0x8a),await replaceVariables(_0x184483[_0x57ef73(0xb1)]));let _0x160a4a=messageBuffer['length'];_0x160a4a>messageBufferMAXLENGTH&&messageBuffer[_0x57ef73(0xbb)](0x0,_0x160a4a-messageBufferMAXLENGTH),global[_0x57ef73(0xaf)]['push']({'message':_0x4366da,'phone':_0xa96234});}}};module[a8_0x1e890d(0x88)]={'receivedmsgHandler':receivedmsgHandler};