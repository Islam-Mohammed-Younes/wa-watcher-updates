function a8_0x44a5(_0x4a29c8,_0x30035e){const _0x1d4e8d=a8_0x1d4e();return a8_0x44a5=function(_0x44a520,_0x1a0f05){_0x44a520=_0x44a520-0x169;let _0x3241cf=_0x1d4e8d[_0x44a520];return _0x3241cf;},a8_0x44a5(_0x4a29c8,_0x30035e);}const a8_0x36cd8b=a8_0x44a5;(function(_0x256d88,_0x1c3853){const _0x1f29c5=a8_0x44a5,_0x213785=_0x256d88();while(!![]){try{const _0x5a50c6=parseInt(_0x1f29c5(0x169))/0x1*(parseInt(_0x1f29c5(0x19c))/0x2)+parseInt(_0x1f29c5(0x19f))/0x3+parseInt(_0x1f29c5(0x197))/0x4+-parseInt(_0x1f29c5(0x18f))/0x5*(parseInt(_0x1f29c5(0x191))/0x6)+-parseInt(_0x1f29c5(0x186))/0x7+-parseInt(_0x1f29c5(0x16b))/0x8+-parseInt(_0x1f29c5(0x18e))/0x9*(-parseInt(_0x1f29c5(0x19e))/0xa);if(_0x5a50c6===_0x1c3853)break;else _0x213785['push'](_0x213785['shift']());}catch(_0x46d224){_0x213785['push'](_0x213785['shift']());}}}(a8_0x1d4e,0xea25c));const {messageBufferMAXLENGTH}=require('../config'),{getSheetID,getDriveID}=require(a8_0x36cd8b(0x178)),{data2Stream}=require(a8_0x36cd8b(0x18c)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x36cd8b(0x182)),{renderKeywords}=require('./controlMsgHandler'),terminal=require(a8_0x36cd8b(0x171)),getGroups=async()=>{const _0x51c785=a8_0x36cd8b;let _0x2d0fc5=await client[_0x51c785(0x180)](),_0xced2a6=await _0x2d0fc5[_0x51c785(0x187)](_0x39d343=>_0x39d343[_0x51c785(0x173)]==!![]&&_0x39d343[_0x51c785(0x17d)]!=undefined&&_0x39d343['id'][_0x51c785(0x1a4)]!=settings['GroupID']);return _0xced2a6=_0xced2a6[_0x51c785(0x194)](_0x4622c7=>({'name':_0x4622c7[_0x51c785(0x17d)],'chatid':_0x4622c7['id']['_serialized']})),_0xced2a6;},storeMedia=async(_0xa945ae,_0x5b509a)=>{const _0x151ba3=a8_0x36cd8b,_0x15b80d=getDriveID();if(_0x15b80d=='')return terminal[_0x151ba3(0x196)](_0x151ba3(0x1a6),0x1),'';const _0x586333=await _0xa945ae[_0x151ba3(0x16a)](),_0xd7e9a9=await data2Stream(_0x586333,_0x5b509a);try{const _0x54e8bd=await global['Gdrive']['createFile'](_0x15b80d,_0xd7e9a9);return _0x54e8bd[_0x151ba3(0x179)]['webViewLink'];}catch(_0x1f0577){terminal[_0x151ba3(0x16e)](_0x151ba3(0x18d)+_0x1f0577);}},isRepeated=async({message:_0xeab3e,phone:_0x473d03})=>{const _0x158778=a8_0x36cd8b,_0x15a750=messageBuffer[_0x158778(0x1a3)](_0x5e2937=>_0x5e2937[_0x158778(0x16f)]==_0xeab3e&&_0x5e2937['phone']==_0x473d03);return _0x15a750;},isMatchText=(_0x4e9153,_0x3a4ede)=>{const _0xba333a=a8_0x36cd8b;_0x3a4ede=normalizeArabic(_0x3a4ede);if(_0x3a4ede[_0xba333a(0x185)]('++')){let _0x44de72=_0x3a4ede[_0xba333a(0x193)]('++')['map'](_0x4c6b2d=>_0x4c6b2d[_0xba333a(0x189)]())[_0xba333a(0x187)](_0x15e65e=>_0x15e65e!=='');return _0x44de72['every'](_0x721f47=>_0x4e9153[_0xba333a(0x185)](_0x721f47));}else return _0x4e9153[_0xba333a(0x185)](_0x3a4ede);},receivedmsgHandler=async _0x32ae09=>{const _0x239323=a8_0x36cd8b,_0x52c221=new Date(),_0x2b88dd=_0x52c221[_0x239323(0x199)](_0x239323(0x172))+'\x20'+_0x52c221[_0x239323(0x190)](_0x239323(0x176));let _0x251e6d=await _0x32ae09[_0x239323(0x18b)]();const _0x39a157=_0x251e6d['isGroup'],_0x111b5a=_0x39a157?_0x32ae09[_0x239323(0x1a5)]:'private',_0x578532=_0x39a157?_0x32ae09[_0x239323(0x170)][_0x239323(0x193)]('@')[0x0]:_0x32ae09[_0x239323(0x1a5)][_0x239323(0x193)]('@')[0x0],_0x9a7058=normalizeArabic(_0x32ae09[_0x239323(0x174)]);if(await isFiltered(_0x9a7058)){terminal[_0x239323(0x196)](_0x239323(0x17c)+_0x578532,0x1);return;}if(await isFilteredPhone(_0x578532)){terminal[_0x239323(0x196)](_0x239323(0x17e)+_0x578532,0x1);return;}if(await isRepeated({'message':_0x9a7058,'phone':_0x578532})){terminal['logger'](_0x239323(0x198)+_0x578532,0x1);return;}for(const _0x28d36f of global['conditions']){let _0x43b5c3=_0x28d36f[_0x239323(0x16d)][_0x239323(0x1a3)](_0x1a5b0b=>_0x1a5b0b[_0x239323(0x195)]==_0x111b5a||_0x39a157&&_0x1a5b0b['chatid']==_0x239323(0x18a)||_0x39a157&&_0x1a5b0b[_0x239323(0x195)]==_0x239323(0x192)&&_0x1a5b0b[_0x239323(0x192)][_0x239323(0x16c)](_0x3d171c=>_0x3d171c['chatid']!=_0x111b5a)),_0x53e406=_0x28d36f[_0x239323(0x188)][_0x239323(0x1a3)](_0x54e7a8=>{const _0x35463c=_0x239323;if(Array[_0x35463c(0x17f)](_0x54e7a8)){let _0x1383f8=!![];return _0x54e7a8[_0x35463c(0x1a0)](_0x3c2fb3=>{const _0x5d83b7=_0x35463c;Array['isArray'](_0x3c2fb3)?_0x1383f8=_0x1383f8&&_0x3c2fb3[_0x5d83b7(0x1a3)](_0x44ffeb=>{const _0x37b6e7=_0x5d83b7;return _0x44ffeb=normalizeArabic(_0x44ffeb),_0x9a7058[_0x37b6e7(0x185)](_0x44ffeb);}):_0x1383f8=_0x1383f8&&isMatchText(_0x9a7058,_0x3c2fb3);}),_0x1383f8;}else return isMatchText(_0x9a7058,_0x54e7a8);}),_0x514801=_0x28d36f[_0x239323(0x17a)][_0x239323(0x1a3)](_0x1b3387=>{const _0x3d2da7=_0x239323;if(Array['isArray'](_0x1b3387)){let _0x598b9f=!![];return _0x1b3387[_0x3d2da7(0x1a0)](_0x3078c6=>{const _0x40a2ff=_0x3d2da7;Array[_0x40a2ff(0x17f)](_0x3078c6)?_0x598b9f=_0x598b9f&&_0x3078c6[_0x40a2ff(0x1a3)](_0x56243d=>{const _0x5eb57e=_0x40a2ff;return _0x56243d=normalizeArabic(_0x56243d),_0x9a7058[_0x5eb57e(0x185)](_0x56243d);}):_0x598b9f=_0x598b9f&&isMatchText(_0x9a7058,_0x3078c6);}),_0x598b9f;}else return isMatchText(_0x9a7058,_0x1b3387);});if(_0x43b5c3)_0x251e6d['sendSeen']();if(_0x43b5c3&&_0x53e406&&!_0x514801){const _0x598823=getSheetID();if(_0x598823=='')return;let _0x3af2f1=_0x39a157?(await getGroups())[_0x239323(0x187)](_0x3fec09=>_0x3fec09[_0x239323(0x195)]==_0x111b5a)[0x0][_0x239323(0x17d)]:'Private',_0x46b85b=renderKeywords(_0x28d36f[_0x239323(0x188)]),_0x3a9d16=_0x32ae09[_0x239323(0x1a2)]?await storeMedia(_0x32ae09,_0x578532):'';const _0x35d467=[_0x2b88dd,_0x578532,_0x3af2f1,_0x9a7058,_0x3a9d16,_0x28d36f['name'],_0x46b85b];terminal[_0x239323(0x196)]('[MATCH!]\x20'+_0x3af2f1+'-'+_0x578532+'=>'+_0x32ae09[_0x239323(0x177)]);const _0x3edbc1=_0x28d36f[_0x239323(0x181)]['sheetId'];try{Gsheet[_0x239323(0x19d)](_0x3edbc1,_0x35d467);}catch(_0x2a4376){terminal[_0x239323(0x16e)](_0x239323(0x184)+_0x2a4376);}if(_0x28d36f[_0x239323(0x17b)]&&_0x39a157)_0x32ae09[_0x239323(0x17b)](_0x28d36f[_0x239323(0x17b)]);if(_0x28d36f[_0x239323(0x175)])client['sendMessage'](_0x578532+_0x239323(0x19b),_0x28d36f[_0x239323(0x175)]);let _0x4b5760=messageBuffer['length'];_0x4b5760>messageBufferMAXLENGTH&&messageBuffer[_0x239323(0x1a1)](0x0,_0x4b5760-messageBufferMAXLENGTH),global[_0x239323(0x19a)][_0x239323(0x183)]({'message':_0x9a7058,'phone':_0x578532});}}};module['exports']={'receivedmsgHandler':receivedmsgHandler};function a8_0x1d4e(){const _0xed6492=['isArray','getChats','gsheet','../util/misc','push','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','includes','9320724GTMUUc','filter','keywords','trim','allgroups','getChat','../util/dataOps','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','85752ANJOhy','2166805VsvPzc','toLocaleTimeString','18xWIUYx','except','split','map','chatid','logger','4192988vWAhFk','[REPEATED\x20MESSAGE!]\x20','toLocaleDateString','messageBuffer','@c.us','18nWCSKj','addMatch','1130IDmtrx','4200474tqklyc','forEach','splice','hasMedia','some','_serialized','from','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','36881CetYOi','downloadMedia','2130520LZJVMM','every','applicable','red','message','author','../util/terminal','en-GB','isGroup','body','replyprivate','en-EG','type','../util/files','data','blockedkeywords','reply','[FILTERED\x20WORD!]\x20','name','[FILTERED\x20PHONE!]\x20'];a8_0x1d4e=function(){return _0xed6492;};return a8_0x1d4e();}