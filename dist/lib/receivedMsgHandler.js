const a8_0x369aff=a8_0x31fa;(function(_0xb0c42a,_0x53e647){const _0x372140=a8_0x31fa,_0x5bec44=_0xb0c42a();while(!![]){try{const _0x8fb274=parseInt(_0x372140(0x1c7))/0x1+-parseInt(_0x372140(0x1c2))/0x2*(parseInt(_0x372140(0x1ca))/0x3)+parseInt(_0x372140(0x1bc))/0x4+-parseInt(_0x372140(0x1d1))/0x5+parseInt(_0x372140(0x1bf))/0x6*(-parseInt(_0x372140(0x1c1))/0x7)+parseInt(_0x372140(0x1d6))/0x8+parseInt(_0x372140(0x1af))/0x9;if(_0x8fb274===_0x53e647)break;else _0x5bec44['push'](_0x5bec44['shift']());}catch(_0x3877b0){_0x5bec44['push'](_0x5bec44['shift']());}}}(a8_0x5427,0x3cdff));function a8_0x31fa(_0x206195,_0x104870){const _0x542727=a8_0x5427();return a8_0x31fa=function(_0x31fa37,_0x18a658){_0x31fa37=_0x31fa37-0x1a8;let _0x550376=_0x542727[_0x31fa37];return _0x550376;},a8_0x31fa(_0x206195,_0x104870);}const {messageBufferMAXLENGTH}=require(a8_0x369aff(0x1de)),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x369aff(0x1ad)),{renderKeywords}=require(a8_0x369aff(0x1da)),terminal=require(a8_0x369aff(0x1cc)),getGroups=async()=>{const _0x23fc51=a8_0x369aff;let _0x5b904d=await client[_0x23fc51(0x1d5)](),_0x1915c1=await _0x5b904d[_0x23fc51(0x1b9)](_0x4f22bd=>_0x4f22bd[_0x23fc51(0x1e5)]==!![]&&_0x4f22bd[_0x23fc51(0x1a9)]!=undefined&&_0x4f22bd['id'][_0x23fc51(0x1e4)]!=settings[_0x23fc51(0x1bb)]);return _0x1915c1=_0x1915c1['map'](_0x10c1d5=>({'name':_0x10c1d5[_0x23fc51(0x1a9)],'chatid':_0x10c1d5['id'][_0x23fc51(0x1e4)]})),_0x1915c1;},storeMedia=async(_0x381aea,_0x45bd1c)=>{const _0x24d87c=a8_0x369aff,_0x1e2ace=getDriveID();if(_0x1e2ace=='')return terminal[_0x24d87c(0x1ba)](_0x24d87c(0x1c5),0x1),'';const _0x212ae4=await _0x381aea['downloadMedia'](),_0x4b6cbd=await data2Stream(_0x212ae4,_0x45bd1c);try{const _0x3cd4d6=await global[_0x24d87c(0x1bd)]['createFile'](_0x1e2ace,_0x4b6cbd);return _0x3cd4d6[_0x24d87c(0x1c4)][_0x24d87c(0x1dc)];}catch(_0x4eabfc){terminal[_0x24d87c(0x1ce)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x4eabfc);}},isRepeated=async({message:_0xa1f071,phone:_0x2bd25f})=>{const _0x4a78ae=a8_0x369aff,_0x512286=messageBuffer['some'](_0x389723=>_0x389723[_0x4a78ae(0x1d0)]==_0xa1f071&&_0x389723['phone']==_0x2bd25f);return _0x512286;},isMatchText=(_0x110428,_0x5b760c)=>{const _0x26d670=a8_0x369aff;_0x5b760c=normalizeArabic(_0x5b760c);if(_0x5b760c[_0x26d670(0x1b0)]('++')){let _0x1d7d33=_0x5b760c[_0x26d670(0x1cd)]('++')[_0x26d670(0x1cb)](_0x1b45e3=>_0x1b45e3[_0x26d670(0x1b8)]())[_0x26d670(0x1b9)](_0x5a4fa5=>_0x5a4fa5!=='');return _0x1d7d33[_0x26d670(0x1ab)](_0x5deb5b=>_0x110428[_0x26d670(0x1b0)](_0x5deb5b));}else return _0x110428['includes'](_0x5b760c);},receivedmsgHandler=async _0x8dfff3=>{const _0x58c315=a8_0x369aff,_0x57daff=new Date(),_0x2814f5=_0x57daff[_0x58c315(0x1e2)]('en-GB')+'\x20'+_0x57daff[_0x58c315(0x1d2)](_0x58c315(0x1ac));let _0x2fc4d7=await _0x8dfff3[_0x58c315(0x1d7)]();const _0x216a6c=_0x2fc4d7['isGroup'],_0x40f800=_0x216a6c?_0x8dfff3[_0x58c315(0x1b2)]:_0x58c315(0x1a8),_0x55b6b5=_0x216a6c?_0x8dfff3['author'][_0x58c315(0x1cd)]('@')[0x0]:_0x8dfff3[_0x58c315(0x1b2)]['split']('@')[0x0],_0x597501=normalizeArabic(_0x8dfff3[_0x58c315(0x1c0)]);if(await isFiltered(_0x597501)){terminal[_0x58c315(0x1ba)]('[FILTERED\x20WORD!]\x20'+_0x55b6b5,0x1);return;}if(await isFilteredPhone(_0x55b6b5)){terminal[_0x58c315(0x1ba)]('[FILTERED\x20PHONE!]\x20'+_0x55b6b5,0x1);return;}if(await isRepeated({'message':_0x597501,'phone':_0x55b6b5})){terminal[_0x58c315(0x1ba)](_0x58c315(0x1b7)+_0x55b6b5,0x1);return;}for(const _0x3f5b81 of global[_0x58c315(0x1cf)]){let _0x1eb116=_0x3f5b81[_0x58c315(0x1e3)][_0x58c315(0x1d3)](_0x4e2a57=>_0x4e2a57['chatid']==_0x40f800||_0x216a6c&&_0x4e2a57[_0x58c315(0x1c3)]==_0x58c315(0x1b1)||_0x216a6c&&_0x4e2a57[_0x58c315(0x1c3)]==_0x58c315(0x1b5)&&_0x4e2a57[_0x58c315(0x1b5)]['every'](_0x4a5382=>_0x4a5382[_0x58c315(0x1c3)]!=_0x40f800)),_0x135895=_0x3f5b81['keywords'][_0x58c315(0x1d3)](_0x3803a9=>{const _0x402954=_0x58c315;if(Array[_0x402954(0x1c6)](_0x3803a9)){let _0x183976=!![];return _0x3803a9[_0x402954(0x1b6)](_0x82d250=>{const _0x3f5963=_0x402954;Array[_0x3f5963(0x1c6)](_0x82d250)?_0x183976=_0x183976&&_0x82d250[_0x3f5963(0x1d3)](_0x171583=>{const _0x4cfc50=_0x3f5963;return _0x171583=normalizeArabic(_0x171583),_0x597501[_0x4cfc50(0x1b0)](_0x171583);}):_0x183976=_0x183976&&isMatchText(_0x597501,_0x82d250);}),_0x183976;}else return isMatchText(_0x597501,_0x3803a9);}),_0x2de35b=_0x3f5b81['blockedkeywords'][_0x58c315(0x1d3)](_0x3fdcb8=>{const _0x52c70a=_0x58c315;if(Array['isArray'](_0x3fdcb8)){let _0x4dec08=!![];return _0x3fdcb8[_0x52c70a(0x1b6)](_0x1624e0=>{const _0x5619a5=_0x52c70a;Array[_0x5619a5(0x1c6)](_0x1624e0)?_0x4dec08=_0x4dec08&&_0x1624e0[_0x5619a5(0x1d3)](_0x566f41=>{const _0x49a9b3=_0x5619a5;return _0x566f41=normalizeArabic(_0x566f41),_0x597501[_0x49a9b3(0x1b0)](_0x566f41);}):_0x4dec08=_0x4dec08&&isMatchText(_0x597501,_0x1624e0);}),_0x4dec08;}else return isMatchText(_0x597501,_0x3fdcb8);});if(_0x1eb116)_0x2fc4d7[_0x58c315(0x1d8)]();if(_0x1eb116&&_0x135895&&!_0x2de35b){const _0xf097fe=getSheetID();if(_0xf097fe=='')return;let _0x532965=_0x216a6c?(await getGroups())[_0x58c315(0x1b9)](_0x2ea123=>_0x2ea123[_0x58c315(0x1c3)]==_0x40f800)[0x0][_0x58c315(0x1a9)]:'Private',_0x127a0e=renderKeywords(_0x3f5b81['keywords']),_0xa1e00=_0x8dfff3[_0x58c315(0x1aa)]?await storeMedia(_0x8dfff3,_0x55b6b5):'';const _0x10c3cf=[_0x2814f5,_0x55b6b5,_0x532965,_0x597501,_0xa1e00,_0x3f5b81[_0x58c315(0x1a9)],_0x127a0e];terminal[_0x58c315(0x1ba)](_0x58c315(0x1b3)+_0x532965+'-'+_0x55b6b5+'=>'+_0x8dfff3[_0x58c315(0x1e0)]);const _0x108006=_0x3f5b81['gsheet'][_0x58c315(0x1c8)];try{Gsheet[_0x58c315(0x1e1)](_0x108006,_0x10c3cf);}catch(_0xca7596){terminal[_0x58c315(0x1ce)](_0x58c315(0x1ae)+_0xca7596);}if(_0x3f5b81[_0x58c315(0x1d4)]&&_0x216a6c)_0x8dfff3['reply'](_0x3f5b81['reply']);if(_0x3f5b81[_0x58c315(0x1e6)])client[_0x58c315(0x1db)](_0x55b6b5+_0x58c315(0x1dd),_0x3f5b81[_0x58c315(0x1e6)]);let _0xbb85e4=messageBuffer[_0x58c315(0x1d9)];_0xbb85e4>messageBufferMAXLENGTH&&messageBuffer[_0x58c315(0x1c9)](0x0,_0xbb85e4-messageBufferMAXLENGTH),global[_0x58c315(0x1be)][_0x58c315(0x1df)]({'message':_0x597501,'phone':_0x55b6b5});}}};function a8_0x5427(){const _0x313c16=['name','hasMedia','every','en-EG','../util/misc','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','2442546kcQWGh','includes','allgroups','from','[MATCH!]\x20','exports','except','forEach','[REPEATED\x20MESSAGE!]\x20','trim','filter','logger','GroupID','1775484JoNQOf','Gdrive','messageBuffer','2028090nFiPGq','body','7ZJhYhp','7082gdPdik','chatid','data','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','isArray','267724AIMonj','sheetId','splice','171UIGSsu','map','../util/terminal','split','red','conditions','message','1516490FEELKQ','toLocaleTimeString','some','reply','getChats','876032ZwmEeU','getChat','sendSeen','length','./controlMsgHandler','sendMessage','webViewLink','@c.us','../config','push','type','addMatch','toLocaleDateString','applicable','_serialized','isGroup','replyprivate','private'];a8_0x5427=function(){return _0x313c16;};return a8_0x5427();}module[a8_0x369aff(0x1b4)]={'receivedmsgHandler':receivedmsgHandler};