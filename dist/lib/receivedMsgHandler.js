const a8_0x574d34=a8_0x1449;(function(_0x142eb7,_0x35049d){const _0x40fbd0=a8_0x1449,_0x2dd946=_0x142eb7();while(!![]){try{const _0x184780=-parseInt(_0x40fbd0(0xe6))/0x1*(-parseInt(_0x40fbd0(0xfa))/0x2)+parseInt(_0x40fbd0(0xfe))/0x3*(parseInt(_0x40fbd0(0x114))/0x4)+parseInt(_0x40fbd0(0x120))/0x5+-parseInt(_0x40fbd0(0xde))/0x6+parseInt(_0x40fbd0(0x115))/0x7+parseInt(_0x40fbd0(0x106))/0x8*(-parseInt(_0x40fbd0(0x112))/0x9)+-parseInt(_0x40fbd0(0xee))/0xa;if(_0x184780===_0x35049d)break;else _0x2dd946['push'](_0x2dd946['shift']());}catch(_0x438d9b){_0x2dd946['push'](_0x2dd946['shift']());}}}(a8_0x50db,0x5188e));function a8_0x50db(){const _0x2024b6=['isGroup','toLocaleDateString','7561610LBpAFu','phone','name','includes','sheetsByTitle','from',']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','toLocaleTimeString','replyprivate','keywords','../util/terminal','value','23476YtNuEw','en-EG','logger','addMatch','3Aurwut','push','except','../config','loadCells','blockedkeywords',']\x20[FILTERED\x20WORD!]\x20','type','40xPWRuR','reply','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','@c.us','split','log','_serialized','createFile','[WARN!]\x20Cannot\x20get\x20variables\x0amake\x20sure\x20the\x20variables\x20worksheet\x20exists','./controlMsgHandler','isArray','getChats','361863KuwBWc','map','721872ymnIub','4229645zOeFck',']\x20[FILTERED\x20PHONE!]\x20','every','../util/dataOps','red','allgroups','GroupID','formattedValue',']\x20[MATCH!]\x20','author','exports','2029140JImSmU','trim','webViewLink','data','en-GB','chatid','messageBuffer','forEach','getCellByA1','filter','../util/misc','2002050yTCFKa','body',']\x20[REPEATED\x20MESSAGE!]\x20','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','message','getChat','splice','sendSeen','37YNsRzS','length','replace','applicable','some','Private'];a8_0x50db=function(){return _0x2024b6;};return a8_0x50db();}function a8_0x1449(_0x362f4b,_0x454b41){const _0x50dbf3=a8_0x50db();return a8_0x1449=function(_0x144945,_0xad073e){_0x144945=_0x144945-0xd7;let _0x237705=_0x50dbf3[_0x144945];return _0x237705;},a8_0x1449(_0x362f4b,_0x454b41);}const {messageBufferMAXLENGTH}=require(a8_0x574d34(0x101)),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require(a8_0x574d34(0x118)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x574d34(0xdd)),{renderKeywords}=require(a8_0x574d34(0x10f)),terminal=require(a8_0x574d34(0xf8)),getGroups=async()=>{const _0x3b869=a8_0x574d34;let _0x1e03c9=await client[_0x3b869(0x111)](),_0x147a5b=await _0x1e03c9['filter'](_0x36d2c6=>_0x36d2c6[_0x3b869(0xec)]==!![]&&_0x36d2c6[_0x3b869(0xf0)]!=undefined&&_0x36d2c6['id'][_0x3b869(0x10c)]!=settings[_0x3b869(0x11b)]);return _0x147a5b=_0x147a5b[_0x3b869(0x113)](_0x192851=>({'name':_0x192851[_0x3b869(0xf0)],'chatid':_0x192851['id'][_0x3b869(0x10c)]})),_0x147a5b;},storeMedia=async(_0x3f6ac0,_0x86327e)=>{const _0x34678a=a8_0x574d34,_0x164055=getDriveID();if(_0x164055=='')return terminal[_0x34678a(0xfc)](_0x34678a(0x108),0x1),'';const _0x260c44=await _0x3f6ac0['downloadMedia'](),_0x326e91=await data2Stream(_0x260c44,_0x86327e);try{const _0x4ea5ef=await global['Gdrive'][_0x34678a(0x10d)](_0x164055,_0x326e91);return _0x4ea5ef[_0x34678a(0x123)][_0x34678a(0x122)];}catch(_0x17f7b4){terminal[_0x34678a(0x119)](_0x34678a(0xe1)+_0x17f7b4);}},isRepeated=async({message:_0x3d0dd5,phone:_0x465a2f})=>{const _0x1d3896=a8_0x574d34,_0xb66226=messageBuffer[_0x1d3896(0xea)](_0x113da2=>_0x113da2[_0x1d3896(0xe2)]==_0x3d0dd5&&_0x113da2[_0x1d3896(0xef)]==_0x465a2f);return _0xb66226;},isMatchText=(_0x3f438e,_0x4bdc6e)=>{const _0x1fa7ac=a8_0x574d34;_0x4bdc6e=normalizeArabic(_0x4bdc6e);if(_0x4bdc6e[_0x1fa7ac(0xf1)]('++')){let _0x3162ff=_0x4bdc6e[_0x1fa7ac(0x10a)]('++')[_0x1fa7ac(0x113)](_0x2062ee=>_0x2062ee[_0x1fa7ac(0x121)]())[_0x1fa7ac(0xdc)](_0x423167=>_0x423167!=='');return _0x3162ff[_0x1fa7ac(0x117)](_0x4df95d=>_0x3f438e['includes'](_0x4df95d));}else return _0x3f438e[_0x1fa7ac(0xf1)](_0x4bdc6e);},replaceVariables=async _0x311d9b=>{const _0x1dc318=a8_0x574d34;try{const _0x5e9f13=/\[([a-zA-Z]+)!([A-Z]{1,2}\d+)\]/g;let _0x1a66c7=[..._0x311d9b['matchAll'](_0x5e9f13)];if(_0x1a66c7[_0x1dc318(0xe7)]>0x0)for await(const _0x48a705 of _0x1a66c7){let _0x348e32=_0x48a705[0x0],_0x428e85=_0x48a705[0x1],_0x59fb2f=_0x48a705[0x2];console[_0x1dc318(0x10b)](_0x348e32,_0x428e85,_0x59fb2f);let _0x544f87=await global['GSpreadsheet'][_0x1dc318(0xf2)][_0x428e85];await _0x544f87[_0x1dc318(0x102)](_0x59fb2f);let _0x10d3d2=String(_0x544f87[_0x1dc318(0xdb)](_0x59fb2f)[_0x1dc318(0x11c)]),_0x2180c3=String(_0x544f87['getCellByA1'](_0x59fb2f)[_0x1dc318(0xf9)]);console[_0x1dc318(0x10b)](_0x348e32,_0x428e85,_0x59fb2f,_0x10d3d2,_0x2180c3),_0x311d9b=_0x311d9b[_0x1dc318(0xe8)](_0x348e32,_0x10d3d2);}}catch(_0x5d8bd8){terminal[_0x1dc318(0xfc)](_0x1dc318(0x10e),0x1);}return _0x311d9b;},receivedmsgHandler=async _0x1167ef=>{const _0x4ad67a=a8_0x574d34,_0x392d68=new Date(),_0x440478=_0x392d68[_0x4ad67a(0xed)](_0x4ad67a(0xd7))+'\x20'+_0x392d68[_0x4ad67a(0xf5)](_0x4ad67a(0xfb));let _0xf8f05c=await _0x1167ef[_0x4ad67a(0xe3)]();const _0x35286a=_0xf8f05c[_0x4ad67a(0xec)],_0x4bfe21=_0x35286a?_0x1167ef[_0x4ad67a(0xf3)]:'private',_0x13eca6=_0x35286a?_0x1167ef[_0x4ad67a(0x11e)][_0x4ad67a(0x10a)]('@')[0x0]:_0x1167ef[_0x4ad67a(0xf3)]['split']('@')[0x0];let _0x26cdc9=_0x35286a?(await getGroups())[_0x4ad67a(0xdc)](_0x325bd5=>_0x325bd5[_0x4ad67a(0xd8)]==_0x4bfe21)[0x0][_0x4ad67a(0xf0)]:_0x4ad67a(0xeb);const _0xc0ff01=normalizeArabic(_0x1167ef[_0x4ad67a(0xdf)]);if(await isFiltered(_0xc0ff01)){terminal[_0x4ad67a(0xfc)]('['+_0x440478+_0x4ad67a(0x104)+_0x26cdc9+'-'+_0x13eca6,0x1);return;}if(await isFilteredPhone(_0x13eca6)){terminal['logger']('['+_0x440478+_0x4ad67a(0x116)+_0x26cdc9+'-'+_0x13eca6,0x1);return;}if(await isRepeated({'message':_0xc0ff01,'phone':_0x13eca6})){terminal['logger']('['+_0x440478+_0x4ad67a(0xe0)+_0x26cdc9+'-'+_0x13eca6,0x1);return;}for(const _0x4761fe of global['conditions']){let _0x382318=_0x4761fe[_0x4ad67a(0xe9)][_0x4ad67a(0xea)](_0x565da3=>_0x565da3[_0x4ad67a(0xd8)]==_0x4bfe21||_0x35286a&&_0x565da3[_0x4ad67a(0xd8)]==_0x4ad67a(0x11a)||_0x35286a&&_0x565da3['chatid']==_0x4ad67a(0x100)&&_0x565da3[_0x4ad67a(0x100)][_0x4ad67a(0x117)](_0x1c02ed=>_0x1c02ed[_0x4ad67a(0xd8)]!=_0x4bfe21)),_0x42cdd9=_0x4761fe['keywords'][_0x4ad67a(0xea)](_0x5f3093=>{const _0x4c91ac=_0x4ad67a;if(Array[_0x4c91ac(0x110)](_0x5f3093)){let _0x888424=!![];return _0x5f3093[_0x4c91ac(0xda)](_0x39a23f=>{const _0x1f1eed=_0x4c91ac;Array[_0x1f1eed(0x110)](_0x39a23f)?_0x888424=_0x888424&&_0x39a23f['some'](_0xe718ce=>{const _0x35d3b4=_0x1f1eed;return _0xe718ce=normalizeArabic(_0xe718ce),_0xc0ff01[_0x35d3b4(0xf1)](_0xe718ce);}):_0x888424=_0x888424&&isMatchText(_0xc0ff01,_0x39a23f);}),_0x888424;}else return isMatchText(_0xc0ff01,_0x5f3093);}),_0x39fa8d=_0x4761fe[_0x4ad67a(0x103)]['some'](_0x3d4067=>{const _0x293dc1=_0x4ad67a;if(Array[_0x293dc1(0x110)](_0x3d4067)){let _0x15cea5=!![];return _0x3d4067[_0x293dc1(0xda)](_0x31f84b=>{const _0x3195c0=_0x293dc1;Array[_0x3195c0(0x110)](_0x31f84b)?_0x15cea5=_0x15cea5&&_0x31f84b['some'](_0x7222be=>{const _0x5c4dd1=_0x3195c0;return _0x7222be=normalizeArabic(_0x7222be),_0xc0ff01[_0x5c4dd1(0xf1)](_0x7222be);}):_0x15cea5=_0x15cea5&&isMatchText(_0xc0ff01,_0x31f84b);}),_0x15cea5;}else return isMatchText(_0xc0ff01,_0x3d4067);});if(_0x382318)_0xf8f05c[_0x4ad67a(0xe5)]();if(_0x382318&&_0x42cdd9&&!_0x39fa8d){const _0x5d1d27=getSheetID();if(_0x5d1d27=='')return;let _0xe35c83=renderKeywords(_0x4761fe[_0x4ad67a(0xf7)]),_0x2c93e0=_0x1167ef['hasMedia']?await storeMedia(_0x1167ef,_0x13eca6):'';const _0x52402b=[_0x440478,_0x13eca6,_0x26cdc9,_0xc0ff01,_0x2c93e0,_0x4761fe[_0x4ad67a(0xf0)],_0xe35c83];terminal[_0x4ad67a(0xfc)]('['+_0x440478+_0x4ad67a(0x11d)+_0x26cdc9+'-'+_0x13eca6+'=>'+_0x1167ef[_0x4ad67a(0x105)]+'\x20'+_0xe35c83);const _0x360819=_0x4761fe['gsheet']['sheetId'];try{Gsheet[_0x4ad67a(0xfd)](_0x360819,_0x52402b);}catch(_0xba819c){terminal[_0x4ad67a(0x119)]('['+_0x440478+_0x4ad67a(0xf4)+_0xba819c);}_0x4761fe[_0x4ad67a(0x107)]&&_0x35286a&&_0x1167ef[_0x4ad67a(0x107)](await replaceVariables(_0x4761fe['reply']));_0x4761fe[_0x4ad67a(0xf6)]&&client['sendMessage'](_0x13eca6+_0x4ad67a(0x109),await replaceVariables(_0x4761fe['replyprivate']));let _0x5ded24=messageBuffer[_0x4ad67a(0xe7)];_0x5ded24>messageBufferMAXLENGTH&&messageBuffer[_0x4ad67a(0xe4)](0x0,_0x5ded24-messageBufferMAXLENGTH),global[_0x4ad67a(0xd9)][_0x4ad67a(0xff)]({'message':_0xc0ff01,'phone':_0x13eca6});}}};module[a8_0x574d34(0x11f)]={'receivedmsgHandler':receivedmsgHandler};