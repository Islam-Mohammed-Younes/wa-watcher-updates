const a8_0x29445f=a8_0x5e65;(function(_0x45f09d,_0x4ee0bd){const _0x49fc4c=a8_0x5e65,_0x1fca9e=_0x45f09d();while(!![]){try{const _0x365816=parseInt(_0x49fc4c(0xbf))/0x1+-parseInt(_0x49fc4c(0xdd))/0x2+-parseInt(_0x49fc4c(0xb8))/0x3+parseInt(_0x49fc4c(0xc7))/0x4*(parseInt(_0x49fc4c(0xe5))/0x5)+-parseInt(_0x49fc4c(0xb9))/0x6*(parseInt(_0x49fc4c(0xc1))/0x7)+parseInt(_0x49fc4c(0xb4))/0x8*(parseInt(_0x49fc4c(0xb3))/0x9)+parseInt(_0x49fc4c(0xe4))/0xa*(parseInt(_0x49fc4c(0xec))/0xb);if(_0x365816===_0x4ee0bd)break;else _0x1fca9e['push'](_0x1fca9e['shift']());}catch(_0x2dd09b){_0x1fca9e['push'](_0x1fca9e['shift']());}}}(a8_0x57a0,0xe8138));const {messageBufferMAXLENGTH}=require(a8_0x29445f(0xe2)),{getSheetID,getDriveID}=require(a8_0x29445f(0xdc)),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require('../util/misc'),{renderKeywords}=require(a8_0x29445f(0xea)),terminal=require(a8_0x29445f(0xc9)),getGroups=async()=>{const _0xcf4c5=a8_0x29445f;let _0xb63ea7=await client[_0xcf4c5(0xd6)](),_0x320e17=await _0xb63ea7[_0xcf4c5(0xb5)](_0x1fa103=>_0x1fa103['isGroup']==!![]&&_0x1fa103[_0xcf4c5(0xbe)]!=undefined&&_0x1fa103['id'][_0xcf4c5(0xca)]!=settings[_0xcf4c5(0xe7)]);return _0x320e17=_0x320e17[_0xcf4c5(0xc6)](_0x43b26b=>({'name':_0x43b26b[_0xcf4c5(0xbe)],'chatid':_0x43b26b['id'][_0xcf4c5(0xca)]})),_0x320e17;},storeMedia=async(_0x5b0b28,_0x161748)=>{const _0x5c8b98=a8_0x29445f,_0x38e00e=getDriveID();if(_0x38e00e=='')return terminal[_0x5c8b98(0xd9)](_0x5c8b98(0xce),0x1),'';const _0x96f5e1=await _0x5b0b28['downloadMedia'](),_0x211e7c=await data2Stream(_0x96f5e1,_0x161748);try{const _0x2c801d=await global[_0x5c8b98(0xcf)][_0x5c8b98(0xbd)](_0x38e00e,_0x211e7c);return _0x2c801d[_0x5c8b98(0xcb)][_0x5c8b98(0xc4)];}catch(_0x393797){terminal[_0x5c8b98(0xe9)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x393797);}},isRepeated=async({message:_0x356be5,phone:_0x2192d7})=>{const _0x3a4211=a8_0x29445f,_0x4a156f=messageBuffer[_0x3a4211(0xc3)](_0xe7f6fb=>_0xe7f6fb['message']==_0x356be5&&_0xe7f6fb[_0x3a4211(0xbc)]==_0x2192d7);return _0x4a156f;},isMatchText=(_0x2e9cd0,_0x4622cd)=>{const _0x2ae153=a8_0x29445f;_0x4622cd=normalizeArabic(_0x4622cd);if(_0x4622cd[_0x2ae153(0xdf)]('++')){let _0xb04a43=_0x4622cd[_0x2ae153(0xb7)]('++')[_0x2ae153(0xc6)](_0x308ab5=>_0x308ab5[_0x2ae153(0xd8)]())[_0x2ae153(0xb5)](_0x4d1fab=>_0x4d1fab!=='');return _0xb04a43[_0x2ae153(0xd1)](_0xea46a9=>_0x2e9cd0[_0x2ae153(0xdf)](_0xea46a9));}else return _0x2e9cd0['includes'](_0x4622cd);},receivedmsgHandler=async _0x5ed9bb=>{const _0x45b57d=a8_0x29445f,_0x1322fa=new Date(),_0x47133e=_0x1322fa[_0x45b57d(0xd2)](_0x45b57d(0xc2))+'\x20'+_0x1322fa[_0x45b57d(0xba)]('en-EG');let _0x4f1159=await _0x5ed9bb['getChat']();const _0xbf4ead=_0x4f1159['isGroup'],_0x38d2b=_0xbf4ead?_0x5ed9bb[_0x45b57d(0xc5)]:_0x45b57d(0xed),_0x52cde3=_0xbf4ead?_0x5ed9bb[_0x45b57d(0xc8)]['split']('@')[0x0]:_0x5ed9bb[_0x45b57d(0xc5)]['split']('@')[0x0],_0x3ad7fd=normalizeArabic(_0x5ed9bb['body']);if(await isFiltered(_0x3ad7fd)){terminal[_0x45b57d(0xd9)]('[FILTERED\x20WORD!]\x20'+_0x52cde3,0x1);return;}if(await isFilteredPhone(_0x52cde3)){terminal[_0x45b57d(0xd9)]('[FILTERED\x20PHONE!]\x20'+_0x52cde3,0x1);return;}if(await isRepeated({'message':_0x3ad7fd,'phone':_0x52cde3})){terminal['logger']('[REPEATED\x20MESSAGE!]\x20'+_0x52cde3,0x1);return;}for(const _0x4bdddb of global[_0x45b57d(0xde)]){let _0x26b4a2=_0x4bdddb['applicable'][_0x45b57d(0xc3)](_0x1a7ea3=>_0x1a7ea3[_0x45b57d(0xe8)]==_0x38d2b||_0xbf4ead&&_0x1a7ea3[_0x45b57d(0xe8)]=='allgroups'||_0xbf4ead&&_0x1a7ea3[_0x45b57d(0xe8)]=='except'&&_0x1a7ea3[_0x45b57d(0xd3)][_0x45b57d(0xd1)](_0x2eba5e=>_0x2eba5e[_0x45b57d(0xe8)]!=_0x38d2b)),_0x1dd88c=_0x4bdddb[_0x45b57d(0xc0)][_0x45b57d(0xc3)](_0x2db5ed=>{const _0xdd5ad4=_0x45b57d;if(Array[_0xdd5ad4(0xe3)](_0x2db5ed)){let _0x2a4364=!![];return _0x2db5ed[_0xdd5ad4(0xdb)](_0x3270bd=>{const _0x780ac1=_0xdd5ad4;Array[_0x780ac1(0xe3)](_0x3270bd)?_0x2a4364=_0x2a4364&&_0x3270bd[_0x780ac1(0xc3)](_0x40cbbf=>{const _0x2ed094=_0x780ac1;return _0x40cbbf=normalizeArabic(_0x40cbbf),_0x3ad7fd[_0x2ed094(0xdf)](_0x40cbbf);}):_0x2a4364=_0x2a4364&&isMatchText(_0x3ad7fd,_0x3270bd);}),_0x2a4364;}else return isMatchText(_0x3ad7fd,_0x2db5ed);}),_0x3247a0=_0x4bdddb['blockedkeywords'][_0x45b57d(0xc3)](_0x1f34ca=>{const _0x4c649f=_0x45b57d;if(Array['isArray'](_0x1f34ca)){let _0x44e25c=!![];return _0x1f34ca[_0x4c649f(0xdb)](_0x30570c=>{const _0x9fe4db=_0x4c649f;Array['isArray'](_0x30570c)?_0x44e25c=_0x44e25c&&_0x30570c[_0x9fe4db(0xc3)](_0x4383c8=>{const _0x13698d=_0x9fe4db;return _0x4383c8=normalizeArabic(_0x4383c8),_0x3ad7fd[_0x13698d(0xdf)](_0x4383c8);}):_0x44e25c=_0x44e25c&&isMatchText(_0x3ad7fd,_0x30570c);}),_0x44e25c;}else return isMatchText(_0x3ad7fd,_0x1f34ca);});if(_0x26b4a2)_0x4f1159[_0x45b57d(0xbb)]();if(_0x26b4a2&&_0x1dd88c&&!_0x3247a0){const _0xfb8915=getSheetID();if(_0xfb8915=='')return;let _0x134d50=_0xbf4ead?(await getGroups())[_0x45b57d(0xb5)](_0x50d59e=>_0x50d59e[_0x45b57d(0xe8)]==_0x38d2b)[0x0]['name']:_0x45b57d(0xd4),_0x4b5f87=renderKeywords(_0x4bdddb[_0x45b57d(0xc0)]),_0x4b4bf7=_0x5ed9bb[_0x45b57d(0xe0)]?await storeMedia(_0x5ed9bb,_0x52cde3):'';const _0x42b663=[_0x47133e,_0x52cde3,_0x134d50,_0x3ad7fd,_0x4b4bf7,_0x4bdddb[_0x45b57d(0xbe)],_0x4b5f87];terminal[_0x45b57d(0xd9)]('[MATCH!]\x20'+_0x134d50+'-'+_0x52cde3+'=>'+_0x5ed9bb['type']);const _0x445563=_0x4bdddb[_0x45b57d(0xcd)]['sheetId'];try{Gsheet[_0x45b57d(0xda)](_0x445563,_0x42b663);}catch(_0x49fbab){terminal[_0x45b57d(0xe9)](_0x45b57d(0xb6)+_0x49fbab);}if(_0x4bdddb[_0x45b57d(0xe6)]&&_0xbf4ead)_0x5ed9bb[_0x45b57d(0xe6)](_0x4bdddb['reply']);if(_0x4bdddb[_0x45b57d(0xd7)])client[_0x45b57d(0xeb)](_0x52cde3+'@c.us',_0x4bdddb[_0x45b57d(0xd7)]);let _0x1dc83d=messageBuffer['length'];_0x1dc83d>messageBufferMAXLENGTH&&messageBuffer[_0x45b57d(0xcc)](0x0,_0x1dc83d-messageBufferMAXLENGTH),global[_0x45b57d(0xe1)][_0x45b57d(0xd5)]({'message':_0x3ad7fd,'phone':_0x52cde3});}}};module[a8_0x29445f(0xd0)]={'receivedmsgHandler':receivedmsgHandler};function a8_0x5e65(_0x459c73,_0x2af364){const _0x57a02c=a8_0x57a0();return a8_0x5e65=function(_0x5e6564,_0x176f0e){_0x5e6564=_0x5e6564-0xb3;let _0x257ced=_0x57a02c[_0x5e6564];return _0x257ced;},a8_0x5e65(_0x459c73,_0x2af364);}function a8_0x57a0(){const _0x334447=['157284zzHzZj','72daJxOs','filter','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','split','2479782DfCCwo','60zxpyrQ','toLocaleTimeString','sendSeen','phone','createFile','name','324784nhOkWt','keywords','228494YWZecc','en-GB','some','webViewLink','from','map','111856dREGCM','author','../util/terminal','_serialized','data','splice','gsheet','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','Gdrive','exports','every','toLocaleDateString','except','Private','push','getChats','replyprivate','trim','logger','addMatch','forEach','../util/files','31390PMyBKh','conditions','includes','hasMedia','messageBuffer','../config','isArray','10fcKaGz','55GwRMmf','reply','GroupID','chatid','red','./controlMsgHandler','sendMessage','14625831mWjaDA','private'];a8_0x57a0=function(){return _0x334447;};return a8_0x57a0();}