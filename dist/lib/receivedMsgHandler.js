const a8_0x1be86d=a8_0x57de;(function(_0xdc52d9,_0x26d30b){const _0x212d75=a8_0x57de,_0x781742=_0xdc52d9();while(!![]){try{const _0x2192c8=-parseInt(_0x212d75(0x153))/0x1*(-parseInt(_0x212d75(0x170))/0x2)+-parseInt(_0x212d75(0x14e))/0x3+parseInt(_0x212d75(0x16e))/0x4*(parseInt(_0x212d75(0x146))/0x5)+-parseInt(_0x212d75(0x142))/0x6*(parseInt(_0x212d75(0x15c))/0x7)+parseInt(_0x212d75(0x166))/0x8+-parseInt(_0x212d75(0x171))/0x9+-parseInt(_0x212d75(0x16f))/0xa*(parseInt(_0x212d75(0x15a))/0xb);if(_0x2192c8===_0x26d30b)break;else _0x781742['push'](_0x781742['shift']());}catch(_0x1cb2c0){_0x781742['push'](_0x781742['shift']());}}}(a8_0x463f,0x9db7e));const {messageBufferMAXLENGTH}=require(a8_0x1be86d(0x176)),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require('../util/misc'),{renderKeywords}=require('./controlMsgHandler'),terminal=require(a8_0x1be86d(0x168)),getGroups=async()=>{const _0x2eb31d=a8_0x1be86d;let _0x2765e1=await client[_0x2eb31d(0x160)](),_0x59da3f=await _0x2765e1['filter'](_0x5e6521=>_0x5e6521['isGroup']==!![]&&_0x5e6521[_0x2eb31d(0x14d)]!=undefined&&_0x5e6521['id'][_0x2eb31d(0x163)]!=settings[_0x2eb31d(0x16c)]);return _0x59da3f=_0x59da3f[_0x2eb31d(0x178)](_0x266f64=>({'name':_0x266f64[_0x2eb31d(0x14d)],'chatid':_0x266f64['id']['_serialized']})),_0x59da3f;},storeMedia=async(_0x5c316e,_0x31acdc)=>{const _0x28b596=a8_0x1be86d,_0x2b8e60=getDriveID();if(_0x2b8e60=='')return terminal[_0x28b596(0x16a)](_0x28b596(0x154),0x1),'';const _0x46ec61=await _0x5c316e[_0x28b596(0x164)](),_0x3a9cce=await data2Stream(_0x46ec61,_0x31acdc);try{const _0x1a123a=await global[_0x28b596(0x145)]['createFile'](_0x2b8e60,_0x3a9cce);return _0x1a123a['data'][_0x28b596(0x13e)];}catch(_0x10f266){terminal[_0x28b596(0x17a)](_0x28b596(0x172)+_0x10f266);}},isRepeated=async({message:_0x3d152b,phone:_0x5ded4f})=>{const _0x37cfd0=a8_0x1be86d,_0x5905bf=messageBuffer[_0x37cfd0(0x148)](_0x387e20=>_0x387e20[_0x37cfd0(0x147)]==_0x3d152b&&_0x387e20[_0x37cfd0(0x16b)]==_0x5ded4f);return _0x5905bf;},isMatchText=(_0x15e6d3,_0x534223)=>{const _0x50097b=a8_0x1be86d;_0x534223=normalizeArabic(_0x534223);if(_0x534223[_0x50097b(0x141)]('++')){let _0x25b8bf=_0x534223[_0x50097b(0x173)]('++')[_0x50097b(0x178)](_0x4ccf1e=>_0x4ccf1e[_0x50097b(0x149)]())[_0x50097b(0x174)](_0x5a4e8c=>_0x5a4e8c!=='');return _0x25b8bf['every'](_0x5e24ab=>_0x15e6d3[_0x50097b(0x141)](_0x5e24ab));}else return _0x15e6d3[_0x50097b(0x141)](_0x534223);},receivedmsgHandler=async _0x448af4=>{const _0x468ed0=a8_0x1be86d,_0x422934=new Date(),_0x34b0f0=_0x422934['toLocaleDateString']('en-GB')+'\x20'+_0x422934[_0x468ed0(0x157)](_0x468ed0(0x161));let _0xbe235f=await _0x448af4[_0x468ed0(0x144)]();const _0x13fa81=_0xbe235f[_0x468ed0(0x13f)],_0x31ca78=_0x13fa81?_0x448af4[_0x468ed0(0x14b)]:_0x468ed0(0x150),_0x1c930a=_0x13fa81?_0x448af4['author'][_0x468ed0(0x173)]('@')[0x0]:_0x448af4[_0x468ed0(0x14b)][_0x468ed0(0x173)]('@')[0x0],_0xc54e0c=normalizeArabic(_0x448af4['body']);if(await isFiltered(_0xc54e0c)){terminal['logger']('[FILTERED\x20WORD!]\x20'+_0x1c930a,0x1);return;}if(await isFilteredPhone(_0x1c930a)){terminal[_0x468ed0(0x16a)](_0x468ed0(0x140)+_0x1c930a,0x1);return;}if(await isRepeated({'message':_0xc54e0c,'phone':_0x1c930a})){terminal[_0x468ed0(0x16a)](_0x468ed0(0x156)+_0x1c930a,0x1);return;}for(const _0x2f58fc of global[_0x468ed0(0x169)]){let _0x286e39=_0x2f58fc[_0x468ed0(0x14c)][_0x468ed0(0x148)](_0x2a8938=>_0x2a8938[_0x468ed0(0x159)]==_0x31ca78||_0x13fa81&&_0x2a8938[_0x468ed0(0x159)]==_0x468ed0(0x167)||_0x13fa81&&_0x2a8938['chatid']==_0x468ed0(0x162)&&_0x2a8938[_0x468ed0(0x162)]['every'](_0x16d196=>_0x16d196[_0x468ed0(0x159)]!=_0x31ca78)),_0x2832a0=_0x2f58fc[_0x468ed0(0x15d)][_0x468ed0(0x148)](_0x4c2467=>{const _0x8535ce=_0x468ed0;if(Array['isArray'](_0x4c2467)){let _0x1af65c=!![];return _0x4c2467[_0x8535ce(0x14a)](_0x414f5f=>{const _0x29ef29=_0x8535ce;Array['isArray'](_0x414f5f)?_0x1af65c=_0x1af65c&&_0x414f5f[_0x29ef29(0x148)](_0x830219=>{const _0x3e8112=_0x29ef29;return _0x830219=normalizeArabic(_0x830219),_0xc54e0c[_0x3e8112(0x141)](_0x830219);}):_0x1af65c=_0x1af65c&&isMatchText(_0xc54e0c,_0x414f5f);}),_0x1af65c;}else return isMatchText(_0xc54e0c,_0x4c2467);}),_0x88bf9e=_0x2f58fc['blockedkeywords'][_0x468ed0(0x148)](_0x30c8ea=>{const _0x5699d0=_0x468ed0;if(Array[_0x5699d0(0x155)](_0x30c8ea)){let _0x2836b0=!![];return _0x30c8ea[_0x5699d0(0x14a)](_0x49fe7f=>{const _0x429f1b=_0x5699d0;Array[_0x429f1b(0x155)](_0x49fe7f)?_0x2836b0=_0x2836b0&&_0x49fe7f[_0x429f1b(0x148)](_0x5b6915=>{const _0x34695b=_0x429f1b;return _0x5b6915=normalizeArabic(_0x5b6915),_0xc54e0c[_0x34695b(0x141)](_0x5b6915);}):_0x2836b0=_0x2836b0&&isMatchText(_0xc54e0c,_0x49fe7f);}),_0x2836b0;}else return isMatchText(_0xc54e0c,_0x30c8ea);});if(_0x286e39)_0xbe235f[_0x468ed0(0x151)]();if(_0x286e39&&_0x2832a0&&!_0x88bf9e){const _0x24ee80=getSheetID();if(_0x24ee80=='')return;let _0xbd6f3=_0x13fa81?(await getGroups())[_0x468ed0(0x174)](_0x1dc8e3=>_0x1dc8e3['chatid']==_0x31ca78)[0x0][_0x468ed0(0x14d)]:_0x468ed0(0x15b),_0x337c0a=renderKeywords(_0x2f58fc['keywords']),_0x5d6e84=_0x448af4[_0x468ed0(0x158)]?await storeMedia(_0x448af4,_0x1c930a):'';const _0x4309ab=[_0x34b0f0,_0x1c930a,_0xbd6f3,_0xc54e0c,_0x5d6e84,_0x2f58fc[_0x468ed0(0x14d)],_0x337c0a];terminal['logger'](_0x468ed0(0x14f)+_0xbd6f3+'-'+_0x1c930a+'=>'+_0x448af4[_0x468ed0(0x175)]);const _0x4f10b4=_0x2f58fc[_0x468ed0(0x152)][_0x468ed0(0x177)];try{Gsheet[_0x468ed0(0x16d)](_0x4f10b4,_0x4309ab);}catch(_0x1a7fd2){terminal[_0x468ed0(0x17a)]('[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:'+_0x1a7fd2);}if(_0x2f58fc['reply']&&_0x13fa81)_0x448af4[_0x468ed0(0x179)](_0x2f58fc['reply']);if(_0x2f58fc[_0x468ed0(0x15f)])client['sendMessage'](_0x1c930a+'@c.us',_0x2f58fc[_0x468ed0(0x15f)]);let _0x1fe5ec=messageBuffer['length'];_0x1fe5ec>messageBufferMAXLENGTH&&messageBuffer['splice'](0x0,_0x1fe5ec-messageBufferMAXLENGTH),global[_0x468ed0(0x15e)][_0x468ed0(0x143)]({'message':_0xc54e0c,'phone':_0x1c930a});}}};function a8_0x57de(_0x298561,_0x4eb4ea){const _0x463fa7=a8_0x463f();return a8_0x57de=function(_0x57de51,_0x4a2182){_0x57de51=_0x57de51-0x13e;let _0x1f1a8c=_0x463fa7[_0x57de51];return _0x1f1a8c;},a8_0x57de(_0x298561,_0x4eb4ea);}module[a8_0x1be86d(0x165)]={'receivedmsgHandler':receivedmsgHandler};function a8_0x463f(){const _0x2b0206=['[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','isArray','[REPEATED\x20MESSAGE!]\x20','toLocaleTimeString','hasMedia','chatid','5097763ETMxgQ','Private','8091839bAaxUn','keywords','messageBuffer','replyprivate','getChats','en-EG','except','_serialized','downloadMedia','exports','3645472vxSHFX','allgroups','../util/terminal','conditions','logger','phone','GroupID','addMatch','414244nkgpdz','10YHPuUu','12PwLpzG','137412ucWPZt','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','split','filter','type','../config','sheetId','map','reply','red','webViewLink','isGroup','[FILTERED\x20PHONE!]\x20','includes','6CNZDQC','push','getChat','Gdrive','50KhdQAX','message','some','trim','forEach','from','applicable','name','751638mrACuQ','[MATCH!]\x20','private','sendSeen','gsheet','173324tinAbj'];a8_0x463f=function(){return _0x2b0206;};return a8_0x463f();}