const a8_0x515d81=a8_0x139f;(function(_0x5e9ab4,_0x4d4522){const _0x3f3a87=a8_0x139f,_0x280ce8=_0x5e9ab4();while(!![]){try{const _0x1f3a5c=-parseInt(_0x3f3a87(0x9f))/0x1*(-parseInt(_0x3f3a87(0x7b))/0x2)+parseInt(_0x3f3a87(0x84))/0x3+-parseInt(_0x3f3a87(0x92))/0x4+-parseInt(_0x3f3a87(0xa5))/0x5*(parseInt(_0x3f3a87(0x9e))/0x6)+-parseInt(_0x3f3a87(0x7c))/0x7*(parseInt(_0x3f3a87(0x9a))/0x8)+parseInt(_0x3f3a87(0x8d))/0x9*(-parseInt(_0x3f3a87(0xaf))/0xa)+-parseInt(_0x3f3a87(0x7d))/0xb*(-parseInt(_0x3f3a87(0xb4))/0xc);if(_0x1f3a5c===_0x4d4522)break;else _0x280ce8['push'](_0x280ce8['shift']());}catch(_0x4deffc){_0x280ce8['push'](_0x280ce8['shift']());}}}(a8_0x2392,0x77611));function a8_0x139f(_0x42b39c,_0x3ac4c6){const _0x2392dd=a8_0x2392();return a8_0x139f=function(_0x139fe1,_0x131612){_0x139fe1=_0x139fe1-0x75;let _0x24f004=_0x2392dd[_0x139fe1];return _0x24f004;},a8_0x139f(_0x42b39c,_0x3ac4c6);}const {messageBufferMAXLENGTH}=require(a8_0x515d81(0x94)),{getSheetID,getDriveID}=require(a8_0x515d81(0x7a)),{data2Stream}=require(a8_0x515d81(0xa7)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x515d81(0x75)),{renderKeywords}=require(a8_0x515d81(0x91)),terminal=require('../util/terminal'),getGroups=async()=>{const _0x1df515=a8_0x515d81;let _0x1f6b51=await client[_0x1df515(0xa4)](),_0x41ddf5=await _0x1f6b51[_0x1df515(0x83)](_0x162a56=>_0x162a56[_0x1df515(0x86)]==!![]&&_0x162a56[_0x1df515(0x76)]!=undefined&&_0x162a56['id'][_0x1df515(0x95)]!=settings[_0x1df515(0x96)]);return _0x41ddf5=_0x41ddf5[_0x1df515(0xb3)](_0x19649d=>({'name':_0x19649d[_0x1df515(0x76)],'chatid':_0x19649d['id'][_0x1df515(0x95)]})),_0x41ddf5;},storeMedia=async(_0x2d5e9e,_0x2bd3ed)=>{const _0x373db2=a8_0x515d81,_0x14274d=getDriveID();if(_0x14274d=='')return terminal[_0x373db2(0xa0)](_0x373db2(0x8a),0x1),'';const _0x4aad95=await _0x2d5e9e[_0x373db2(0xa8)](),_0x5064c6=await data2Stream(_0x4aad95,_0x2bd3ed);try{const _0x3bde01=await global['Gdrive'][_0x373db2(0x7f)](_0x14274d,_0x5064c6);return _0x3bde01[_0x373db2(0x78)]['webViewLink'];}catch(_0x5d556e){terminal['red']('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x5d556e);}},isRepeated=async({message:_0x1923fe,phone:_0x208fe2})=>{const _0x360024=a8_0x515d81,_0x46c840=messageBuffer[_0x360024(0xb0)](_0x32b512=>_0x32b512[_0x360024(0xa2)]==_0x1923fe&&_0x32b512['phone']==_0x208fe2);return _0x46c840;},isMatchText=(_0x300181,_0x1cf4f4)=>{const _0x3edc4d=a8_0x515d81;_0x1cf4f4=normalizeArabic(_0x1cf4f4);if(_0x1cf4f4[_0x3edc4d(0xab)]('++')){let _0x1515ed=_0x1cf4f4['split']('++')['map'](_0x394466=>_0x394466[_0x3edc4d(0x97)]())['filter'](_0x54cf36=>_0x54cf36!=='');return _0x1515ed[_0x3edc4d(0xb2)](_0x38baea=>_0x300181[_0x3edc4d(0xab)](_0x38baea));}else return _0x300181[_0x3edc4d(0xab)](_0x1cf4f4);},receivedmsgHandler=async _0x373841=>{const _0x36af46=a8_0x515d81,_0x5f190f=new Date(),_0x4f678f=_0x5f190f['toLocaleDateString'](_0x36af46(0x90))+'\x20'+_0x5f190f['toLocaleTimeString'](_0x36af46(0x8e));let _0x526d65=await _0x373841[_0x36af46(0x80)]();const _0xd24929=_0x526d65[_0x36af46(0x86)],_0x55f8fe=_0xd24929?_0x373841[_0x36af46(0x8c)]:'private',_0x4ec2bc=_0xd24929?_0x373841['author']['split']('@')[0x0]:_0x373841['from']['split']('@')[0x0],_0x10b1eb=normalizeArabic(_0x373841['body']);if(await isFiltered(_0x10b1eb)){terminal['logger']('[FILTERED\x20WORD!]\x20'+_0x4ec2bc,0x1);return;}if(await isFilteredPhone(_0x4ec2bc)){terminal[_0x36af46(0xa0)](_0x36af46(0x85)+_0x4ec2bc,0x1);return;}if(await isRepeated({'message':_0x10b1eb,'phone':_0x4ec2bc})){terminal[_0x36af46(0xa0)](_0x36af46(0xad)+_0x4ec2bc,0x1);return;}for(const _0x208c84 of global[_0x36af46(0x87)]){let _0x581037=_0x208c84[_0x36af46(0xa1)]['some'](_0x49912c=>_0x49912c['chatid']==_0x55f8fe||_0xd24929&&_0x49912c[_0x36af46(0xae)]=='allgroups'||_0xd24929&&_0x49912c['chatid']=='except'&&_0x49912c[_0x36af46(0x7e)][_0x36af46(0xb2)](_0x2be5d9=>_0x2be5d9[_0x36af46(0xae)]!=_0x55f8fe)),_0x22ea1d=_0x208c84['keywords'][_0x36af46(0xb0)](_0x245994=>{const _0xe4ab54=_0x36af46;if(Array[_0xe4ab54(0x9c)](_0x245994)){let _0x17e0e2=!![];return _0x245994[_0xe4ab54(0xa6)](_0x3c6500=>{Array['isArray'](_0x3c6500)?_0x17e0e2=_0x17e0e2&&_0x3c6500['some'](_0x36cba2=>{const _0x40872c=a8_0x139f;return _0x36cba2=normalizeArabic(_0x36cba2),_0x10b1eb[_0x40872c(0xab)](_0x36cba2);}):_0x17e0e2=_0x17e0e2&&isMatchText(_0x10b1eb,_0x3c6500);}),_0x17e0e2;}else return isMatchText(_0x10b1eb,_0x245994);}),_0x5e6971=_0x208c84['blockedkeywords'][_0x36af46(0xb0)](_0x47a9d0=>{const _0x6e2c29=_0x36af46;if(Array['isArray'](_0x47a9d0)){let _0x3ef7a4=!![];return _0x47a9d0[_0x6e2c29(0xa6)](_0x135557=>{const _0x1fd5fe=_0x6e2c29;Array[_0x1fd5fe(0x9c)](_0x135557)?_0x3ef7a4=_0x3ef7a4&&_0x135557[_0x1fd5fe(0xb0)](_0x4a4150=>{return _0x4a4150=normalizeArabic(_0x4a4150),_0x10b1eb['includes'](_0x4a4150);}):_0x3ef7a4=_0x3ef7a4&&isMatchText(_0x10b1eb,_0x135557);}),_0x3ef7a4;}else return isMatchText(_0x10b1eb,_0x47a9d0);});if(_0x581037)_0x526d65[_0x36af46(0x98)]();if(_0x581037&&_0x22ea1d&&!_0x5e6971){const _0x16fc13=getSheetID();if(_0x16fc13=='')return;let _0x17236b=_0xd24929?(await getGroups())[_0x36af46(0x83)](_0x4a0e88=>_0x4a0e88[_0x36af46(0xae)]==_0x55f8fe)[0x0][_0x36af46(0x76)]:_0x36af46(0xaa),_0x1ea692=renderKeywords(_0x208c84[_0x36af46(0xb1)]),_0x34e21e=_0x373841[_0x36af46(0x8b)]?await storeMedia(_0x373841,_0x4ec2bc):'';const _0x5b0b41=[_0x4f678f,_0x4ec2bc,_0x17236b,_0x10b1eb,_0x34e21e,_0x208c84[_0x36af46(0x76)],_0x1ea692];terminal['logger'](_0x36af46(0x8f)+_0x17236b+'-'+_0x4ec2bc+'=>'+_0x373841['type']);const _0x8b207e=_0x208c84[_0x36af46(0x93)][_0x36af46(0x81)];try{Gsheet[_0x36af46(0x88)](_0x8b207e,_0x5b0b41);}catch(_0x2b8348){terminal[_0x36af46(0xa3)](_0x36af46(0x89)+_0x2b8348);}if(_0x208c84[_0x36af46(0x99)]&&_0xd24929)_0x373841['reply'](_0x208c84['reply']);if(_0x208c84[_0x36af46(0xac)])client[_0x36af46(0x9b)](_0x4ec2bc+_0x36af46(0xa9),_0x208c84[_0x36af46(0xac)]);let _0x3f7bbc=messageBuffer[_0x36af46(0x9d)];_0x3f7bbc>messageBufferMAXLENGTH&&messageBuffer[_0x36af46(0x82)](0x0,_0x3f7bbc-messageBufferMAXLENGTH),global[_0x36af46(0x77)]['push']({'message':_0x10b1eb,'phone':_0x4ec2bc});}}};module[a8_0x515d81(0x79)]={'receivedmsgHandler':receivedmsgHandler};function a8_0x2392(){const _0x5c63a0=['message','red','getChats','5qUexLo','forEach','../util/dataOps','downloadMedia','@c.us','Private','includes','replyprivate','[REPEATED\x20MESSAGE!]\x20','chatid','730QrDOjD','some','keywords','every','map','241464ThlMId','../util/misc','name','messageBuffer','data','exports','../util/files','12jnaEgl','56ceRWqe','968yoAKMQ','except','createFile','getChat','sheetId','splice','filter','2627196JpNvsS','[FILTERED\x20PHONE!]\x20','isGroup','conditions','addMatch','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','hasMedia','from','114723uMFVSe','en-EG','[MATCH!]\x20','en-GB','./controlMsgHandler','2929264NpUJJB','gsheet','../config','_serialized','GroupID','trim','sendSeen','reply','322712CBxzlP','sendMessage','isArray','length','3898164PYwqyn','79627znrjaG','logger','applicable'];a8_0x2392=function(){return _0x5c63a0;};return a8_0x2392();}