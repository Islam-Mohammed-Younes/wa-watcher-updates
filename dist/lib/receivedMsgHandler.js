const a8_0xdec8cc=a8_0x2a21;(function(_0x245ead,_0x1910c6){const _0x35daed=a8_0x2a21,_0x2712fc=_0x245ead();while(!![]){try{const _0xc9e203=-parseInt(_0x35daed(0xe6))/0x1+-parseInt(_0x35daed(0xef))/0x2+parseInt(_0x35daed(0xdc))/0x3+-parseInt(_0x35daed(0xd8))/0x4+parseInt(_0x35daed(0xdb))/0x5+-parseInt(_0x35daed(0xf5))/0x6+-parseInt(_0x35daed(0x102))/0x7*(-parseInt(_0x35daed(0xe1))/0x8);if(_0xc9e203===_0x1910c6)break;else _0x2712fc['push'](_0x2712fc['shift']());}catch(_0x2c352c){_0x2712fc['push'](_0x2712fc['shift']());}}}(a8_0x5051,0x4ac4b));function a8_0x2a21(_0x289e9a,_0x2d5864){const _0x50516f=a8_0x5051();return a8_0x2a21=function(_0x2a2170,_0x485fca){_0x2a2170=_0x2a2170-0xd1;let _0x3ce1d9=_0x50516f[_0x2a2170];return _0x3ce1d9;},a8_0x2a21(_0x289e9a,_0x2d5864);}function a8_0x5051(){const _0x5d1772=['_serialized','some','data','addMatch','forEach','../util/dataOps','name','sendMessage','../util/terminal','7xgngsf','gsheet','splice','getChats','filter','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','exports','../util/files','isArray','push','GroupID','sendSeen','@c.us','includes','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','type','body','red','except','trim','en-GB','hasMedia','webViewLink','1828680MtyMcp','keywords','split','2046865OKMbVZ','1041075dUSOMs','toLocaleDateString','[FILTERED\x20PHONE!]\x20','length','getChat','6782368XJmclH','[FILTERED\x20WORD!]\x20','toLocaleTimeString','map','every','115965cZkHAe','private','./controlMsgHandler','replyprivate','createFile','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','sheetId','chatid','../config','828076cBgVCi','from','message','applicable','phone','[REPEATED\x20MESSAGE!]\x20','1864620ZccljI','reply','Gdrive','logger'];a8_0x5051=function(){return _0x5d1772;};return a8_0x5051();}const {messageBufferMAXLENGTH}=require(a8_0xdec8cc(0xee)),{getSheetID,getDriveID}=require(a8_0xdec8cc(0x109)),{data2Stream}=require(a8_0xdec8cc(0xfe)),{isFiltered,isFilteredPhone,normalizeArabic}=require('../util/misc'),{renderKeywords}=require(a8_0xdec8cc(0xe8)),terminal=require(a8_0xdec8cc(0x101)),getGroups=async()=>{const _0x28505e=a8_0xdec8cc;let _0x5c4b53=await client[_0x28505e(0x105)](),_0x1c064e=await _0x5c4b53[_0x28505e(0x106)](_0x132a36=>_0x132a36['isGroup']==!![]&&_0x132a36[_0x28505e(0xff)]!=undefined&&_0x132a36['id'][_0x28505e(0xf9)]!=settings[_0x28505e(0x10c)]);return _0x1c064e=_0x1c064e[_0x28505e(0xe4)](_0x552260=>({'name':_0x552260[_0x28505e(0xff)],'chatid':_0x552260['id'][_0x28505e(0xf9)]})),_0x1c064e;},storeMedia=async(_0x4defc7,_0x108c65)=>{const _0x22b1f8=a8_0xdec8cc,_0x491de3=getDriveID();if(_0x491de3=='')return terminal[_0x22b1f8(0xf8)](_0x22b1f8(0x110),0x1),'';const _0x5dc835=await _0x4defc7['downloadMedia'](),_0x4ab39e=await data2Stream(_0x5dc835,_0x108c65);try{const _0x2b5aef=await global[_0x22b1f8(0xf7)][_0x22b1f8(0xea)](_0x491de3,_0x4ab39e);return _0x2b5aef[_0x22b1f8(0xfb)][_0x22b1f8(0xd7)];}catch(_0x5bd764){terminal[_0x22b1f8(0xd2)](_0x22b1f8(0x107)+_0x5bd764);}},isRepeated=async({message:_0x3b271f,phone:_0x3b717c})=>{const _0x38772b=a8_0xdec8cc,_0x1a202a=messageBuffer[_0x38772b(0xfa)](_0x4726e0=>_0x4726e0[_0x38772b(0xf1)]==_0x3b271f&&_0x4726e0[_0x38772b(0xf3)]==_0x3b717c);return _0x1a202a;},isMatchText=(_0x293b57,_0x465afc)=>{const _0x35decb=a8_0xdec8cc;_0x465afc=normalizeArabic(_0x465afc);if(_0x465afc[_0x35decb(0x10f)]('++')){let _0x377a46=_0x465afc[_0x35decb(0xda)]('++')[_0x35decb(0xe4)](_0x197059=>_0x197059[_0x35decb(0xd4)]())[_0x35decb(0x106)](_0x358e03=>_0x358e03!=='');return _0x377a46[_0x35decb(0xe5)](_0x5e36d0=>_0x293b57[_0x35decb(0x10f)](_0x5e36d0));}else return _0x293b57['includes'](_0x465afc);},receivedmsgHandler=async _0x347077=>{const _0x52cc9f=a8_0xdec8cc,_0x652ffc=new Date(),_0x2a786f=_0x652ffc[_0x52cc9f(0xdd)](_0x52cc9f(0xd5))+'\x20'+_0x652ffc[_0x52cc9f(0xe3)]('en-EG');let _0x2952e2=await _0x347077[_0x52cc9f(0xe0)]();const _0x594743=_0x2952e2['isGroup'],_0x5d57ae=_0x594743?_0x347077['from']:_0x52cc9f(0xe7),_0x24b41b=_0x594743?_0x347077['author'][_0x52cc9f(0xda)]('@')[0x0]:_0x347077[_0x52cc9f(0xf0)][_0x52cc9f(0xda)]('@')[0x0],_0xa56b1b=normalizeArabic(_0x347077[_0x52cc9f(0xd1)]);if(await isFiltered(_0xa56b1b)){terminal[_0x52cc9f(0xf8)](_0x52cc9f(0xe2)+_0x24b41b,0x1);return;}if(await isFilteredPhone(_0x24b41b)){terminal[_0x52cc9f(0xf8)](_0x52cc9f(0xde)+_0x24b41b,0x1);return;}if(await isRepeated({'message':_0xa56b1b,'phone':_0x24b41b})){terminal['logger'](_0x52cc9f(0xf4)+_0x24b41b,0x1);return;}for(const _0x92a4d6 of global['conditions']){let _0x34fb05=_0x92a4d6[_0x52cc9f(0xf2)][_0x52cc9f(0xfa)](_0x261a1c=>_0x261a1c[_0x52cc9f(0xed)]==_0x5d57ae||_0x594743&&_0x261a1c[_0x52cc9f(0xed)]=='allgroups'||_0x594743&&_0x261a1c['chatid']==_0x52cc9f(0xd3)&&_0x261a1c[_0x52cc9f(0xd3)][_0x52cc9f(0xe5)](_0x3cdd93=>_0x3cdd93[_0x52cc9f(0xed)]!=_0x5d57ae)),_0x27b29a=_0x92a4d6['keywords'][_0x52cc9f(0xfa)](_0x4135b9=>{const _0x226879=_0x52cc9f;if(Array[_0x226879(0x10a)](_0x4135b9)){let _0x56a8f6=!![];return _0x4135b9['forEach'](_0x3f5df7=>{const _0x307cf9=_0x226879;Array['isArray'](_0x3f5df7)?_0x56a8f6=_0x56a8f6&&_0x3f5df7[_0x307cf9(0xfa)](_0x4a8da2=>{const _0x2de5c0=_0x307cf9;return _0x4a8da2=normalizeArabic(_0x4a8da2),_0xa56b1b[_0x2de5c0(0x10f)](_0x4a8da2);}):_0x56a8f6=_0x56a8f6&&isMatchText(_0xa56b1b,_0x3f5df7);}),_0x56a8f6;}else return isMatchText(_0xa56b1b,_0x4135b9);}),_0x59ea5f=_0x92a4d6['blockedkeywords'][_0x52cc9f(0xfa)](_0x99f6b7=>{const _0x40bc9f=_0x52cc9f;if(Array[_0x40bc9f(0x10a)](_0x99f6b7)){let _0x2fd79b=!![];return _0x99f6b7[_0x40bc9f(0xfd)](_0x29f94e=>{const _0x12adb9=_0x40bc9f;Array['isArray'](_0x29f94e)?_0x2fd79b=_0x2fd79b&&_0x29f94e[_0x12adb9(0xfa)](_0x3720da=>{return _0x3720da=normalizeArabic(_0x3720da),_0xa56b1b['includes'](_0x3720da);}):_0x2fd79b=_0x2fd79b&&isMatchText(_0xa56b1b,_0x29f94e);}),_0x2fd79b;}else return isMatchText(_0xa56b1b,_0x99f6b7);});if(_0x34fb05)_0x2952e2[_0x52cc9f(0x10d)]();if(_0x34fb05&&_0x27b29a&&!_0x59ea5f){const _0x218157=getSheetID();if(_0x218157=='')return;let _0x2b54d3=_0x594743?(await getGroups())[_0x52cc9f(0x106)](_0x58957d=>_0x58957d[_0x52cc9f(0xed)]==_0x5d57ae)[0x0]['name']:'Private',_0x12c384=renderKeywords(_0x92a4d6[_0x52cc9f(0xd9)]),_0x51e58b=_0x347077[_0x52cc9f(0xd6)]?await storeMedia(_0x347077,_0x24b41b):'';const _0x417580=[_0x2a786f,_0x24b41b,_0x2b54d3,_0xa56b1b,_0x51e58b,_0x92a4d6[_0x52cc9f(0xff)],_0x12c384];terminal[_0x52cc9f(0xf8)]('[MATCH!]\x20'+_0x2b54d3+'-'+_0x24b41b+'=>'+_0x347077[_0x52cc9f(0x111)]);const _0x127bc8=_0x92a4d6[_0x52cc9f(0x103)][_0x52cc9f(0xec)];try{Gsheet[_0x52cc9f(0xfc)](_0x127bc8,_0x417580);}catch(_0x12cca1){terminal[_0x52cc9f(0xd2)](_0x52cc9f(0xeb)+_0x12cca1);}if(_0x92a4d6[_0x52cc9f(0xf6)]&&_0x594743)_0x347077[_0x52cc9f(0xf6)](_0x92a4d6[_0x52cc9f(0xf6)]);if(_0x92a4d6[_0x52cc9f(0xe9)])client[_0x52cc9f(0x100)](_0x24b41b+_0x52cc9f(0x10e),_0x92a4d6[_0x52cc9f(0xe9)]);let _0x3e09d4=messageBuffer[_0x52cc9f(0xdf)];_0x3e09d4>messageBufferMAXLENGTH&&messageBuffer[_0x52cc9f(0x104)](0x0,_0x3e09d4-messageBufferMAXLENGTH),global['messageBuffer'][_0x52cc9f(0x10b)]({'message':_0xa56b1b,'phone':_0x24b41b});}}};module[a8_0xdec8cc(0x108)]={'receivedmsgHandler':receivedmsgHandler};