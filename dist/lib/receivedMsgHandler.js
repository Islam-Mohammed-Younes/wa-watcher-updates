const a8_0x3f01ca=a8_0x141a;function a8_0x141a(_0x5dc254,_0x5058ff){const _0x1bee79=a8_0x1bee();return a8_0x141a=function(_0x141aff,_0x5f4233){_0x141aff=_0x141aff-0x77;let _0x1b419a=_0x1bee79[_0x141aff];return _0x1b419a;},a8_0x141a(_0x5dc254,_0x5058ff);}(function(_0x305db4,_0x2bc0a8){const _0x47a088=a8_0x141a,_0x4e08c4=_0x305db4();while(!![]){try{const _0x74c3d5=parseInt(_0x47a088(0xb6))/0x1+-parseInt(_0x47a088(0x8f))/0x2+-parseInt(_0x47a088(0xb5))/0x3*(parseInt(_0x47a088(0xa5))/0x4)+-parseInt(_0x47a088(0xb2))/0x5*(parseInt(_0x47a088(0x99))/0x6)+parseInt(_0x47a088(0x89))/0x7+-parseInt(_0x47a088(0x82))/0x8*(-parseInt(_0x47a088(0x8c))/0x9)+parseInt(_0x47a088(0xb8))/0xa;if(_0x74c3d5===_0x2bc0a8)break;else _0x4e08c4['push'](_0x4e08c4['shift']());}catch(_0x5c36b5){_0x4e08c4['push'](_0x4e08c4['shift']());}}}(a8_0x1bee,0x6f478));const {messageBufferMAXLENGTH}=require(a8_0x3f01ca(0xb1)),{getSheetID,getDriveID}=require(a8_0x3f01ca(0x8e)),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x3f01ca(0xa2)),{renderKeywords}=require('./controlMsgHandler'),terminal=require(a8_0x3f01ca(0x9c)),getGroups=async()=>{const _0x2369fd=a8_0x3f01ca;let _0x1b32cd=await client[_0x2369fd(0x94)](),_0x386ae4=await _0x1b32cd['filter'](_0x2779f5=>_0x2779f5[_0x2369fd(0xb0)]==!![]&&_0x2779f5[_0x2369fd(0x8a)]!=undefined&&_0x2779f5['id'][_0x2369fd(0x7c)]!=settings[_0x2369fd(0x78)]);return _0x386ae4=_0x386ae4[_0x2369fd(0x83)](_0x18eaa7=>({'name':_0x18eaa7['name'],'chatid':_0x18eaa7['id'][_0x2369fd(0x7c)]})),_0x386ae4;},storeMedia=async(_0x3423dc,_0x1ae0f1)=>{const _0x48b0a4=a8_0x3f01ca,_0x3fa9fb=getDriveID();if(_0x3fa9fb=='')return terminal[_0x48b0a4(0x91)](_0x48b0a4(0xac),0x1),'';const _0x280895=await _0x3423dc[_0x48b0a4(0x79)](),_0x474b1a=await data2Stream(_0x280895,_0x1ae0f1);try{const _0x27704e=await global[_0x48b0a4(0x9d)][_0x48b0a4(0x8b)](_0x3fa9fb,_0x474b1a);return _0x27704e[_0x48b0a4(0x8d)][_0x48b0a4(0x87)];}catch(_0x3fbfed){terminal[_0x48b0a4(0x9e)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x3fbfed);}},isRepeated=async({message:_0x42e457,phone:_0x130806})=>{const _0x224988=a8_0x3f01ca,_0x501538=messageBuffer[_0x224988(0xb3)](_0x29b6ee=>_0x29b6ee[_0x224988(0x96)]==_0x42e457&&_0x29b6ee[_0x224988(0xb4)]==_0x130806);return _0x501538;},isMatchText=(_0x2c2f71,_0x264d9e)=>{const _0x567276=a8_0x3f01ca;_0x264d9e=normalizeArabic(_0x264d9e);if(_0x264d9e[_0x567276(0xad)]('++')){let _0x2a902f=_0x264d9e['split']('++')[_0x567276(0x83)](_0x3503e0=>_0x3503e0[_0x567276(0x9b)]())['filter'](_0x4d771a=>_0x4d771a!=='');return _0x2a902f[_0x567276(0xb7)](_0x33178b=>_0x2c2f71[_0x567276(0xad)](_0x33178b));}else return _0x2c2f71[_0x567276(0xad)](_0x264d9e);},receivedmsgHandler=async _0x49c702=>{const _0x5162ec=a8_0x3f01ca,_0x2ea997=new Date(),_0x38a7e9=_0x2ea997['toLocaleDateString'](_0x5162ec(0x84))+'\x20'+_0x2ea997['toLocaleTimeString'](_0x5162ec(0x80));let _0x564a03=await _0x49c702[_0x5162ec(0xa7)]();const _0x4a4df1=_0x564a03[_0x5162ec(0xb0)],_0x42059f=_0x4a4df1?_0x49c702['from']:_0x5162ec(0x81),_0x264686=_0x4a4df1?_0x49c702[_0x5162ec(0xa4)][_0x5162ec(0xae)]('@')[0x0]:_0x49c702['from'][_0x5162ec(0xae)]('@')[0x0],_0x226e7c=normalizeArabic(_0x49c702[_0x5162ec(0xaf)]);if(await isFiltered(_0x226e7c)){terminal[_0x5162ec(0x91)](_0x5162ec(0x88)+_0x264686,0x1);return;}if(await isFilteredPhone(_0x264686)){terminal['logger'](_0x5162ec(0x9f)+_0x264686,0x1);return;}if(await isRepeated({'message':_0x226e7c,'phone':_0x264686})){terminal['logger']('[REPEATED\x20MESSAGE!]\x20'+_0x264686,0x1);return;}for(const _0x3dc8cd of global['conditions']){let _0x2f4163=_0x3dc8cd[_0x5162ec(0xa0)][_0x5162ec(0xb3)](_0x1924a3=>_0x1924a3[_0x5162ec(0xab)]==_0x42059f||_0x4a4df1&&_0x1924a3['chatid']==_0x5162ec(0x93)||_0x4a4df1&&_0x1924a3['chatid']==_0x5162ec(0x85)&&_0x1924a3[_0x5162ec(0x85)][_0x5162ec(0xb7)](_0x5637d5=>_0x5637d5[_0x5162ec(0xab)]!=_0x42059f)),_0x14f1cc=_0x3dc8cd[_0x5162ec(0x7f)][_0x5162ec(0xb3)](_0x3947db=>{const _0x72e106=_0x5162ec;if(Array[_0x72e106(0x7b)](_0x3947db)){let _0x29ca79=!![];return _0x3947db[_0x72e106(0xa8)](_0x269d3a=>{const _0x190eb7=_0x72e106;Array[_0x190eb7(0x7b)](_0x269d3a)?_0x29ca79=_0x29ca79&&_0x269d3a['some'](_0x4a7353=>{return _0x4a7353=normalizeArabic(_0x4a7353),_0x226e7c['includes'](_0x4a7353);}):_0x29ca79=_0x29ca79&&isMatchText(_0x226e7c,_0x269d3a);}),_0x29ca79;}else return isMatchText(_0x226e7c,_0x3947db);}),_0x491e62=_0x3dc8cd[_0x5162ec(0x9a)][_0x5162ec(0xb3)](_0x2fbcbf=>{const _0x3bad98=_0x5162ec;if(Array[_0x3bad98(0x7b)](_0x2fbcbf)){let _0x3a4c9c=!![];return _0x2fbcbf[_0x3bad98(0xa8)](_0x41b79a=>{const _0x1bdf3e=_0x3bad98;Array[_0x1bdf3e(0x7b)](_0x41b79a)?_0x3a4c9c=_0x3a4c9c&&_0x41b79a['some'](_0x30e25f=>{const _0x188cb5=_0x1bdf3e;return _0x30e25f=normalizeArabic(_0x30e25f),_0x226e7c[_0x188cb5(0xad)](_0x30e25f);}):_0x3a4c9c=_0x3a4c9c&&isMatchText(_0x226e7c,_0x41b79a);}),_0x3a4c9c;}else return isMatchText(_0x226e7c,_0x2fbcbf);});if(_0x2f4163)_0x564a03[_0x5162ec(0x97)]();if(_0x2f4163&&_0x14f1cc&&!_0x491e62){const _0x2d281c=getSheetID();if(_0x2d281c=='')return;let _0xa250d1=_0x4a4df1?(await getGroups())[_0x5162ec(0x90)](_0x52c2f4=>_0x52c2f4[_0x5162ec(0xab)]==_0x42059f)[0x0]['name']:_0x5162ec(0xaa),_0x37e2af=renderKeywords(_0x3dc8cd[_0x5162ec(0x7f)]),_0xdadc71=_0x49c702[_0x5162ec(0x7d)]?await storeMedia(_0x49c702,_0x264686):'';const _0x26cc34=[_0x38a7e9,_0x264686,_0xa250d1,_0x226e7c,_0xdadc71,_0x3dc8cd[_0x5162ec(0x8a)],_0x37e2af];terminal[_0x5162ec(0x91)]('[MATCH!]\x20'+_0xa250d1+'-'+_0x264686+'=>'+_0x49c702[_0x5162ec(0xa9)]);const _0x29dfb9=_0x3dc8cd[_0x5162ec(0x77)][_0x5162ec(0xa1)];try{Gsheet['addMatch'](_0x29dfb9,_0x26cc34);}catch(_0x30966a){terminal[_0x5162ec(0x9e)](_0x5162ec(0xa6)+_0x30966a);}if(_0x3dc8cd[_0x5162ec(0x86)]&&_0x4a4df1)_0x49c702[_0x5162ec(0x86)](_0x3dc8cd['reply']);if(_0x3dc8cd[_0x5162ec(0x95)])client['sendMessage'](_0x264686+_0x5162ec(0xa3),_0x3dc8cd[_0x5162ec(0x95)]);let _0x4d89dd=messageBuffer['length'];_0x4d89dd>messageBufferMAXLENGTH&&messageBuffer[_0x5162ec(0x92)](0x0,_0x4d89dd-messageBufferMAXLENGTH),global[_0x5162ec(0x98)][_0x5162ec(0x7e)]({'message':_0x226e7c,'phone':_0x264686});}}};function a8_0x1bee(){const _0x1446fb=['trim','../util/terminal','Gdrive','red','[FILTERED\x20PHONE!]\x20','applicable','sheetId','../util/misc','@c.us','author','4hohVHr','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','getChat','forEach','type','Private','chatid','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','includes','split','body','isGroup','../config','5BSzxgk','some','phone','1798341IXPSGh','63458RmqEaw','every','9855700dqoXPS','gsheet','GroupID','downloadMedia','exports','isArray','_serialized','hasMedia','push','keywords','en-EG','private','119544IyVwqR','map','en-GB','except','reply','webViewLink','[FILTERED\x20WORD!]\x20','1676248qHqpEh','name','createFile','27FRITMK','data','../util/files','445638xvwSbp','filter','logger','splice','allgroups','getChats','replyprivate','message','sendSeen','messageBuffer','331530hHdmvA','blockedkeywords'];a8_0x1bee=function(){return _0x1446fb;};return a8_0x1bee();}module[a8_0x3f01ca(0x7a)]={'receivedmsgHandler':receivedmsgHandler};