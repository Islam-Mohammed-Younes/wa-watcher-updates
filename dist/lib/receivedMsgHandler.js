const a8_0x1a13a9=a8_0x4ad6;(function(_0x41a9d5,_0x38582c){const _0x35c127=a8_0x4ad6,_0x49fe02=_0x41a9d5();while(!![]){try{const _0x4182cf=-parseInt(_0x35c127(0x170))/0x1*(parseInt(_0x35c127(0x15e))/0x2)+parseInt(_0x35c127(0x171))/0x3+parseInt(_0x35c127(0x180))/0x4*(-parseInt(_0x35c127(0x14c))/0x5)+parseInt(_0x35c127(0x161))/0x6*(parseInt(_0x35c127(0x167))/0x7)+-parseInt(_0x35c127(0x169))/0x8+-parseInt(_0x35c127(0x17a))/0x9+parseInt(_0x35c127(0x153))/0xa;if(_0x4182cf===_0x38582c)break;else _0x49fe02['push'](_0x49fe02['shift']());}catch(_0x355178){_0x49fe02['push'](_0x49fe02['shift']());}}}(a8_0x2d5e,0x5d851));function a8_0x4ad6(_0xb3777f,_0x20dfdf){const _0x2d5ed3=a8_0x2d5e();return a8_0x4ad6=function(_0x4ad641,_0x54b436){_0x4ad641=_0x4ad641-0x144;let _0x37ff18=_0x2d5ed3[_0x4ad641];return _0x37ff18;},a8_0x4ad6(_0xb3777f,_0x20dfdf);}const {messageBufferMAXLENGTH}=require(a8_0x1a13a9(0x163)),{getSheetID,getDriveID}=require(a8_0x1a13a9(0x187)),{data2Stream}=require(a8_0x1a13a9(0x14d)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x1a13a9(0x14f)),{renderKeywords}=require(a8_0x1a13a9(0x156)),terminal=require('../util/terminal'),getGroups=async()=>{const _0x47da81=a8_0x1a13a9;let _0x3a423c=await client[_0x47da81(0x16e)](),_0x5c06a1=await _0x3a423c['filter'](_0x7e330f=>_0x7e330f[_0x47da81(0x155)]==!![]&&_0x7e330f[_0x47da81(0x186)]!=undefined&&_0x7e330f['id']['_serialized']!=settings['GroupID']);return _0x5c06a1=_0x5c06a1[_0x47da81(0x158)](_0x1bf581=>({'name':_0x1bf581[_0x47da81(0x186)],'chatid':_0x1bf581['id']['_serialized']})),_0x5c06a1;},storeMedia=async(_0xe4d1cf,_0x26c527)=>{const _0x4474ee=a8_0x1a13a9,_0x24fe7c=getDriveID();if(_0x24fe7c=='')return terminal[_0x4474ee(0x16a)](_0x4474ee(0x151),0x1),'';const _0x34eebb=await _0xe4d1cf[_0x4474ee(0x164)](),_0x480f56=await data2Stream(_0x34eebb,_0x26c527);try{const _0x5f5467=await global[_0x4474ee(0x182)][_0x4474ee(0x15c)](_0x24fe7c,_0x480f56);return _0x5f5467[_0x4474ee(0x16b)][_0x4474ee(0x147)];}catch(_0x4f3284){terminal[_0x4474ee(0x15b)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x4f3284);}},isRepeated=async({message:_0x22f88,phone:_0x563959})=>{const _0x2a82bf=a8_0x1a13a9,_0x1601a5=messageBuffer[_0x2a82bf(0x150)](_0x365573=>_0x365573[_0x2a82bf(0x14b)]==_0x22f88&&_0x365573[_0x2a82bf(0x17d)]==_0x563959);return _0x1601a5;},isMatchText=(_0x22bafc,_0xd899bf)=>{const _0x49176d=a8_0x1a13a9;_0xd899bf=normalizeArabic(_0xd899bf);if(_0xd899bf[_0x49176d(0x168)]('++')){let _0x4c1044=_0xd899bf[_0x49176d(0x16c)]('++')[_0x49176d(0x158)](_0xb0fa5c=>_0xb0fa5c[_0x49176d(0x157)]())[_0x49176d(0x179)](_0xf0795b=>_0xf0795b!=='');return _0x4c1044[_0x49176d(0x152)](_0x5b298b=>_0x22bafc['includes'](_0x5b298b));}else return _0x22bafc['includes'](_0xd899bf);},receivedmsgHandler=async _0x217da0=>{const _0x414b81=a8_0x1a13a9,_0x5b9481=new Date(),_0x5051ba=_0x5b9481[_0x414b81(0x145)](_0x414b81(0x15d))+'\x20'+_0x5b9481[_0x414b81(0x189)](_0x414b81(0x17e));let _0xb94663=await _0x217da0[_0x414b81(0x184)]();const _0x373371=_0xb94663[_0x414b81(0x155)],_0x3efd0e=_0x373371?_0x217da0[_0x414b81(0x176)]:_0x414b81(0x17b),_0x218a6f=_0x373371?_0x217da0[_0x414b81(0x188)][_0x414b81(0x16c)]('@')[0x0]:_0x217da0['from'][_0x414b81(0x16c)]('@')[0x0],_0x16afcd=normalizeArabic(_0x217da0[_0x414b81(0x181)]);if(await isFiltered(_0x16afcd)){terminal[_0x414b81(0x16a)]('[FILTERED\x20WORD!]\x20'+_0x218a6f,0x1);return;}if(await isFilteredPhone(_0x218a6f)){terminal['logger'](_0x414b81(0x148)+_0x218a6f,0x1);return;}if(await isRepeated({'message':_0x16afcd,'phone':_0x218a6f})){terminal['logger'](_0x414b81(0x17c)+_0x218a6f,0x1);return;}for(const _0x13026f of global[_0x414b81(0x174)]){let _0x3b0b48=_0x13026f[_0x414b81(0x165)][_0x414b81(0x150)](_0x9923ef=>_0x9923ef[_0x414b81(0x146)]==_0x3efd0e||_0x373371&&_0x9923ef['chatid']==_0x414b81(0x16f)||_0x373371&&_0x9923ef['chatid']=='except'&&_0x9923ef[_0x414b81(0x160)]['every'](_0x36b1a1=>_0x36b1a1[_0x414b81(0x146)]!=_0x3efd0e)),_0x20131e=_0x13026f[_0x414b81(0x16d)][_0x414b81(0x150)](_0x42fc74=>{const _0x314572=_0x414b81;if(Array[_0x314572(0x166)](_0x42fc74)){let _0x1f9c2b=!![];return _0x42fc74[_0x314572(0x154)](_0x25668a=>{const _0x49a6cb=_0x314572;Array[_0x49a6cb(0x166)](_0x25668a)?_0x1f9c2b=_0x1f9c2b&&_0x25668a['some'](_0x214504=>{const _0x4a6cdc=_0x49a6cb;return _0x214504=normalizeArabic(_0x214504),_0x16afcd[_0x4a6cdc(0x168)](_0x214504);}):_0x1f9c2b=_0x1f9c2b&&isMatchText(_0x16afcd,_0x25668a);}),_0x1f9c2b;}else return isMatchText(_0x16afcd,_0x42fc74);}),_0x3bfc1b=_0x13026f[_0x414b81(0x183)][_0x414b81(0x150)](_0x5b5f9b=>{const _0x102e96=_0x414b81;if(Array[_0x102e96(0x166)](_0x5b5f9b)){let _0x254d66=!![];return _0x5b5f9b[_0x102e96(0x154)](_0x1346aa=>{const _0x582a25=_0x102e96;Array[_0x582a25(0x166)](_0x1346aa)?_0x254d66=_0x254d66&&_0x1346aa[_0x582a25(0x150)](_0x251b03=>{const _0x207d40=_0x582a25;return _0x251b03=normalizeArabic(_0x251b03),_0x16afcd[_0x207d40(0x168)](_0x251b03);}):_0x254d66=_0x254d66&&isMatchText(_0x16afcd,_0x1346aa);}),_0x254d66;}else return isMatchText(_0x16afcd,_0x5b5f9b);});if(_0x3b0b48)_0xb94663[_0x414b81(0x14a)]();if(_0x3b0b48&&_0x20131e&&!_0x3bfc1b){const _0x28157e=getSheetID();if(_0x28157e=='')return;let _0x510d24=_0x373371?(await getGroups())[_0x414b81(0x179)](_0x1e1a4d=>_0x1e1a4d['chatid']==_0x3efd0e)[0x0][_0x414b81(0x186)]:_0x414b81(0x144),_0x9ae59c=renderKeywords(_0x13026f[_0x414b81(0x16d)]),_0x12b330=_0x217da0[_0x414b81(0x159)]?await storeMedia(_0x217da0,_0x218a6f):'';const _0x2b5041=[_0x5051ba,_0x218a6f,_0x510d24,_0x16afcd,_0x12b330,_0x13026f[_0x414b81(0x186)],_0x9ae59c];terminal['logger'](_0x414b81(0x173)+_0x510d24+'-'+_0x218a6f+'=>'+_0x217da0[_0x414b81(0x172)]);const _0x225e0f=_0x13026f[_0x414b81(0x15a)]['sheetId'];try{Gsheet[_0x414b81(0x185)](_0x225e0f,_0x2b5041);}catch(_0x2dd720){terminal[_0x414b81(0x15b)](_0x414b81(0x15f)+_0x2dd720);}if(_0x13026f['reply']&&_0x373371)_0x217da0[_0x414b81(0x178)](_0x13026f[_0x414b81(0x178)]);if(_0x13026f[_0x414b81(0x149)])client[_0x414b81(0x17f)](_0x218a6f+_0x414b81(0x14e),_0x13026f[_0x414b81(0x149)]);let _0x1b60e7=messageBuffer['length'];_0x1b60e7>messageBufferMAXLENGTH&&messageBuffer[_0x414b81(0x175)](0x0,_0x1b60e7-messageBufferMAXLENGTH),global[_0x414b81(0x177)][_0x414b81(0x162)]({'message':_0x16afcd,'phone':_0x218a6f});}}};function a8_0x2d5e(){const _0x2abb86=['applicable','isArray','871626rYkvND','includes','2268688wrVBFE','logger','data','split','keywords','getChats','allgroups','15037pcZHTp','1139379nAueyS','type','[MATCH!]\x20','conditions','splice','from','messageBuffer','reply','filter','1163709EHyCKl','private','[REPEATED\x20MESSAGE!]\x20','phone','en-EG','sendMessage','4ZUKjjH','body','Gdrive','blockedkeywords','getChat','addMatch','name','../util/files','author','toLocaleTimeString','Private','toLocaleDateString','chatid','webViewLink','[FILTERED\x20PHONE!]\x20','replyprivate','sendSeen','message','2859290Npqulm','../util/dataOps','@c.us','../util/misc','some','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','every','5200110wYPHJd','forEach','isGroup','./controlMsgHandler','trim','map','hasMedia','gsheet','red','createFile','en-GB','4tKmNwM','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','except','24MXJbWX','push','../config','downloadMedia'];a8_0x2d5e=function(){return _0x2abb86;};return a8_0x2d5e();}module['exports']={'receivedmsgHandler':receivedmsgHandler};