function a8_0x2edd(_0x3d2d81,_0x1a7e12){const _0x31d500=a8_0x31d5();return a8_0x2edd=function(_0x2eddc0,_0x29b9d0){_0x2eddc0=_0x2eddc0-0x7a;let _0x5cf363=_0x31d500[_0x2eddc0];return _0x5cf363;},a8_0x2edd(_0x3d2d81,_0x1a7e12);}function a8_0x31d5(){const _0x5eeeae=['data',']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','getChat','399142fyyFxF','blockedkeywords','isGroup','chatid','conditions',']\x20[REPEATED\x20MESSAGE!]\x20','webViewLink','toLocaleTimeString','getChats','Gdrive','82705ZNUoEE','length','2038000hhKmeg','gsheet','allgroups','en-GB',']\x20[FILTERED\x20WORD!]\x20','addMatch','messageBuffer','filter','formattedValue','../util/terminal','7BztMqB','name','1363338OkVWtg','1230792GFPohu','toLocaleDateString','replyprivate','[WARN!]\x20Cannot\x20get\x20variables\x0amake\x20sure\x20the\x20variables\x20worksheet\x20exists','reply','isArray','author','_serialized','1529757KoossN','sendMessage','split','569592TbLJkq','../config','except','@c.us','../util/dataOps','loadCells','forEach','type',']\x20[MATCH!]\x20','every','applicable','2wZdgWl','map','logger','red','createFile','matchAll','sendSeen','../util/files','./controlMsgHandler','includes','from','GSpreadsheet','some','push','10eqyTVL','../util/misc','GroupID'];a8_0x31d5=function(){return _0x5eeeae;};return a8_0x31d5();}const a8_0x4d1fa1=a8_0x2edd;(function(_0x6f51f9,_0x48bf26){const _0x33a8b2=a8_0x2edd,_0x59dbfc=_0x6f51f9();while(!![]){try{const _0xdfd11e=-parseInt(_0x33a8b2(0x8d))/0x1*(-parseInt(_0x33a8b2(0xbc))/0x2)+-parseInt(_0x33a8b2(0xa6))/0x3+parseInt(_0x33a8b2(0xb1))/0x4+-parseInt(_0x33a8b2(0x97))/0x5+-parseInt(_0x33a8b2(0xa5))/0x6+-parseInt(_0x33a8b2(0xa3))/0x7*(-parseInt(_0x33a8b2(0x99))/0x8)+-parseInt(_0x33a8b2(0xae))/0x9*(-parseInt(_0x33a8b2(0x87))/0xa);if(_0xdfd11e===_0x48bf26)break;else _0x59dbfc['push'](_0x59dbfc['shift']());}catch(_0x311d7a){_0x59dbfc['push'](_0x59dbfc['shift']());}}}(a8_0x31d5,0x4c3ab));const {messageBufferMAXLENGTH}=require(a8_0x4d1fa1(0xb2)),{getSheetID,getDriveID}=require(a8_0x4d1fa1(0x80)),{data2Stream}=require(a8_0x4d1fa1(0xb5)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x4d1fa1(0x88)),{renderKeywords}=require(a8_0x4d1fa1(0x81)),terminal=require(a8_0x4d1fa1(0xa2)),getGroups=async()=>{const _0x481739=a8_0x4d1fa1;let _0x2586ca=await client[_0x481739(0x95)](),_0x5a77f6=await _0x2586ca[_0x481739(0xa0)](_0x5d9383=>_0x5d9383['isGroup']==!![]&&_0x5d9383[_0x481739(0xa4)]!=undefined&&_0x5d9383['id'][_0x481739(0xad)]!=settings[_0x481739(0x89)]);return _0x5a77f6=_0x5a77f6[_0x481739(0x7a)](_0x39ca7a=>({'name':_0x39ca7a[_0x481739(0xa4)],'chatid':_0x39ca7a['id']['_serialized']})),_0x5a77f6;},storeMedia=async(_0x1e60a3,_0x28c368)=>{const _0x4e01ee=a8_0x4d1fa1,_0x5ee89f=getDriveID();if(_0x5ee89f=='')return terminal['logger']('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0x627c03=await _0x1e60a3['downloadMedia'](),_0x5bea1f=await data2Stream(_0x627c03,_0x28c368);try{const _0x3be8d8=await global[_0x4e01ee(0x96)][_0x4e01ee(0x7d)](_0x5ee89f,_0x5bea1f);return _0x3be8d8[_0x4e01ee(0x8a)][_0x4e01ee(0x93)];}catch(_0x4dded1){terminal[_0x4e01ee(0x7c)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x4dded1);}},isRepeated=async({message:_0x5a62dc,phone:_0x2b15b9})=>{const _0x3a1975=a8_0x4d1fa1,_0x3ed854=messageBuffer[_0x3a1975(0x85)](_0x180d42=>_0x180d42['message']==_0x5a62dc&&_0x180d42['phone']==_0x2b15b9);return _0x3ed854;},isMatchText=(_0x210d87,_0x3d4d26)=>{const _0x19ec75=a8_0x4d1fa1;_0x3d4d26=normalizeArabic(_0x3d4d26);if(_0x3d4d26[_0x19ec75(0x82)]('++')){let _0xc6b18=_0x3d4d26[_0x19ec75(0xb0)]('++')[_0x19ec75(0x7a)](_0x3b6e4e=>_0x3b6e4e['trim']())['filter'](_0x24b15e=>_0x24b15e!=='');return _0xc6b18[_0x19ec75(0xba)](_0x16aa05=>_0x210d87[_0x19ec75(0x82)](_0x16aa05));}else return _0x210d87[_0x19ec75(0x82)](_0x3d4d26);},replaceVariables=async _0x2b89fe=>{const _0x110e20=a8_0x4d1fa1;try{const _0x20e9b8=/\[([a-zA-Z]+)!([A-Z]{1}\d+)\]/g;let _0x480055=[..._0x2b89fe[_0x110e20(0x7e)](_0x20e9b8)];if(_0x480055[_0x110e20(0x98)]>0x0)for await(const _0x26610e of _0x480055){let _0x2260da=_0x26610e[0x0],_0x4ff980=_0x26610e[0x1],_0x1b2745=_0x26610e[0x2],_0x2b9900=await global[_0x110e20(0x84)]['sheetsByTitle'][_0x4ff980];await _0x2b9900[_0x110e20(0xb6)](_0x1b2745);let _0x248385=String(_0x2b9900['getCellByA1'](_0x1b2745)[_0x110e20(0xa1)]);_0x2b89fe=_0x2b89fe['replace'](_0x2260da,_0x248385);}}catch(_0xdf204){terminal[_0x110e20(0x7b)](_0x110e20(0xa9),0x1);}return _0x2b89fe;},receivedmsgHandler=async _0x3b448b=>{const _0x144739=a8_0x4d1fa1,_0x10b102=new Date(),_0x275b96=_0x10b102[_0x144739(0xa7)](_0x144739(0x9c))+'\x20'+_0x10b102[_0x144739(0x94)]('en-EG');let _0xbba94b=await _0x3b448b[_0x144739(0x8c)]();const _0x3fa285=_0xbba94b[_0x144739(0x8f)],_0x4c7937=_0x3fa285?_0x3b448b[_0x144739(0x83)]:'private',_0x4c202f=_0x3fa285?_0x3b448b[_0x144739(0xac)]['split']('@')[0x0]:_0x3b448b['from'][_0x144739(0xb0)]('@')[0x0];let _0x40af47=_0x3fa285?(await getGroups())[_0x144739(0xa0)](_0x3fd1ea=>_0x3fd1ea[_0x144739(0x90)]==_0x4c7937)[0x0][_0x144739(0xa4)]:'Private';const _0x1429f3=normalizeArabic(_0x3b448b['body']);if(await isFiltered(_0x1429f3)){terminal[_0x144739(0x7b)]('['+_0x275b96+_0x144739(0x9d)+_0x40af47+'-'+_0x4c202f,0x1);return;}if(await isFilteredPhone(_0x4c202f)){terminal[_0x144739(0x7b)]('['+_0x275b96+']\x20[FILTERED\x20PHONE!]\x20'+_0x40af47+'-'+_0x4c202f,0x1);return;}if(await isRepeated({'message':_0x1429f3,'phone':_0x4c202f})){terminal[_0x144739(0x7b)]('['+_0x275b96+_0x144739(0x92)+_0x40af47+'-'+_0x4c202f,0x1);return;}for(const _0x576348 of global[_0x144739(0x91)]){let _0x12dae7=_0x576348[_0x144739(0xbb)][_0x144739(0x85)](_0x1de415=>_0x1de415[_0x144739(0x90)]==_0x4c7937||_0x3fa285&&_0x1de415['chatid']==_0x144739(0x9b)||_0x3fa285&&_0x1de415[_0x144739(0x90)]==_0x144739(0xb3)&&_0x1de415[_0x144739(0xb3)][_0x144739(0xba)](_0x16f9fd=>_0x16f9fd[_0x144739(0x90)]!=_0x4c7937)),_0x378874=_0x576348['keywords'][_0x144739(0x85)](_0x241274=>{const _0x54ee42=_0x144739;if(Array['isArray'](_0x241274)){let _0x2bcead=!![];return _0x241274[_0x54ee42(0xb7)](_0x55e2bd=>{const _0xca2401=_0x54ee42;Array['isArray'](_0x55e2bd)?_0x2bcead=_0x2bcead&&_0x55e2bd[_0xca2401(0x85)](_0x39cb79=>{const _0xb1c49b=_0xca2401;return _0x39cb79=normalizeArabic(_0x39cb79),_0x1429f3[_0xb1c49b(0x82)](_0x39cb79);}):_0x2bcead=_0x2bcead&&isMatchText(_0x1429f3,_0x55e2bd);}),_0x2bcead;}else return isMatchText(_0x1429f3,_0x241274);}),_0x2f8be4=_0x576348[_0x144739(0x8e)][_0x144739(0x85)](_0x437d3=>{const _0x2f276a=_0x144739;if(Array[_0x2f276a(0xab)](_0x437d3)){let _0x787b1=!![];return _0x437d3[_0x2f276a(0xb7)](_0x451fba=>{Array['isArray'](_0x451fba)?_0x787b1=_0x787b1&&_0x451fba['some'](_0x215157=>{const _0x4bd559=a8_0x2edd;return _0x215157=normalizeArabic(_0x215157),_0x1429f3[_0x4bd559(0x82)](_0x215157);}):_0x787b1=_0x787b1&&isMatchText(_0x1429f3,_0x451fba);}),_0x787b1;}else return isMatchText(_0x1429f3,_0x437d3);});if(_0x12dae7)_0xbba94b[_0x144739(0x7f)]();if(_0x12dae7&&_0x378874&&!_0x2f8be4){const _0x2cd092=getSheetID();if(_0x2cd092=='')return;let _0xc0eaca=renderKeywords(_0x576348['keywords']),_0x1bae14=_0x3b448b['hasMedia']?await storeMedia(_0x3b448b,_0x4c202f):'';const _0x1b2615=[_0x275b96,_0x4c202f,_0x40af47,_0x1429f3,_0x1bae14,_0x576348[_0x144739(0xa4)],_0xc0eaca];terminal['logger']('['+_0x275b96+_0x144739(0xb9)+_0x40af47+'-'+_0x4c202f+'=>'+_0x3b448b[_0x144739(0xb8)]+'\x20'+_0xc0eaca);const _0x16962e=_0x576348[_0x144739(0x9a)]['sheetId'];try{Gsheet[_0x144739(0x9e)](_0x16962e,_0x1b2615);}catch(_0x80a798){terminal['red']('['+_0x275b96+_0x144739(0x8b)+_0x80a798);}_0x576348['reply']&&_0x3fa285&&_0x3b448b[_0x144739(0xaa)](await replaceVariables(_0x576348[_0x144739(0xaa)]));_0x576348[_0x144739(0xa8)]&&client[_0x144739(0xaf)](_0x4c202f+_0x144739(0xb4),await replaceVariables(_0x576348[_0x144739(0xa8)]));let _0xce5fc1=messageBuffer['length'];_0xce5fc1>messageBufferMAXLENGTH&&messageBuffer['splice'](0x0,_0xce5fc1-messageBufferMAXLENGTH),global[_0x144739(0x9f)][_0x144739(0x86)]({'message':_0x1429f3,'phone':_0x4c202f});}}};module['exports']={'receivedmsgHandler':receivedmsgHandler};