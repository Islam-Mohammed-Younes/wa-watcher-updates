function a8_0x97b9(){const _0x298488=['../config','./controlMsgHandler','every','chatid','getCellByA1','322262KPHzQJ','logger','sendSeen','_serialized',']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:',']\x20[FILTERED\x20WORD!]\x20','../util/terminal','split','GSpreadsheet','applicable','from','map','keywords','replyprivate','416680UOxjiX','author','hasMedia','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','1387452NhzVRy','exports','log','phone','some','createFile','sheetId','2542960sClvOm','toLocaleTimeString','blockedkeywords','red',']\x20[FILTERED\x20PHONE!]\x20','private','sheetsByTitle','except','reply',']\x20[REPEATED\x20MESSAGE!]\x20','Gdrive','10320eDCmXm','messageBuffer','isArray','name','en-EG','GroupID','32139LrMxQi','en-GB','trim','length','splice','filter','replace','76mefwGB','../util/misc','40735CrdcgC','loadCells','push','../util/dataOps','gsheet','allgroups','data',']\x20[MATCH!]\x20','message','type','addMatch','isGroup','../util/files','includes','728FIcJuw'];a8_0x97b9=function(){return _0x298488;};return a8_0x97b9();}function a8_0x18c9(_0x42c58e,_0x445cc1){const _0x97b9ad=a8_0x97b9();return a8_0x18c9=function(_0x18c9eb,_0x3030e5){_0x18c9eb=_0x18c9eb-0xae;let _0x2f0992=_0x97b9ad[_0x18c9eb];return _0x2f0992;},a8_0x18c9(_0x42c58e,_0x445cc1);}const a8_0x169876=a8_0x18c9;(function(_0x50ed59,_0x16931e){const _0xb057d=a8_0x18c9,_0x5486d7=_0x50ed59();while(!![]){try{const _0x41bf98=-parseInt(_0xb057d(0xb1))/0x1+-parseInt(_0xb057d(0xbf))/0x2+-parseInt(_0xb057d(0xd5))/0x3+-parseInt(_0xb057d(0xe2))/0x4*(parseInt(_0xb057d(0xe4))/0x5)+parseInt(_0xb057d(0xc3))/0x6+parseInt(_0xb057d(0xca))/0x7+-parseInt(_0xb057d(0xf2))/0x8*(-parseInt(_0xb057d(0xdb))/0x9);if(_0x41bf98===_0x16931e)break;else _0x5486d7['push'](_0x5486d7['shift']());}catch(_0x6f5d99){_0x5486d7['push'](_0x5486d7['shift']());}}}(a8_0x97b9,0x384f8));const {messageBufferMAXLENGTH}=require(a8_0x169876(0xf3)),{getSheetID,getDriveID}=require(a8_0x169876(0xf0)),{data2Stream}=require(a8_0x169876(0xe7)),{isFiltered,isFilteredPhone,normalizeArabic,Sleep}=require(a8_0x169876(0xe3)),{renderKeywords}=require(a8_0x169876(0xf4)),terminal=require(a8_0x169876(0xb7)),getGroups=async()=>{const _0x4f939c=a8_0x169876;let _0x52f222=await client['getChats'](),_0x5e92e1=await _0x52f222[_0x4f939c(0xe0)](_0x3ae77a=>_0x3ae77a[_0x4f939c(0xef)]==!![]&&_0x3ae77a[_0x4f939c(0xd8)]!=undefined&&_0x3ae77a['id']['_serialized']!=settings[_0x4f939c(0xda)]);return _0x5e92e1=_0x5e92e1[_0x4f939c(0xbc)](_0xfbd9ba=>({'name':_0xfbd9ba[_0x4f939c(0xd8)],'chatid':_0xfbd9ba['id'][_0x4f939c(0xb4)]})),_0x5e92e1;},storeMedia=async(_0x510699,_0x311a4f)=>{const _0x3f4175=a8_0x169876,_0x163211=getDriveID();if(_0x163211=='')return terminal[_0x3f4175(0xb2)]('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0x522997=await _0x510699['downloadMedia'](),_0xb9dabb=await data2Stream(_0x522997,_0x311a4f);try{const _0x4ee9e3=await global[_0x3f4175(0xd4)][_0x3f4175(0xc8)](_0x163211,_0xb9dabb);return _0x4ee9e3[_0x3f4175(0xea)]['webViewLink'];}catch(_0x1a2675){terminal[_0x3f4175(0xcd)](_0x3f4175(0xc2)+_0x1a2675);}},isRepeated=async({message:_0x198b2a,phone:_0x3ac5c3})=>{const _0x1eaeee=a8_0x169876,_0xbed3eb=messageBuffer[_0x1eaeee(0xc7)](_0x3aa47a=>_0x3aa47a[_0x1eaeee(0xec)]==_0x198b2a&&_0x3aa47a[_0x1eaeee(0xc6)]==_0x3ac5c3);return _0xbed3eb;},isMatchText=(_0x217bf8,_0x336a6d)=>{const _0x5c383a=a8_0x169876;_0x336a6d=normalizeArabic(_0x336a6d);if(_0x336a6d[_0x5c383a(0xf1)]('++')){let _0x46652a=_0x336a6d['split']('++')['map'](_0x354d2c=>_0x354d2c[_0x5c383a(0xdd)]())[_0x5c383a(0xe0)](_0x1f4abe=>_0x1f4abe!=='');return _0x46652a['every'](_0x3502a7=>_0x217bf8['includes'](_0x3502a7));}else return _0x217bf8['includes'](_0x336a6d);},replaceVariables=async _0x4bd2a3=>{const _0x53c044=a8_0x169876;try{const _0x1b5206=/\[([a-zA-Z]+)!([A-Z]{1,2}\d+)\]/g;let _0x435225=[..._0x4bd2a3['matchAll'](_0x1b5206)];if(_0x435225[_0x53c044(0xde)]>0x0)for await(const _0x1791e7 of _0x435225){let _0x4d5c51=_0x1791e7[0x0],_0x26b1e2=_0x1791e7[0x1],_0x49d7ad=_0x1791e7[0x2];console[_0x53c044(0xc5)](_0x4d5c51,_0x26b1e2,_0x49d7ad);let _0x526368=await global[_0x53c044(0xb9)][_0x53c044(0xd0)][_0x26b1e2];await _0x526368[_0x53c044(0xe5)](_0x49d7ad),await Sleep(0xc8);let _0x389302=String((await _0x526368[_0x53c044(0xb0)](_0x49d7ad))['formattedValue']);_0x4bd2a3=await _0x4bd2a3[_0x53c044(0xe1)](_0x4d5c51,_0x389302);}}catch(_0x459b88){terminal['logger']('[WARN!]\x20Cannot\x20get\x20variables\x0amake\x20sure\x20the\x20variables\x20worksheet\x20exists',0x1);}return _0x4bd2a3;},receivedmsgHandler=async _0xf5f569=>{const _0x29fca4=a8_0x169876,_0x5a2d29=new Date(),_0x3730a5=_0x5a2d29['toLocaleDateString'](_0x29fca4(0xdc))+'\x20'+_0x5a2d29[_0x29fca4(0xcb)](_0x29fca4(0xd9));let _0x1f5cb3=await _0xf5f569['getChat']();const _0x59163f=_0x1f5cb3[_0x29fca4(0xef)],_0x5b0b75=_0x59163f?_0xf5f569[_0x29fca4(0xbb)]:_0x29fca4(0xcf),_0x5ae36b=_0x59163f?_0xf5f569[_0x29fca4(0xc0)][_0x29fca4(0xb8)]('@')[0x0]:_0xf5f569['from'][_0x29fca4(0xb8)]('@')[0x0];let _0x520093=_0x59163f?(await getGroups())['filter'](_0x389d20=>_0x389d20['chatid']==_0x5b0b75)[0x0][_0x29fca4(0xd8)]:'Private';const _0x355fd3=normalizeArabic(_0xf5f569['body']);if(await isFiltered(_0x355fd3)){terminal[_0x29fca4(0xb2)]('['+_0x3730a5+_0x29fca4(0xb6)+_0x520093+'-'+_0x5ae36b,0x1);return;}if(await isFilteredPhone(_0x5ae36b)){terminal[_0x29fca4(0xb2)]('['+_0x3730a5+_0x29fca4(0xce)+_0x520093+'-'+_0x5ae36b,0x1);return;}if(await isRepeated({'message':_0x355fd3,'phone':_0x5ae36b})){terminal[_0x29fca4(0xb2)]('['+_0x3730a5+_0x29fca4(0xd3)+_0x520093+'-'+_0x5ae36b,0x1);return;}for(const _0x2c7244 of global['conditions']){let _0x57719f=_0x2c7244[_0x29fca4(0xba)][_0x29fca4(0xc7)](_0x23c026=>_0x23c026['chatid']==_0x5b0b75||_0x59163f&&_0x23c026[_0x29fca4(0xaf)]==_0x29fca4(0xe9)||_0x59163f&&_0x23c026[_0x29fca4(0xaf)]=='except'&&_0x23c026[_0x29fca4(0xd1)][_0x29fca4(0xae)](_0x36720f=>_0x36720f[_0x29fca4(0xaf)]!=_0x5b0b75)),_0x4eaebb=_0x2c7244[_0x29fca4(0xbd)][_0x29fca4(0xc7)](_0x16400f=>{const _0x446c5f=_0x29fca4;if(Array[_0x446c5f(0xd7)](_0x16400f)){let _0x4fd8a1=!![];return _0x16400f['forEach'](_0x397ead=>{const _0x3a1e88=_0x446c5f;Array[_0x3a1e88(0xd7)](_0x397ead)?_0x4fd8a1=_0x4fd8a1&&_0x397ead[_0x3a1e88(0xc7)](_0xa8ca75=>{return _0xa8ca75=normalizeArabic(_0xa8ca75),_0x355fd3['includes'](_0xa8ca75);}):_0x4fd8a1=_0x4fd8a1&&isMatchText(_0x355fd3,_0x397ead);}),_0x4fd8a1;}else return isMatchText(_0x355fd3,_0x16400f);}),_0xcd6871=_0x2c7244[_0x29fca4(0xcc)][_0x29fca4(0xc7)](_0x4077f4=>{const _0x443789=_0x29fca4;if(Array[_0x443789(0xd7)](_0x4077f4)){let _0x41c509=!![];return _0x4077f4['forEach'](_0x228390=>{const _0x42b865=_0x443789;Array[_0x42b865(0xd7)](_0x228390)?_0x41c509=_0x41c509&&_0x228390[_0x42b865(0xc7)](_0x2ec6e1=>{const _0x1aa74a=_0x42b865;return _0x2ec6e1=normalizeArabic(_0x2ec6e1),_0x355fd3[_0x1aa74a(0xf1)](_0x2ec6e1);}):_0x41c509=_0x41c509&&isMatchText(_0x355fd3,_0x228390);}),_0x41c509;}else return isMatchText(_0x355fd3,_0x4077f4);});if(_0x57719f)_0x1f5cb3[_0x29fca4(0xb3)]();if(_0x57719f&&_0x4eaebb&&!_0xcd6871){const _0x2db361=getSheetID();if(_0x2db361=='')return;let _0x362e93=renderKeywords(_0x2c7244['keywords']),_0x32aea1=_0xf5f569[_0x29fca4(0xc1)]?await storeMedia(_0xf5f569,_0x5ae36b):'';const _0x5b33f9=[_0x3730a5,_0x5ae36b,_0x520093,_0x355fd3,_0x32aea1,_0x2c7244['name'],_0x362e93];terminal[_0x29fca4(0xb2)]('['+_0x3730a5+_0x29fca4(0xeb)+_0x520093+'-'+_0x5ae36b+'=>'+_0xf5f569[_0x29fca4(0xed)]+'\x20'+_0x362e93);const _0x436eb3=_0x2c7244[_0x29fca4(0xe8)][_0x29fca4(0xc9)];try{Gsheet[_0x29fca4(0xee)](_0x436eb3,_0x5b33f9);}catch(_0x5515a9){terminal['red']('['+_0x3730a5+_0x29fca4(0xb5)+_0x5515a9);}_0x2c7244[_0x29fca4(0xd2)]&&_0x59163f&&_0xf5f569[_0x29fca4(0xd2)](await replaceVariables(_0x2c7244[_0x29fca4(0xd2)]));_0x2c7244[_0x29fca4(0xbe)]&&client['sendMessage'](_0x5ae36b+'@c.us',await replaceVariables(_0x2c7244['replyprivate']));let _0x4f4363=messageBuffer[_0x29fca4(0xde)];_0x4f4363>messageBufferMAXLENGTH&&messageBuffer[_0x29fca4(0xdf)](0x0,_0x4f4363-messageBufferMAXLENGTH),global[_0x29fca4(0xd6)][_0x29fca4(0xe6)]({'message':_0x355fd3,'phone':_0x5ae36b});}}};module[a8_0x169876(0xc4)]={'receivedmsgHandler':receivedmsgHandler};