const a8_0x39e10f=a8_0x43f3;(function(_0x57e1bb,_0x655265){const _0x4f5f74=a8_0x43f3,_0x40ebf9=_0x57e1bb();while(!![]){try{const _0x51ef14=-parseInt(_0x4f5f74(0xa6))/0x1+-parseInt(_0x4f5f74(0xc1))/0x2*(-parseInt(_0x4f5f74(0xda))/0x3)+-parseInt(_0x4f5f74(0xb0))/0x4+-parseInt(_0x4f5f74(0xb6))/0x5*(-parseInt(_0x4f5f74(0xce))/0x6)+parseInt(_0x4f5f74(0xc7))/0x7+-parseInt(_0x4f5f74(0xb2))/0x8+parseInt(_0x4f5f74(0xc5))/0x9;if(_0x51ef14===_0x655265)break;else _0x40ebf9['push'](_0x40ebf9['shift']());}catch(_0x45dc87){_0x40ebf9['push'](_0x40ebf9['shift']());}}}(a8_0x4d6c,0x95d65));function a8_0x43f3(_0x20fd30,_0x500366){const _0x4d6c8c=a8_0x4d6c();return a8_0x43f3=function(_0x43f309,_0x2bac63){_0x43f309=_0x43f309-0x9d;let _0xa00063=_0x4d6c8c[_0x43f309];return _0xa00063;},a8_0x43f3(_0x20fd30,_0x500366);}const {messageBufferMAXLENGTH}=require('../config'),{getSheetID,getDriveID}=require(a8_0x39e10f(0xbc)),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x39e10f(0xc9)),{renderKeywords}=require(a8_0x39e10f(0xc4)),terminal=require(a8_0x39e10f(0xb3)),getGroups=async()=>{const _0xc3187e=a8_0x39e10f;let _0x1847b5=await client[_0xc3187e(0xb5)](),_0x4e6651=await _0x1847b5[_0xc3187e(0xd9)](_0x52923a=>_0x52923a[_0xc3187e(0xa0)]==!![]&&_0x52923a[_0xc3187e(0xc6)]!=undefined&&_0x52923a['id'][_0xc3187e(0xd8)]!=settings[_0xc3187e(0xa2)]);return _0x4e6651=_0x4e6651[_0xc3187e(0xab)](_0x132245=>({'name':_0x132245[_0xc3187e(0xc6)],'chatid':_0x132245['id'][_0xc3187e(0xd8)]})),_0x4e6651;},storeMedia=async(_0x428791,_0x5e405c)=>{const _0x5afde6=a8_0x39e10f,_0x249cdb=getDriveID();if(_0x249cdb=='')return terminal[_0x5afde6(0xad)]('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0xbd77b1=await _0x428791[_0x5afde6(0xcb)](),_0x4d1889=await data2Stream(_0xbd77b1,_0x5e405c);try{const _0x2dea30=await global[_0x5afde6(0xa8)][_0x5afde6(0xaf)](_0x249cdb,_0x4d1889);return _0x2dea30[_0x5afde6(0xb9)]['webViewLink'];}catch(_0x55d302){terminal[_0x5afde6(0xc3)](_0x5afde6(0xd7)+_0x55d302);}},isRepeated=async({message:_0x20b11f,phone:_0x565a51})=>{const _0x5e9a15=a8_0x39e10f,_0xaca658=messageBuffer[_0x5e9a15(0xb8)](_0x2b5f22=>_0x2b5f22[_0x5e9a15(0xca)]==_0x20b11f&&_0x2b5f22[_0x5e9a15(0xd4)]==_0x565a51);return _0xaca658;},isMatchText=(_0x1bc7b0,_0x3e1f36)=>{const _0x573337=a8_0x39e10f;_0x3e1f36=normalizeArabic(_0x3e1f36);if(_0x3e1f36[_0x573337(0xbe)]('++')){let _0x38424b=_0x3e1f36[_0x573337(0x9e)]('++')['map'](_0x164827=>_0x164827['trim']())[_0x573337(0xd9)](_0x400ad5=>_0x400ad5!=='');return _0x38424b['every'](_0x1a0b7f=>_0x1bc7b0[_0x573337(0xbe)](_0x1a0b7f));}else return _0x1bc7b0[_0x573337(0xbe)](_0x3e1f36);},receivedmsgHandler=async _0x5711a5=>{const _0x23d9a5=a8_0x39e10f,_0xa99eb7=new Date(),_0x23c58a=_0xa99eb7['toLocaleDateString'](_0x23d9a5(0xa9))+'\x20'+_0xa99eb7[_0x23d9a5(0xaa)]('en-EG');let _0x55fc22=await _0x5711a5[_0x23d9a5(0xd2)]();const _0x49de5b=_0x55fc22['isGroup'],_0x33c2ca=_0x49de5b?_0x5711a5[_0x23d9a5(0xa1)]:_0x23d9a5(0xc2),_0x471957=_0x49de5b?_0x5711a5[_0x23d9a5(0xc0)][_0x23d9a5(0x9e)]('@')[0x0]:_0x5711a5[_0x23d9a5(0xa1)][_0x23d9a5(0x9e)]('@')[0x0],_0x40a1b9=normalizeArabic(_0x5711a5[_0x23d9a5(0xa5)]);if(await isFiltered(_0x40a1b9)){terminal['logger']('[FILTERED\x20WORD!]\x20'+_0x471957,0x1);return;}if(await isFilteredPhone(_0x471957)){terminal[_0x23d9a5(0xad)]('[FILTERED\x20PHONE!]\x20'+_0x471957,0x1);return;}if(await isRepeated({'message':_0x40a1b9,'phone':_0x471957})){terminal[_0x23d9a5(0xad)](_0x23d9a5(0xa7)+_0x471957,0x1);return;}for(const _0x143ef7 of global[_0x23d9a5(0xba)]){let _0x362c7b=_0x143ef7[_0x23d9a5(0xd6)][_0x23d9a5(0xb8)](_0x481e46=>_0x481e46[_0x23d9a5(0xbd)]==_0x33c2ca||_0x49de5b&&_0x481e46[_0x23d9a5(0xbd)]==_0x23d9a5(0xae)||_0x49de5b&&_0x481e46[_0x23d9a5(0xbd)]==_0x23d9a5(0xbb)&&_0x481e46[_0x23d9a5(0xbb)][_0x23d9a5(0xc8)](_0x558068=>_0x558068['chatid']!=_0x33c2ca)),_0x185263=_0x143ef7[_0x23d9a5(0xd5)][_0x23d9a5(0xb8)](_0x39e613=>{const _0x16a7a4=_0x23d9a5;if(Array[_0x16a7a4(0xd0)](_0x39e613)){let _0xeaa915=!![];return _0x39e613['forEach'](_0x3b9db8=>{const _0x298ade=_0x16a7a4;Array[_0x298ade(0xd0)](_0x3b9db8)?_0xeaa915=_0xeaa915&&_0x3b9db8[_0x298ade(0xb8)](_0xcc85f8=>{return _0xcc85f8=normalizeArabic(_0xcc85f8),_0x40a1b9['includes'](_0xcc85f8);}):_0xeaa915=_0xeaa915&&isMatchText(_0x40a1b9,_0x3b9db8);}),_0xeaa915;}else return isMatchText(_0x40a1b9,_0x39e613);}),_0x22ee31=_0x143ef7[_0x23d9a5(0xa3)][_0x23d9a5(0xb8)](_0x2684e7=>{const _0x31875b=_0x23d9a5;if(Array['isArray'](_0x2684e7)){let _0x2781c1=!![];return _0x2684e7[_0x31875b(0xdb)](_0xe9637c=>{const _0x2cb2bf=_0x31875b;Array[_0x2cb2bf(0xd0)](_0xe9637c)?_0x2781c1=_0x2781c1&&_0xe9637c['some'](_0x22fcb1=>{const _0x242b1b=_0x2cb2bf;return _0x22fcb1=normalizeArabic(_0x22fcb1),_0x40a1b9[_0x242b1b(0xbe)](_0x22fcb1);}):_0x2781c1=_0x2781c1&&isMatchText(_0x40a1b9,_0xe9637c);}),_0x2781c1;}else return isMatchText(_0x40a1b9,_0x2684e7);});if(_0x362c7b)_0x55fc22['sendSeen']();if(_0x362c7b&&_0x185263&&!_0x22ee31){const _0x30735e=getSheetID();if(_0x30735e=='')return;let _0x20029a=_0x49de5b?(await getGroups())[_0x23d9a5(0xd9)](_0x5718d0=>_0x5718d0['chatid']==_0x33c2ca)[0x0][_0x23d9a5(0xc6)]:_0x23d9a5(0xcd),_0x4bef60=renderKeywords(_0x143ef7[_0x23d9a5(0xd5)]),_0xed5b02=_0x5711a5[_0x23d9a5(0xb4)]?await storeMedia(_0x5711a5,_0x471957):'';const _0x33771e=[_0x23c58a,_0x471957,_0x20029a,_0x40a1b9,_0xed5b02,_0x143ef7['name'],_0x4bef60];terminal['logger']('[MATCH!]\x20'+_0x20029a+'-'+_0x471957+'=>'+_0x5711a5[_0x23d9a5(0xb1)]);const _0x30d22f=_0x143ef7['gsheet'][_0x23d9a5(0xbf)];try{Gsheet[_0x23d9a5(0xcf)](_0x30d22f,_0x33771e);}catch(_0x406963){terminal['red'](_0x23d9a5(0x9d)+_0x406963);}if(_0x143ef7[_0x23d9a5(0xd1)]&&_0x49de5b)_0x5711a5['reply'](_0x143ef7[_0x23d9a5(0xd1)]);if(_0x143ef7[_0x23d9a5(0xcc)])client[_0x23d9a5(0x9f)](_0x471957+_0x23d9a5(0xb7),_0x143ef7['replyprivate']);let _0x4a890a=messageBuffer[_0x23d9a5(0xa4)];_0x4a890a>messageBufferMAXLENGTH&&messageBuffer['splice'](0x0,_0x4a890a-messageBufferMAXLENGTH),global[_0x23d9a5(0xd3)][_0x23d9a5(0xac)]({'message':_0x40a1b9,'phone':_0x471957});}}};function a8_0x4d6c(){const _0x49a490=['message','downloadMedia','replyprivate','Private','821850EpBYJt','addMatch','isArray','reply','getChat','messageBuffer','phone','keywords','applicable','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','_serialized','filter','9bREfok','forEach','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','split','sendMessage','isGroup','from','GroupID','blockedkeywords','length','body','1174777qAkwbv','[REPEATED\x20MESSAGE!]\x20','Gdrive','en-GB','toLocaleTimeString','map','push','logger','allgroups','createFile','1121960GfoAaM','type','1709232bfjCzH','../util/terminal','hasMedia','getChats','10XhAlCk','@c.us','some','data','conditions','except','../util/files','chatid','includes','sheetId','author','260816YaVwkC','private','red','./controlMsgHandler','12468195jpGRhC','name','1624875UzPjKg','every','../util/misc'];a8_0x4d6c=function(){return _0x49a490;};return a8_0x4d6c();}module['exports']={'receivedmsgHandler':receivedmsgHandler};