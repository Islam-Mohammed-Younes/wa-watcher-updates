const a8_0x1dc45e=a8_0x2dad;function a8_0x292b(){const _0xa692be=['blockedkeywords','isGroup','gsheet','10bJwpvE','except','Private','3403098GezpBi','36wYWXZK','split','toLocaleDateString','allgroups','../util/files','152fYWUDI','473eQRYHz','push','toLocaleTimeString','red','./controlMsgHandler','hasMedia','../config','from','keywords','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','sheetId','_serialized','logger','24156pUgqlV','6675849TZoVRQ','21189ROewGF','includes','some','data','[MATCH!]\x20','phone','trim','author','sendSeen','reply','../util/terminal','forEach','name','../util/dataOps','1596999tcCZdd','en-GB','map','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','360565KPxoBI','length','addMatch','sendMessage','private','isArray','1313346zfbuBR','1zuffKg','message','messageBuffer','../util/misc','chatid','exports','type','[REPEATED\x20MESSAGE!]\x20','filter','applicable','@c.us','downloadMedia','every','replyprivate'];a8_0x292b=function(){return _0xa692be;};return a8_0x292b();}function a8_0x2dad(_0xbafb30,_0x63d287){const _0x292bb0=a8_0x292b();return a8_0x2dad=function(_0x2dad18,_0x120120){_0x2dad18=_0x2dad18-0xc2;let _0x15c467=_0x292bb0[_0x2dad18];return _0x15c467;},a8_0x2dad(_0xbafb30,_0x63d287);}(function(_0x2fb5ba,_0x24fcf3){const _0x753ca1=a8_0x2dad,_0x22fb35=_0x2fb5ba();while(!![]){try{const _0x16d051=parseInt(_0x753ca1(0xca))/0x1*(-parseInt(_0x753ca1(0xc9))/0x2)+parseInt(_0x753ca1(0x102))/0x3+parseInt(_0x753ca1(0xdf))/0x4*(parseInt(_0x753ca1(0xc3))/0x5)+parseInt(_0x753ca1(0xde))/0x6+parseInt(_0x753ca1(0xf4))/0x7*(-parseInt(_0x753ca1(0xe4))/0x8)+parseInt(_0x753ca1(0xf3))/0x9*(-parseInt(_0x753ca1(0xdb))/0xa)+-parseInt(_0x753ca1(0xe5))/0xb*(-parseInt(_0x753ca1(0xf2))/0xc);if(_0x16d051===_0x24fcf3)break;else _0x22fb35['push'](_0x22fb35['shift']());}catch(_0x5c5012){_0x22fb35['push'](_0x22fb35['shift']());}}}(a8_0x292b,0x5c909));const {messageBufferMAXLENGTH}=require(a8_0x1dc45e(0xeb)),{getSheetID,getDriveID}=require(a8_0x1dc45e(0xe3)),{data2Stream}=require(a8_0x1dc45e(0x101)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x1dc45e(0xcd)),{renderKeywords}=require(a8_0x1dc45e(0xe9)),terminal=require(a8_0x1dc45e(0xfe)),getGroups=async()=>{const _0x3ea6de=a8_0x1dc45e;let _0x49eed2=await client['getChats'](),_0x49be0e=await _0x49eed2['filter'](_0x32dbe5=>_0x32dbe5[_0x3ea6de(0xd9)]==!![]&&_0x32dbe5[_0x3ea6de(0x100)]!=undefined&&_0x32dbe5['id'][_0x3ea6de(0xf0)]!=settings['GroupID']);return _0x49be0e=_0x49be0e[_0x3ea6de(0x104)](_0x3dea14=>({'name':_0x3dea14[_0x3ea6de(0x100)],'chatid':_0x3dea14['id'][_0x3ea6de(0xf0)]})),_0x49be0e;},storeMedia=async(_0x4c3807,_0xfd44d9)=>{const _0x4fec0f=a8_0x1dc45e,_0x54a6b2=getDriveID();if(_0x54a6b2=='')return terminal['logger'](_0x4fec0f(0xc2),0x1),'';const _0x7630d3=await _0x4c3807[_0x4fec0f(0xd5)](),_0x100f5b=await data2Stream(_0x7630d3,_0xfd44d9);try{const _0x1dabea=await global['Gdrive']['createFile'](_0x54a6b2,_0x100f5b);return _0x1dabea[_0x4fec0f(0xf7)]['webViewLink'];}catch(_0x4922ff){terminal[_0x4fec0f(0xe8)](_0x4fec0f(0xee)+_0x4922ff);}},isRepeated=async({message:_0x4ba332,phone:_0x448f31})=>{const _0x3ce29e=a8_0x1dc45e,_0x157f01=messageBuffer[_0x3ce29e(0xf6)](_0x10a674=>_0x10a674[_0x3ce29e(0xcb)]==_0x4ba332&&_0x10a674[_0x3ce29e(0xf9)]==_0x448f31);return _0x157f01;},isMatchText=(_0x3fd9ce,_0x35481b)=>{const _0x21de05=a8_0x1dc45e;_0x35481b=normalizeArabic(_0x35481b);if(_0x35481b[_0x21de05(0xf5)]('++')){let _0x2d2ca3=_0x35481b[_0x21de05(0xe0)]('++')[_0x21de05(0x104)](_0x422589=>_0x422589[_0x21de05(0xfa)]())[_0x21de05(0xd2)](_0x4310c5=>_0x4310c5!=='');return _0x2d2ca3[_0x21de05(0xd6)](_0x57c87f=>_0x3fd9ce[_0x21de05(0xf5)](_0x57c87f));}else return _0x3fd9ce[_0x21de05(0xf5)](_0x35481b);},receivedmsgHandler=async _0xd35a54=>{const _0x322ea0=a8_0x1dc45e,_0x5be0cb=new Date(),_0x2cac22=_0x5be0cb[_0x322ea0(0xe1)](_0x322ea0(0x103))+'\x20'+_0x5be0cb[_0x322ea0(0xe7)]('en-EG');let _0x26b27e=await _0xd35a54['getChat']();const _0x56ce19=_0x26b27e[_0x322ea0(0xd9)],_0xf9a6b6=_0x56ce19?_0xd35a54[_0x322ea0(0xec)]:_0x322ea0(0xc7),_0x22df53=_0x56ce19?_0xd35a54[_0x322ea0(0xfb)][_0x322ea0(0xe0)]('@')[0x0]:_0xd35a54[_0x322ea0(0xec)]['split']('@')[0x0],_0x3d1454=normalizeArabic(_0xd35a54['body']);if(await isFiltered(_0x3d1454)){terminal[_0x322ea0(0xf1)]('[FILTERED\x20WORD!]\x20'+_0x22df53,0x1);return;}if(await isFilteredPhone(_0x22df53)){terminal['logger']('[FILTERED\x20PHONE!]\x20'+_0x22df53,0x1);return;}if(await isRepeated({'message':_0x3d1454,'phone':_0x22df53})){terminal[_0x322ea0(0xf1)](_0x322ea0(0xd1)+_0x22df53,0x1);return;}for(const _0x1b6114 of global['conditions']){let _0x377eb2=_0x1b6114[_0x322ea0(0xd3)][_0x322ea0(0xf6)](_0xde1254=>_0xde1254['chatid']==_0xf9a6b6||_0x56ce19&&_0xde1254['chatid']==_0x322ea0(0xe2)||_0x56ce19&&_0xde1254[_0x322ea0(0xce)]==_0x322ea0(0xdc)&&_0xde1254[_0x322ea0(0xdc)]['every'](_0x1330fa=>_0x1330fa[_0x322ea0(0xce)]!=_0xf9a6b6)),_0x5b8db1=_0x1b6114[_0x322ea0(0xed)][_0x322ea0(0xf6)](_0x5e1de8=>{const _0x1d0a71=_0x322ea0;if(Array[_0x1d0a71(0xc8)](_0x5e1de8)){let _0x4c33e9=!![];return _0x5e1de8[_0x1d0a71(0xff)](_0x574467=>{const _0x13c0bc=_0x1d0a71;Array['isArray'](_0x574467)?_0x4c33e9=_0x4c33e9&&_0x574467[_0x13c0bc(0xf6)](_0x167a8c=>{return _0x167a8c=normalizeArabic(_0x167a8c),_0x3d1454['includes'](_0x167a8c);}):_0x4c33e9=_0x4c33e9&&isMatchText(_0x3d1454,_0x574467);}),_0x4c33e9;}else return isMatchText(_0x3d1454,_0x5e1de8);}),_0x5b3f2a=_0x1b6114[_0x322ea0(0xd8)]['some'](_0x16fff0=>{const _0x31eca4=_0x322ea0;if(Array[_0x31eca4(0xc8)](_0x16fff0)){let _0x1afda7=!![];return _0x16fff0[_0x31eca4(0xff)](_0x311a5f=>{const _0x25832d=_0x31eca4;Array[_0x25832d(0xc8)](_0x311a5f)?_0x1afda7=_0x1afda7&&_0x311a5f[_0x25832d(0xf6)](_0x1df1cd=>{const _0x1b2f5d=_0x25832d;return _0x1df1cd=normalizeArabic(_0x1df1cd),_0x3d1454[_0x1b2f5d(0xf5)](_0x1df1cd);}):_0x1afda7=_0x1afda7&&isMatchText(_0x3d1454,_0x311a5f);}),_0x1afda7;}else return isMatchText(_0x3d1454,_0x16fff0);});if(_0x377eb2)_0x26b27e[_0x322ea0(0xfc)]();if(_0x377eb2&&_0x5b8db1&&!_0x5b3f2a){const _0x11ba4d=getSheetID();if(_0x11ba4d=='')return;let _0x301031=_0x56ce19?(await getGroups())[_0x322ea0(0xd2)](_0x2034f0=>_0x2034f0[_0x322ea0(0xce)]==_0xf9a6b6)[0x0]['name']:_0x322ea0(0xdd),_0x3336b3=renderKeywords(_0x1b6114['keywords']),_0x317b0b=_0xd35a54[_0x322ea0(0xea)]?await storeMedia(_0xd35a54,_0x22df53):'';const _0x2e7fb4=[_0x2cac22,_0x22df53,_0x301031,_0x3d1454,_0x317b0b,_0x1b6114[_0x322ea0(0x100)],_0x3336b3];terminal[_0x322ea0(0xf1)](_0x322ea0(0xf8)+_0x301031+'-'+_0x22df53+'=>'+_0xd35a54[_0x322ea0(0xd0)]);const _0x46c45d=_0x1b6114[_0x322ea0(0xda)][_0x322ea0(0xef)];try{Gsheet[_0x322ea0(0xc5)](_0x46c45d,_0x2e7fb4);}catch(_0x4a1ef3){terminal['red']('[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:'+_0x4a1ef3);}if(_0x1b6114[_0x322ea0(0xfd)]&&_0x56ce19)_0xd35a54[_0x322ea0(0xfd)](_0x1b6114[_0x322ea0(0xfd)]);if(_0x1b6114[_0x322ea0(0xd7)])client[_0x322ea0(0xc6)](_0x22df53+_0x322ea0(0xd4),_0x1b6114[_0x322ea0(0xd7)]);let _0x28af66=messageBuffer[_0x322ea0(0xc4)];_0x28af66>messageBufferMAXLENGTH&&messageBuffer['splice'](0x0,_0x28af66-messageBufferMAXLENGTH),global[_0x322ea0(0xcc)][_0x322ea0(0xe6)]({'message':_0x3d1454,'phone':_0x22df53});}}};module[a8_0x1dc45e(0xcf)]={'receivedmsgHandler':receivedmsgHandler};