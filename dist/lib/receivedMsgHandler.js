const a8_0x5ef170=a8_0x4645;(function(_0x15ef2f,_0x4ad520){const _0x4ff0df=a8_0x4645,_0x2b8f62=_0x15ef2f();while(!![]){try{const _0x4e24e1=-parseInt(_0x4ff0df(0x1c8))/0x1*(-parseInt(_0x4ff0df(0x1b1))/0x2)+parseInt(_0x4ff0df(0x1be))/0x3+-parseInt(_0x4ff0df(0x1a6))/0x4+parseInt(_0x4ff0df(0x1b5))/0x5*(parseInt(_0x4ff0df(0x1a2))/0x6)+parseInt(_0x4ff0df(0x1b9))/0x7*(parseInt(_0x4ff0df(0x1af))/0x8)+parseInt(_0x4ff0df(0x1a9))/0x9*(parseInt(_0x4ff0df(0x1aa))/0xa)+parseInt(_0x4ff0df(0x1a7))/0xb*(-parseInt(_0x4ff0df(0x1c9))/0xc);if(_0x4e24e1===_0x4ad520)break;else _0x2b8f62['push'](_0x2b8f62['shift']());}catch(_0x497b70){_0x2b8f62['push'](_0x2b8f62['shift']());}}}(a8_0x2c74,0x50244));function a8_0x4645(_0x3eea8a,_0x5eadf6){const _0x2c7468=a8_0x2c74();return a8_0x4645=function(_0x46450b,_0x5498c5){_0x46450b=_0x46450b-0x191;let _0x4e0749=_0x2c7468[_0x46450b];return _0x4e0749;},a8_0x4645(_0x3eea8a,_0x5eadf6);}const {messageBufferMAXLENGTH}=require(a8_0x5ef170(0x1c4)),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require(a8_0x5ef170(0x191)),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x5ef170(0x1a8)),{renderKeywords}=require(a8_0x5ef170(0x1ce)),terminal=require(a8_0x5ef170(0x1c1)),getGroups=async()=>{const _0x132c34=a8_0x5ef170;let _0x300806=await client[_0x132c34(0x1b4)](),_0x3d0105=await _0x300806[_0x132c34(0x1b8)](_0x5cb506=>_0x5cb506['isGroup']==!![]&&_0x5cb506[_0x132c34(0x193)]!=undefined&&_0x5cb506['id'][_0x132c34(0x1a5)]!=settings[_0x132c34(0x1c7)]);return _0x3d0105=_0x3d0105[_0x132c34(0x1a4)](_0x4506e4=>({'name':_0x4506e4[_0x132c34(0x193)],'chatid':_0x4506e4['id'][_0x132c34(0x1a5)]})),_0x3d0105;},storeMedia=async(_0x1ed355,_0x27384e)=>{const _0x132731=a8_0x5ef170,_0x2d93d9=getDriveID();if(_0x2d93d9=='')return terminal['logger']('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0x38d7f1=await _0x1ed355[_0x132731(0x1d0)](),_0x4d35e4=await data2Stream(_0x38d7f1,_0x27384e);try{const _0x34013e=await global[_0x132731(0x196)][_0x132731(0x1ac)](_0x2d93d9,_0x4d35e4);return _0x34013e[_0x132731(0x19f)][_0x132731(0x19b)];}catch(_0x103e11){terminal[_0x132731(0x1d3)]('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x103e11);}},isRepeated=async({message:_0x5d8667,phone:_0x380e3b})=>{const _0x3dc920=a8_0x5ef170,_0x3483f7=messageBuffer[_0x3dc920(0x1a1)](_0x1968df=>_0x1968df[_0x3dc920(0x1bd)]==_0x5d8667&&_0x1968df[_0x3dc920(0x1c6)]==_0x380e3b);return _0x3483f7;},isMatchText=(_0x1f9b4d,_0x3bfde4)=>{const _0x231709=a8_0x5ef170;_0x3bfde4=normalizeArabic(_0x3bfde4);if(_0x3bfde4['includes']('++')){let _0x3a9f85=_0x3bfde4[_0x231709(0x1ba)]('++')['map'](_0x5cedbf=>_0x5cedbf[_0x231709(0x1bf)]())[_0x231709(0x1b8)](_0x51a151=>_0x51a151!=='');return _0x3a9f85[_0x231709(0x19a)](_0xaa970e=>_0x1f9b4d[_0x231709(0x1ab)](_0xaa970e));}else return _0x1f9b4d[_0x231709(0x1ab)](_0x3bfde4);},receivedmsgHandler=async _0x3e2d4f=>{const _0x3636d8=a8_0x5ef170,_0xa3db69=new Date(),_0x20ae38=_0xa3db69[_0x3636d8(0x1c0)](_0x3636d8(0x1bc))+'\x20'+_0xa3db69[_0x3636d8(0x1b2)](_0x3636d8(0x19d));let _0x26de18=await _0x3e2d4f['getChat']();const _0x4e56a1=_0x26de18[_0x3636d8(0x199)],_0x4f557a=_0x4e56a1?_0x3e2d4f['from']:_0x3636d8(0x195),_0xfa0a16=_0x4e56a1?_0x3e2d4f[_0x3636d8(0x1b0)][_0x3636d8(0x1ba)]('@')[0x0]:_0x3e2d4f[_0x3636d8(0x1cb)][_0x3636d8(0x1ba)]('@')[0x0];let _0x237b6c=_0x4e56a1?(await getGroups())['filter'](_0x137ec3=>_0x137ec3[_0x3636d8(0x1cd)]==_0x4f557a)[0x0][_0x3636d8(0x193)]:_0x3636d8(0x194);const _0x222c21=normalizeArabic(_0x3e2d4f[_0x3636d8(0x1b3)]);if(await isFiltered(_0x222c21)){terminal[_0x3636d8(0x1bb)]('['+_0x20ae38+_0x3636d8(0x1ad)+_0x237b6c+'-'+_0xfa0a16,0x1);return;}if(await isFilteredPhone(_0xfa0a16)){terminal[_0x3636d8(0x1bb)]('['+_0x20ae38+_0x3636d8(0x1cf)+_0x237b6c+'-'+_0xfa0a16,0x1);return;}if(await isRepeated({'message':_0x222c21,'phone':_0xfa0a16})){terminal[_0x3636d8(0x1bb)]('['+_0x20ae38+']\x20[REPEATED\x20MESSAGE!]\x20'+_0x237b6c+'-'+_0xfa0a16,0x1);return;}for(const _0x48429c of global[_0x3636d8(0x1a0)]){let _0x2f823c=_0x48429c[_0x3636d8(0x1ae)][_0x3636d8(0x1a1)](_0x189d92=>_0x189d92[_0x3636d8(0x1cd)]==_0x4f557a||_0x4e56a1&&_0x189d92[_0x3636d8(0x1cd)]==_0x3636d8(0x1ca)||_0x4e56a1&&_0x189d92[_0x3636d8(0x1cd)]==_0x3636d8(0x197)&&_0x189d92[_0x3636d8(0x197)][_0x3636d8(0x19a)](_0x427016=>_0x427016[_0x3636d8(0x1cd)]!=_0x4f557a)),_0x9f5edd=_0x48429c['keywords'][_0x3636d8(0x1a1)](_0x1466dd=>{const _0x54b919=_0x3636d8;if(Array['isArray'](_0x1466dd)){let _0x570eb0=!![];return _0x1466dd[_0x54b919(0x192)](_0x363c45=>{const _0x2aea15=_0x54b919;Array['isArray'](_0x363c45)?_0x570eb0=_0x570eb0&&_0x363c45[_0x2aea15(0x1a1)](_0x19b2dd=>{const _0x365ca8=_0x2aea15;return _0x19b2dd=normalizeArabic(_0x19b2dd),_0x222c21[_0x365ca8(0x1ab)](_0x19b2dd);}):_0x570eb0=_0x570eb0&&isMatchText(_0x222c21,_0x363c45);}),_0x570eb0;}else return isMatchText(_0x222c21,_0x1466dd);}),_0x1535ad=_0x48429c['blockedkeywords']['some'](_0x5dabc0=>{if(Array['isArray'](_0x5dabc0)){let _0x4ce072=!![];return _0x5dabc0['forEach'](_0x91f7a0=>{Array['isArray'](_0x91f7a0)?_0x4ce072=_0x4ce072&&_0x91f7a0['some'](_0x195371=>{const _0x1388d7=a8_0x4645;return _0x195371=normalizeArabic(_0x195371),_0x222c21[_0x1388d7(0x1ab)](_0x195371);}):_0x4ce072=_0x4ce072&&isMatchText(_0x222c21,_0x91f7a0);}),_0x4ce072;}else return isMatchText(_0x222c21,_0x5dabc0);});if(_0x2f823c)_0x26de18[_0x3636d8(0x1d1)]();if(_0x2f823c&&_0x9f5edd&&!_0x1535ad){const _0x48e995=getSheetID();if(_0x48e995=='')return;let _0x216f5e=renderKeywords(_0x48429c['keywords']),_0x134437=_0x3e2d4f[_0x3636d8(0x1b7)]?await storeMedia(_0x3e2d4f,_0xfa0a16):'';const _0x62d7aa=[_0x20ae38,_0xfa0a16,_0x237b6c,_0x222c21,_0x134437,_0x48429c[_0x3636d8(0x193)],_0x216f5e];terminal['logger']('['+_0x20ae38+']\x20[MATCH!]\x20'+_0x237b6c+'-'+_0xfa0a16+'=>'+_0x3e2d4f[_0x3636d8(0x1c2)]+'\x20'+_0x216f5e);const _0x3253b7=_0x48429c[_0x3636d8(0x198)][_0x3636d8(0x19e)];try{Gsheet['addMatch'](_0x3253b7,_0x62d7aa);}catch(_0x4c0981){terminal[_0x3636d8(0x1d3)]('['+_0x20ae38+_0x3636d8(0x1b6)+_0x4c0981);}if(_0x48429c[_0x3636d8(0x1c5)]&&_0x4e56a1)_0x3e2d4f['reply'](_0x48429c['reply']);if(_0x48429c[_0x3636d8(0x1a3)])client['sendMessage'](_0xfa0a16+'@c.us',_0x48429c[_0x3636d8(0x1a3)]);let _0x480407=messageBuffer[_0x3636d8(0x1cc)];_0x480407>messageBufferMAXLENGTH&&messageBuffer[_0x3636d8(0x1d2)](0x0,_0x480407-messageBufferMAXLENGTH),global[_0x3636d8(0x1c3)][_0x3636d8(0x19c)]({'message':_0x222c21,'phone':_0xfa0a16});}}};module['exports']={'receivedmsgHandler':receivedmsgHandler};function a8_0x2c74(){const _0x4662c3=['1820295vfkSPd','trim','toLocaleDateString','../util/terminal','type','messageBuffer','../config','reply','phone','GroupID','187DNQPGW','11076636wtrAcz','allgroups','from','length','chatid','./controlMsgHandler',']\x20[FILTERED\x20PHONE!]\x20','downloadMedia','sendSeen','splice','red','../util/dataOps','forEach','name','Private','private','Gdrive','except','gsheet','isGroup','every','webViewLink','push','en-EG','sheetId','data','conditions','some','164598QAkmTv','replyprivate','map','_serialized','2067352ujtqfB','11MhGmeH','../util/misc','16542RzdTNf','390rLeYCZ','includes','createFile',']\x20[FILTERED\x20WORD!]\x20','applicable','2568npnlxr','author','6704zhncRe','toLocaleTimeString','body','getChats','65nWGnMD',']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','hasMedia','filter','2317GeSFvP','split','logger','en-GB','message'];a8_0x2c74=function(){return _0x4662c3;};return a8_0x2c74();}