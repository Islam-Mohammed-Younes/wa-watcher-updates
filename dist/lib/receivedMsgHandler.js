function a8_0xbe7e(_0x2db20b,_0x57a987){const _0x3dc73c=a8_0x3dc7();return a8_0xbe7e=function(_0xbe7e30,_0x251d1d){_0xbe7e30=_0xbe7e30-0x151;let _0x566311=_0x3dc73c[_0xbe7e30];return _0x566311;},a8_0xbe7e(_0x2db20b,_0x57a987);}function a8_0x3dc7(){const _0x5fb7=['isGroup','matchAll','2097RhimhZ','sheetId',']\x20[MATCH!]\x20','messageBuffer','trim','../config','forEach','chatid','./controlMsgHandler','getCellByA1','body','keywords','908665rwwQTK','push','exports','sendSeen','filter','sheetsByTitle','507414lEhels','../util/files','splice','replyprivate',']\x20[FILTERED\x20PHONE!]\x20','getChats','author','reply','4pYZdiX','replace',']\x20[REPEATED\x20MESSAGE!]\x20','GroupID','data','getChat','6553780JeGjhK','applicable','_serialized','../util/misc','toLocaleTimeString','@c.us','split','586524ZrHgGZ','Gdrive','blockedkeywords','formattedValue','every','logger','length','loadCells','conditions','some','32776qNeZhT','includes','name','302738aIpUGj','1533UkoVTk','message','GSpreadsheet','downloadMedia','from','en-GB','hasMedia','14484ungPUp','private',']\x20[FILTERED\x20WORD!]\x20','except','type','isArray','Private','createFile'];a8_0x3dc7=function(){return _0x5fb7;};return a8_0x3dc7();}const a8_0x1f6ed6=a8_0xbe7e;(function(_0x523021,_0x2ffee9){const _0x7c8695=a8_0xbe7e,_0x2a729b=_0x523021();while(!![]){try{const _0x477ef9=-parseInt(_0x7c8695(0x169))/0x1+-parseInt(_0x7c8695(0x18d))/0x2+-parseInt(_0x7c8695(0x15c))/0x3+parseInt(_0x7c8695(0x195))/0x4*(parseInt(_0x7c8695(0x187))/0x5)+-parseInt(_0x7c8695(0x171))/0x6*(parseInt(_0x7c8695(0x16a))/0x7)+parseInt(_0x7c8695(0x166))/0x8*(parseInt(_0x7c8695(0x17b))/0x9)+parseInt(_0x7c8695(0x155))/0xa;if(_0x477ef9===_0x2ffee9)break;else _0x2a729b['push'](_0x2a729b['shift']());}catch(_0x149654){_0x2a729b['push'](_0x2a729b['shift']());}}}(a8_0x3dc7,0x7cc75));const {messageBufferMAXLENGTH}=require(a8_0x1f6ed6(0x180)),{getSheetID,getDriveID}=require(a8_0x1f6ed6(0x18e)),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x1f6ed6(0x158)),{renderKeywords}=require(a8_0x1f6ed6(0x183)),terminal=require('../util/terminal'),getGroups=async()=>{const _0x567a79=a8_0x1f6ed6;let _0x1f09a4=await client[_0x567a79(0x192)](),_0x39ecb6=await _0x1f09a4['filter'](_0x5529d7=>_0x5529d7[_0x567a79(0x179)]==!![]&&_0x5529d7[_0x567a79(0x168)]!=undefined&&_0x5529d7['id'][_0x567a79(0x157)]!=settings[_0x567a79(0x152)]);return _0x39ecb6=_0x39ecb6['map'](_0x2f4bc4=>({'name':_0x2f4bc4['name'],'chatid':_0x2f4bc4['id'][_0x567a79(0x157)]})),_0x39ecb6;},storeMedia=async(_0x2cbbd5,_0x1ae9f6)=>{const _0x1b57f4=a8_0x1f6ed6,_0x4fd932=getDriveID();if(_0x4fd932=='')return terminal[_0x1b57f4(0x161)]('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0x5513f1=await _0x2cbbd5[_0x1b57f4(0x16d)](),_0x42c94b=await data2Stream(_0x5513f1,_0x1ae9f6);try{const _0x22538a=await global[_0x1b57f4(0x15d)][_0x1b57f4(0x178)](_0x4fd932,_0x42c94b);return _0x22538a[_0x1b57f4(0x153)]['webViewLink'];}catch(_0x3ffdda){terminal['red']('[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:'+_0x3ffdda);}},isRepeated=async({message:_0x389aff,phone:_0x1c0db1})=>{const _0x1b67f6=a8_0x1f6ed6,_0x4bcfbd=messageBuffer['some'](_0x85b988=>_0x85b988[_0x1b67f6(0x16b)]==_0x389aff&&_0x85b988['phone']==_0x1c0db1);return _0x4bcfbd;},isMatchText=(_0x16e120,_0x2352f4)=>{const _0x5f33f3=a8_0x1f6ed6;_0x2352f4=normalizeArabic(_0x2352f4);if(_0x2352f4[_0x5f33f3(0x167)]('++')){let _0x1c8732=_0x2352f4[_0x5f33f3(0x15b)]('++')['map'](_0x3aaf56=>_0x3aaf56[_0x5f33f3(0x17f)]())[_0x5f33f3(0x18b)](_0x4a69f0=>_0x4a69f0!=='');return _0x1c8732[_0x5f33f3(0x160)](_0x1c0900=>_0x16e120[_0x5f33f3(0x167)](_0x1c0900));}else return _0x16e120[_0x5f33f3(0x167)](_0x2352f4);},replaceVariables=async _0x3912d6=>{const _0x4a60f4=a8_0x1f6ed6;try{const _0x1fcb99=/\[=([a-zA-Z]+)!([A-Z]{1}\d+)\]/g;let _0x487a65=[..._0x3912d6[_0x4a60f4(0x17a)](_0x1fcb99)];if(_0x487a65[_0x4a60f4(0x162)]>0x0)for await(const _0x59748f of _0x487a65){let _0x3cfe8e=_0x59748f[0x0],_0x4c60f2=_0x59748f[0x1],_0x3540ee=_0x59748f[0x2],_0x1cb797=global[_0x4a60f4(0x16c)][_0x4a60f4(0x18c)][_0x4c60f2];await _0x1cb797[_0x4a60f4(0x163)](_0x3540ee);let _0x47bd54=String(_0x1cb797[_0x4a60f4(0x184)](_0x3540ee)[_0x4a60f4(0x15f)]);_0x3912d6=_0x3912d6[_0x4a60f4(0x196)](_0x3cfe8e,_0x47bd54);}}catch(_0x13959c){terminal[_0x4a60f4(0x161)]('[WARN!]\x20Cannot\x20get\x20variables\x0amake\x20sure\x20the\x20variables\x20worksheet\x20exists',0x1);}return _0x3912d6;},receivedmsgHandler=async _0xe7d49f=>{const _0x13b97b=a8_0x1f6ed6,_0x3f03cf=new Date(),_0x4dc422=_0x3f03cf['toLocaleDateString'](_0x13b97b(0x16f))+'\x20'+_0x3f03cf[_0x13b97b(0x159)]('en-EG');let _0x104fd3=await _0xe7d49f[_0x13b97b(0x154)]();const _0x1ecdbe=_0x104fd3['isGroup'],_0x8e21d3=_0x1ecdbe?_0xe7d49f[_0x13b97b(0x16e)]:_0x13b97b(0x172),_0x2d8bc0=_0x1ecdbe?_0xe7d49f[_0x13b97b(0x193)][_0x13b97b(0x15b)]('@')[0x0]:_0xe7d49f[_0x13b97b(0x16e)][_0x13b97b(0x15b)]('@')[0x0];let _0x2aacab=_0x1ecdbe?(await getGroups())['filter'](_0x563087=>_0x563087[_0x13b97b(0x182)]==_0x8e21d3)[0x0][_0x13b97b(0x168)]:_0x13b97b(0x177);const _0x532306=normalizeArabic(_0xe7d49f[_0x13b97b(0x185)]);if(await isFiltered(_0x532306)){terminal['logger']('['+_0x4dc422+_0x13b97b(0x173)+_0x2aacab+'-'+_0x2d8bc0,0x1);return;}if(await isFilteredPhone(_0x2d8bc0)){terminal[_0x13b97b(0x161)]('['+_0x4dc422+_0x13b97b(0x191)+_0x2aacab+'-'+_0x2d8bc0,0x1);return;}if(await isRepeated({'message':_0x532306,'phone':_0x2d8bc0})){terminal['logger']('['+_0x4dc422+_0x13b97b(0x151)+_0x2aacab+'-'+_0x2d8bc0,0x1);return;}for(const _0x212c3c of global[_0x13b97b(0x164)]){let _0x4a380d=_0x212c3c[_0x13b97b(0x156)][_0x13b97b(0x165)](_0x352f06=>_0x352f06[_0x13b97b(0x182)]==_0x8e21d3||_0x1ecdbe&&_0x352f06[_0x13b97b(0x182)]=='allgroups'||_0x1ecdbe&&_0x352f06[_0x13b97b(0x182)]==_0x13b97b(0x174)&&_0x352f06[_0x13b97b(0x174)]['every'](_0x45d72d=>_0x45d72d[_0x13b97b(0x182)]!=_0x8e21d3)),_0x21159f=_0x212c3c[_0x13b97b(0x186)][_0x13b97b(0x165)](_0x314274=>{if(Array['isArray'](_0x314274)){let _0x12abc5=!![];return _0x314274['forEach'](_0x51d200=>{const _0x459c71=a8_0xbe7e;Array[_0x459c71(0x176)](_0x51d200)?_0x12abc5=_0x12abc5&&_0x51d200[_0x459c71(0x165)](_0x17fc09=>{return _0x17fc09=normalizeArabic(_0x17fc09),_0x532306['includes'](_0x17fc09);}):_0x12abc5=_0x12abc5&&isMatchText(_0x532306,_0x51d200);}),_0x12abc5;}else return isMatchText(_0x532306,_0x314274);}),_0x4f68ea=_0x212c3c[_0x13b97b(0x15e)][_0x13b97b(0x165)](_0x40afec=>{const _0x224695=_0x13b97b;if(Array[_0x224695(0x176)](_0x40afec)){let _0x17ce69=!![];return _0x40afec[_0x224695(0x181)](_0x1fa1e0=>{const _0x3cb3ad=_0x224695;Array[_0x3cb3ad(0x176)](_0x1fa1e0)?_0x17ce69=_0x17ce69&&_0x1fa1e0[_0x3cb3ad(0x165)](_0x170557=>{return _0x170557=normalizeArabic(_0x170557),_0x532306['includes'](_0x170557);}):_0x17ce69=_0x17ce69&&isMatchText(_0x532306,_0x1fa1e0);}),_0x17ce69;}else return isMatchText(_0x532306,_0x40afec);});if(_0x4a380d)_0x104fd3[_0x13b97b(0x18a)]();if(_0x4a380d&&_0x21159f&&!_0x4f68ea){const _0x5f1777=getSheetID();if(_0x5f1777=='')return;let _0x2fb67b=renderKeywords(_0x212c3c['keywords']),_0x49f9c6=_0xe7d49f[_0x13b97b(0x170)]?await storeMedia(_0xe7d49f,_0x2d8bc0):'';const _0x360cb9=[_0x4dc422,_0x2d8bc0,_0x2aacab,_0x532306,_0x49f9c6,_0x212c3c[_0x13b97b(0x168)],_0x2fb67b];terminal[_0x13b97b(0x161)]('['+_0x4dc422+_0x13b97b(0x17d)+_0x2aacab+'-'+_0x2d8bc0+'=>'+_0xe7d49f[_0x13b97b(0x175)]+'\x20'+_0x2fb67b);const _0x5b83e5=_0x212c3c['gsheet'][_0x13b97b(0x17c)];try{Gsheet['addMatch'](_0x5b83e5,_0x360cb9);}catch(_0x205fff){terminal['red']('['+_0x4dc422+']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:'+_0x205fff);}_0x212c3c[_0x13b97b(0x194)]&&_0x1ecdbe&&_0xe7d49f[_0x13b97b(0x194)](await replaceVariables(_0x212c3c['reply']));_0x212c3c[_0x13b97b(0x190)]&&client['sendMessage'](_0x2d8bc0+_0x13b97b(0x15a),await replaceVariables(_0x212c3c[_0x13b97b(0x190)]));let _0x3b87d6=messageBuffer[_0x13b97b(0x162)];_0x3b87d6>messageBufferMAXLENGTH&&messageBuffer[_0x13b97b(0x18f)](0x0,_0x3b87d6-messageBufferMAXLENGTH),global[_0x13b97b(0x17e)][_0x13b97b(0x188)]({'message':_0x532306,'phone':_0x2d8bc0});}}};module[a8_0x1f6ed6(0x189)]={'receivedmsgHandler':receivedmsgHandler};