const a8_0x4e6666=a8_0x3b6d;function a8_0x3b6d(_0x5b0f41,_0x32cfda){const _0x448c3a=a8_0x448c();return a8_0x3b6d=function(_0x3b6d7c,_0x221a00){_0x3b6d7c=_0x3b6d7c-0x7d;let _0xeacf28=_0x448c3a[_0x3b6d7c];return _0xeacf28;},a8_0x3b6d(_0x5b0f41,_0x32cfda);}(function(_0x122d86,_0x4c92c1){const _0x446e06=a8_0x3b6d,_0x1ff4b3=_0x122d86();while(!![]){try{const _0xde8863=-parseInt(_0x446e06(0x98))/0x1*(parseInt(_0x446e06(0x9c))/0x2)+parseInt(_0x446e06(0xab))/0x3*(-parseInt(_0x446e06(0xaa))/0x4)+parseInt(_0x446e06(0xa1))/0x5+-parseInt(_0x446e06(0x82))/0x6*(parseInt(_0x446e06(0x84))/0x7)+-parseInt(_0x446e06(0xbb))/0x8+-parseInt(_0x446e06(0xb9))/0x9*(parseInt(_0x446e06(0x7e))/0xa)+parseInt(_0x446e06(0x87))/0xb;if(_0xde8863===_0x4c92c1)break;else _0x1ff4b3['push'](_0x1ff4b3['shift']());}catch(_0x2cb6f0){_0x1ff4b3['push'](_0x1ff4b3['shift']());}}}(a8_0x448c,0x8aeb4));const {messageBufferMAXLENGTH}=require(a8_0x4e6666(0xa4)),{getSheetID,getDriveID}=require(a8_0x4e6666(0x94)),{data2Stream}=require('../util/dataOps'),{isFiltered,isFilteredPhone,normalizeArabic}=require(a8_0x4e6666(0x9e)),{renderKeywords}=require(a8_0x4e6666(0xad)),terminal=require('../util/terminal'),getGroups=async()=>{const _0x15d15f=a8_0x4e6666;let _0xa6be0a=await client[_0x15d15f(0xa9)](),_0x201774=await _0xa6be0a[_0x15d15f(0x86)](_0x504ee5=>_0x504ee5[_0x15d15f(0xb7)]==!![]&&_0x504ee5[_0x15d15f(0x9d)]!=undefined&&_0x504ee5['id'][_0x15d15f(0xb5)]!=settings[_0x15d15f(0x83)]);return _0x201774=_0x201774['map'](_0x41a78f=>({'name':_0x41a78f[_0x15d15f(0x9d)],'chatid':_0x41a78f['id']['_serialized']})),_0x201774;},storeMedia=async(_0x275fac,_0x171ba1)=>{const _0x397ece=a8_0x4e6666,_0x187e1f=getDriveID();if(_0x187e1f=='')return terminal[_0x397ece(0xb0)](_0x397ece(0x8b),0x1),'';const _0x231eef=await _0x275fac[_0x397ece(0x92)](),_0xc8c020=await data2Stream(_0x231eef,_0x171ba1);try{const _0x3ec37f=await global[_0x397ece(0xb2)][_0x397ece(0x7f)](_0x187e1f,_0xc8c020);return _0x3ec37f[_0x397ece(0x8c)][_0x397ece(0x80)];}catch(_0x4228fc){terminal[_0x397ece(0xac)](_0x397ece(0xb4)+_0x4228fc);}},isRepeated=async({message:_0xb6cc1a,phone:_0x15eb2e})=>{const _0x142a80=a8_0x4e6666,_0x462571=messageBuffer[_0x142a80(0xa3)](_0x14471c=>_0x14471c['message']==_0xb6cc1a&&_0x14471c[_0x142a80(0x96)]==_0x15eb2e);return _0x462571;},isMatchText=(_0x50888a,_0x5e1c01)=>{const _0x226a71=a8_0x4e6666;_0x5e1c01=normalizeArabic(_0x5e1c01);if(_0x5e1c01[_0x226a71(0x90)]('++')){let _0x1d5dda=_0x5e1c01['split']('++')[_0x226a71(0xa7)](_0x1a0c2d=>_0x1a0c2d['trim']())[_0x226a71(0x86)](_0xc476ab=>_0xc476ab!=='');return _0x1d5dda[_0x226a71(0xb1)](_0x3930e0=>_0x50888a[_0x226a71(0x90)](_0x3930e0));}else return _0x50888a[_0x226a71(0x90)](_0x5e1c01);},receivedmsgHandler=async _0x32dd3b=>{const _0x22e457=a8_0x4e6666,_0x17237e=new Date(),_0x2db724=_0x17237e[_0x22e457(0xae)](_0x22e457(0xa2))+'\x20'+_0x17237e[_0x22e457(0xba)](_0x22e457(0x99));let _0x3c490e=await _0x32dd3b[_0x22e457(0x81)]();const _0x41e202=_0x3c490e[_0x22e457(0xb7)],_0x22321b=_0x41e202?_0x32dd3b[_0x22e457(0xa5)]:'private',_0x4eb734=_0x41e202?_0x32dd3b['author']['split']('@')[0x0]:_0x32dd3b['from'][_0x22e457(0xaf)]('@')[0x0],_0x20185d=normalizeArabic(_0x32dd3b[_0x22e457(0xb8)]);if(await isFiltered(_0x20185d)){terminal['logger'](_0x22e457(0xb3)+_0x4eb734,0x1);return;}if(await isFilteredPhone(_0x4eb734)){terminal[_0x22e457(0xb0)]('[FILTERED\x20PHONE!]\x20'+_0x4eb734,0x1);return;}if(await isRepeated({'message':_0x20185d,'phone':_0x4eb734})){terminal['logger'](_0x22e457(0x85)+_0x4eb734,0x1);return;}for(const _0x5e7c3d of global[_0x22e457(0x91)]){let _0x215bac=_0x5e7c3d['applicable']['some'](_0xc26d37=>_0xc26d37[_0x22e457(0x9b)]==_0x22321b||_0x41e202&&_0xc26d37[_0x22e457(0x9b)]==_0x22e457(0x9f)||_0x41e202&&_0xc26d37[_0x22e457(0x9b)]=='except'&&_0xc26d37[_0x22e457(0x93)][_0x22e457(0xb1)](_0x24b78a=>_0x24b78a[_0x22e457(0x9b)]!=_0x22321b)),_0x2df8ac=_0x5e7c3d['keywords'][_0x22e457(0xa3)](_0x350e31=>{const _0x3e5a70=_0x22e457;if(Array[_0x3e5a70(0x88)](_0x350e31)){let _0x7bb3f4=!![];return _0x350e31['forEach'](_0x7753ec=>{const _0x1d2c11=_0x3e5a70;Array[_0x1d2c11(0x88)](_0x7753ec)?_0x7bb3f4=_0x7bb3f4&&_0x7753ec['some'](_0x1e8f8e=>{const _0x3569f6=_0x1d2c11;return _0x1e8f8e=normalizeArabic(_0x1e8f8e),_0x20185d[_0x3569f6(0x90)](_0x1e8f8e);}):_0x7bb3f4=_0x7bb3f4&&isMatchText(_0x20185d,_0x7753ec);}),_0x7bb3f4;}else return isMatchText(_0x20185d,_0x350e31);}),_0x3e9c78=_0x5e7c3d['blockedkeywords'][_0x22e457(0xa3)](_0x5c797b=>{const _0x52b95a=_0x22e457;if(Array[_0x52b95a(0x88)](_0x5c797b)){let _0x4f3600=!![];return _0x5c797b['forEach'](_0x132d98=>{const _0x2bdd64=_0x52b95a;Array['isArray'](_0x132d98)?_0x4f3600=_0x4f3600&&_0x132d98[_0x2bdd64(0xa3)](_0x151795=>{const _0x540394=_0x2bdd64;return _0x151795=normalizeArabic(_0x151795),_0x20185d[_0x540394(0x90)](_0x151795);}):_0x4f3600=_0x4f3600&&isMatchText(_0x20185d,_0x132d98);}),_0x4f3600;}else return isMatchText(_0x20185d,_0x5c797b);});if(_0x215bac)_0x3c490e[_0x22e457(0x8a)]();if(_0x215bac&&_0x2df8ac&&!_0x3e9c78){const _0x2c9d5c=getSheetID();if(_0x2c9d5c=='')return;let _0x2fe51c=_0x41e202?(await getGroups())[_0x22e457(0x86)](_0x4cc0ac=>_0x4cc0ac[_0x22e457(0x9b)]==_0x22321b)[0x0][_0x22e457(0x9d)]:_0x22e457(0x8d),_0x212896=renderKeywords(_0x5e7c3d[_0x22e457(0x8f)]),_0x33f0de=_0x32dd3b['hasMedia']?await storeMedia(_0x32dd3b,_0x4eb734):'';const _0x560525=[_0x2db724,_0x4eb734,_0x2fe51c,_0x20185d,_0x33f0de,_0x5e7c3d[_0x22e457(0x9d)],_0x212896];terminal[_0x22e457(0xb0)](_0x22e457(0xa8)+_0x2fe51c+'-'+_0x4eb734+'=>'+_0x32dd3b[_0x22e457(0x89)]);const _0x38bf1e=_0x5e7c3d[_0x22e457(0xb6)][_0x22e457(0x97)];try{Gsheet['addMatch'](_0x38bf1e,_0x560525);}catch(_0x5cdb1f){terminal[_0x22e457(0xac)](_0x22e457(0x9a)+_0x5cdb1f);}if(_0x5e7c3d[_0x22e457(0xbd)]&&_0x41e202)_0x32dd3b[_0x22e457(0xbd)](_0x5e7c3d[_0x22e457(0xbd)]);if(_0x5e7c3d['replyprivate'])client[_0x22e457(0x95)](_0x4eb734+_0x22e457(0xa0),_0x5e7c3d[_0x22e457(0xa6)]);let _0x328eeb=messageBuffer[_0x22e457(0xbc)];_0x328eeb>messageBufferMAXLENGTH&&messageBuffer[_0x22e457(0x7d)](0x0,_0x328eeb-messageBufferMAXLENGTH),global['messageBuffer'][_0x22e457(0x8e)]({'message':_0x20185d,'phone':_0x4eb734});}}};module['exports']={'receivedmsgHandler':receivedmsgHandler};function a8_0x448c(){const _0x4995e6=['../config','from','replyprivate','map','[MATCH!]\x20','getChats','1084740emjYwY','3wNsSeM','red','./controlMsgHandler','toLocaleDateString','split','logger','every','Gdrive','[FILTERED\x20WORD!]\x20','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','_serialized','gsheet','isGroup','body','1683TMoqlK','toLocaleTimeString','629616RUrdrg','length','reply','splice','55010MijgNS','createFile','webViewLink','getChat','18PqaKwd','GroupID','1129807zvMHpk','[REPEATED\x20MESSAGE!]\x20','filter','17856905MIAhCQ','isArray','type','sendSeen','[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet','data','Private','push','keywords','includes','conditions','downloadMedia','except','../util/files','sendMessage','phone','sheetId','2edtEvt','en-EG','[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','chatid','215894ucnfPb','name','../util/misc','allgroups','@c.us','5121640jrklPH','en-GB','some'];a8_0x448c=function(){return _0x4995e6;};return a8_0x448c();}